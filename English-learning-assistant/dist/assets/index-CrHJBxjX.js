var H1=Object.defineProperty;var U1=(t,e,n)=>e in t?H1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>U1(t,typeof e!="symbol"?e+"":e,n);function I1(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var r=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return t[a]}})}),n}var Gy={exports:{}},xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=Symbol.for("react.transitional.element"),F1=Symbol.for("react.fragment");function Qy(t,e,n){var a=null;if(n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:$1,type:t,key:a,ref:e!==void 0?e:null,props:n}}xd.Fragment=F1;xd.jsx=Qy;xd.jsxs=Qy;Gy.exports=xd;var p=Gy.exports,Xy={exports:{}},Q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.transitional.element"),q1=Symbol.for("react.portal"),V1=Symbol.for("react.fragment"),W1=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),G1=Symbol.for("react.consumer"),Q1=Symbol.for("react.context"),X1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Z1=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),eD=Symbol.for("react.activity"),Vm=Symbol.iterator;function tD(t){return t===null||typeof t!="object"?null:(t=Vm&&t[Vm]||t["@@iterator"],typeof t=="function"?t:null)}var Zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e_=Object.assign,t_={};function $s(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Zy}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n_(){}n_.prototype=$s.prototype;function eg(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Zy}var tg=eg.prototype=new n_;tg.constructor=eg;e_(tg,$s.prototype);tg.isPureReactComponent=!0;var Wm=Array.isArray;function Ef(){}var je={H:null,A:null,T:null,S:null},a_=Object.prototype.hasOwnProperty;function ng(t,e,n){var a=n.ref;return{$$typeof:Zp,type:t,key:e,ref:a!==void 0?a:null,props:n}}function nD(t,e){return ng(t.type,e,t.props)}function ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zp}function aD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Km=/\/+/g;function lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aD(""+t.key):e.toString(36)}function rD(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Ef,Ef):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function qi(t,e,n,a,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Zp:case q1:s=!0;break;case Jy:return s=t._init,qi(s(t._payload),e,n,a,r)}}if(s)return r=r(t),s=a===""?"."+lh(t,0):a,Wm(r)?(n="",s!=null&&(n=s.replace(Km,"$&/")+"/"),qi(r,e,n,"",function(c){return c})):r!=null&&(ag(r)&&(r=nD(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Km,"$&/")+"/")+s)),e.push(r)),1;s=0;var o=a===""?".":a+":";if(Wm(t))for(var l=0;l<t.length;l++)a=t[l],i=o+lh(a,l),s+=qi(a,e,n,i,r);else if(l=tD(t),typeof l=="function")for(t=l.call(t),l=0;!(a=t.next()).done;)a=a.value,i=o+lh(a,l++),s+=qi(a,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return qi(rD(t),e,n,a,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function tc(t,e,n){if(t==null)return t;var a=[],r=0;return qi(t,a,"","",function(i){return e.call(n,i,r++)}),a}function iD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},sD={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Activity=eD;Q.Children=sD;Q.Component=$s;Q.Fragment=V1;Q.Profiler=K1;Q.PureComponent=eg;Q.StrictMode=W1;Q.Suspense=J1;Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je;Q.__COMPILER_RUNTIME={__proto__:null,c:function(t){return je.H.useMemoCache(t)}};Q.cache=function(t){return function(){return t.apply(null,arguments)}};Q.cacheSignal=function(){return null};Q.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var a=e_({},t.props),r=t.key;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)!a_.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(a[i]=e[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];a.children=s}return ng(t.type,r,a)};Q.createContext=function(t){return t={$$typeof:Q1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:G1,_context:t},t};Q.createElement=function(t,e,n){var a,r={},i=null;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)a_.call(e,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=e[a]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(a in s=t.defaultProps,s)r[a]===void 0&&(r[a]=s[a]);return ng(t,i,r)};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:X1,render:t}};Q.isValidElement=ag;Q.lazy=function(t){return{$$typeof:Jy,_payload:{_status:-1,_result:t},_init:iD}};Q.memo=function(t,e){return{$$typeof:Z1,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=je.T,n={};je.T=n;try{var a=t(),r=je.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Ef,Gm)}catch(i){Gm(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),je.T=e}};Q.unstable_useCacheRefresh=function(){return je.H.useCacheRefresh()};Q.use=function(t){return je.H.use(t)};Q.useActionState=function(t,e,n){return je.H.useActionState(t,e,n)};Q.useCallback=function(t,e){return je.H.useCallback(t,e)};Q.useContext=function(t){return je.H.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t,e){return je.H.useDeferredValue(t,e)};Q.useEffect=function(t,e){return je.H.useEffect(t,e)};Q.useEffectEvent=function(t){return je.H.useEffectEvent(t)};Q.useId=function(){return je.H.useId()};Q.useImperativeHandle=function(t,e,n){return je.H.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return je.H.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return je.H.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return je.H.useMemo(t,e)};Q.useOptimistic=function(t,e){return je.H.useOptimistic(t,e)};Q.useReducer=function(t,e,n){return je.H.useReducer(t,e,n)};Q.useRef=function(t){return je.H.useRef(t)};Q.useState=function(t){return je.H.useState(t)};Q.useSyncExternalStore=function(t,e,n){return je.H.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return je.H.useTransition()};Q.version="19.2.0";Xy.exports=Q;var w=Xy.exports;const j=Jp(w),r_=I1({__proto__:null,default:j},[w]);var i_={exports:{}},wd={},s_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,A){var N=O.length;O.push(A);e:for(;0<N;){var B=N-1>>>1,I=O[B];if(0<r(I,A))O[B]=A,O[N]=I,N=B;else break e}}function n(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var A=O[0],N=O.pop();if(N!==A){O[0]=N;e:for(var B=0,I=O.length,q=I>>>1;B<q;){var Te=2*(B+1)-1,ge=O[Te],de=Te+1,ze=O[de];if(0>r(ge,N))de<I&&0>r(ze,ge)?(O[B]=ze,O[de]=N,B=de):(O[B]=ge,O[Te]=N,B=Te);else if(de<I&&0>r(ze,N))O[B]=ze,O[de]=N,B=de;else break e}}return A}function r(O,A){var N=O.sortIndex-A.sortIndex;return N!==0?N:O.id-A.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,v=!1,y=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function x(O){for(var A=n(c);A!==null;){if(A.callback===null)a(c);else if(A.startTime<=O)a(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function D(O){if(y=!1,x(O),!v)if(n(l)!==null)v=!0,k||(k=!0,C());else{var A=n(c);A!==null&&U(D,A.startTime-O)}}var k=!1,S=-1,E=5,T=-1;function R(){return _?!0:!(t.unstable_now()-T<E)}function M(){if(_=!1,k){var O=t.unstable_now();T=O;var A=!0;try{e:{v=!1,y&&(y=!1,m(S),S=-1),f=!0;var N=h;try{t:{for(x(O),d=n(l);d!==null&&!(d.expirationTime>O&&R());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var I=B(d.expirationTime<=O);if(O=t.unstable_now(),typeof I=="function"){d.callback=I,x(O),A=!0;break t}d===n(l)&&a(l),x(O)}else a(l);d=n(l)}if(d!==null)A=!0;else{var q=n(c);q!==null&&U(D,q.startTime-O),A=!1}}break e}finally{d=null,h=N,f=!1}A=void 0}}finally{A?C():k=!1}}}var C;if(typeof b=="function")C=function(){b(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=M,C=function(){H.postMessage(null)}}else C=function(){g(M,0)};function U(O,A){S=g(function(){O(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var N=h;h=A;try{return O()}finally{h=N}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(O,A){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=h;h=O;try{return A()}finally{h=N}},t.unstable_scheduleCallback=function(O,A,N){var B=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?B+N:B):N=B,O){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=N+I,O={id:u++,callback:A,priorityLevel:O,startTime:N,expirationTime:I,sortIndex:-1},N>B?(O.sortIndex=N,e(c,O),n(l)===null&&O===n(c)&&(y?(m(S),S=-1):y=!0,U(D,N-B))):(O.sortIndex=I,e(l,O),v||f||(v=!0,k||(k=!0,C()))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var A=h;return function(){var N=h;h=A;try{return O.apply(this,arguments)}finally{h=N}}}})(o_);s_.exports=o_;var oD=s_.exports,l_={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD=w;function c_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ka(){}var Ct={d:{f:Ka,r:function(){throw Error(c_(522))},D:Ka,C:Ka,L:Ka,m:Ka,X:Ka,S:Ka,M:Ka},p:0,findDOMNode:null},cD=Symbol.for("react.portal");function uD(t,e,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cD,key:a==null?null:""+a,children:t,containerInfo:e,implementation:n}}var Po=lD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(c_(299));return uD(t,e,null,n)};Ot.flushSync=function(t){var e=Po.T,n=Ct.p;try{if(Po.T=null,Ct.p=2,t)return t()}finally{Po.T=e,Ct.p=n,Ct.d.f()}};Ot.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ct.d.C(t,e))};Ot.prefetchDNS=function(t){typeof t=="string"&&Ct.d.D(t)};Ot.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,a=Sd(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ct.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:i}):n==="script"&&Ct.d.X(t,{crossOrigin:a,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ot.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Sd(e.as,e.crossOrigin);Ct.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ct.d.M(t)};Ot.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,a=Sd(n,e.crossOrigin);Ct.d.L(t,n,{crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ot.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Sd(e.as,e.crossOrigin);Ct.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ct.d.m(t)};Ot.requestFormReset=function(t){Ct.d.r(t)};Ot.unstable_batchedUpdates=function(t,e){return t(e)};Ot.useFormState=function(t,e,n){return Po.H.useFormState(t,e,n)};Ot.useFormStatus=function(){return Po.H.useHostTransitionStatus()};Ot.version="19.2.0";function u_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u_)}catch(t){console.error(t)}}u_(),l_.exports=Ot;var rg=l_.exports;const dD=Jp(rg);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=oD,d_=w,hD=rg;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qm(t){if(Ml(t)!==t)throw Error(z(188))}function fD(t){var e=t.alternate;if(!e){if(e=Ml(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,a=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qm(r),t;if(i===a)return Qm(r),e;i=i.sibling}throw Error(z(188))}if(n.return!==a.return)n=r,a=i;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,a=i;break}if(o===a){s=!0,a=r,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,a=r;break}if(o===a){s=!0,a=i,n=r;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==a)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function g_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g_(t),e!==null)return e;t=t.sibling}return null}var Pe=Object.assign,pD=Symbol.for("react.element"),nc=Symbol.for("react.transitional.element"),Do=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),b_=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Mf=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),Of=Symbol.for("react.activity"),gD=Symbol.for("react.memo_cache_sentinel"),Xm=Symbol.iterator;function io(t){return t===null||typeof t!="object"?null:(t=Xm&&t[Xm]||t["@@iterator"],typeof t=="function"?t:null)}var mD=Symbol.for("react.client.reference");function Af(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===mD?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Cf:return"Profiler";case m_:return"StrictMode";case Tf:return"Suspense";case Mf:return"SuspenseList";case Of:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Do:return"Portal";case wa:return t.displayName||"Context";case b_:return(t._context.displayName||"Context")+".Consumer";case ig:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sg:return e=t.displayName||null,e!==null?e:Af(t.type)||"Memo";case Za:e=t._payload,t=t._init;try{return Af(t(e))}catch{}}return null}var Eo=Array.isArray,K=d_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=hD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oi={pending:!1,data:null,method:null,action:null},Rf=[],Ji=-1;function aa(t){return{current:t}}function ht(t){0>Ji||(t.current=Rf[Ji],Rf[Ji]=null,Ji--)}function Ae(t,e){Ji++,Rf[Ji]=t.current,t.current=e}var Jn=aa(null),sl=aa(null),pr=aa(null),vu=aa(null);function yu(t,e){switch(Ae(pr,e),Ae(sl,t),Ae(Jn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ab(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ab(e),t=zw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ht(Jn),Ae(Jn,t)}function Ss(){ht(Jn),ht(sl),ht(pr)}function Nf(t){t.memoizedState!==null&&Ae(vu,t);var e=Jn.current,n=zw(e,t.type);e!==n&&(Ae(sl,t),Ae(Jn,n))}function _u(t){sl.current===t&&(ht(Jn),ht(sl)),vu.current===t&&(ht(vu),bl._currentValue=oi)}var ch,Jm;function Wr(t){if(ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ch=e&&e[1]||"",Jm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ch+t+Jm}var uh=!1;function dh(t,e){if(!t||uh)return"";uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var h=f}Reflect.construct(t,[],d)}else{try{d.call()}catch(f){h=f}t.call(d.prototype)}}else{try{throw Error()}catch(f){h=f}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(r=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===l.length||r===c.length)for(a=l.length-1,r=c.length-1;1<=a&&0<=r&&l[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(l[a]!==c[r]){if(a!==1||r!==1)do if(a--,r--,0>r||l[a]!==c[r]){var u=`
`+l[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=r);break}}}finally{uh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Wr(n):""}function bD(t,e){switch(t.tag){case 26:case 27:case 5:return Wr(t.type);case 16:return Wr("Lazy");case 13:return t.child!==e&&e!==null?Wr("Suspense Fallback"):Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return dh(t.type,!1);case 11:return dh(t.type.render,!1);case 1:return dh(t.type,!0);case 31:return Wr("Activity");default:return""}}function Zm(t){try{var e="",n=null;do e+=bD(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var jf=Object.prototype.hasOwnProperty,og=ct.unstable_scheduleCallback,hh=ct.unstable_cancelCallback,vD=ct.unstable_shouldYield,yD=ct.unstable_requestPaint,Jt=ct.unstable_now,_D=ct.unstable_getCurrentPriorityLevel,v_=ct.unstable_ImmediatePriority,y_=ct.unstable_UserBlockingPriority,xu=ct.unstable_NormalPriority,xD=ct.unstable_LowPriority,__=ct.unstable_IdlePriority,wD=ct.log,SD=ct.unstable_setDisableYieldValue,Ol=null,Zt=null;function sr(t){if(typeof wD=="function"&&SD(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ol,t)}catch{}}var en=Math.clz32?Math.clz32:ED,kD=Math.log,DD=Math.LN2;function ED(t){return t>>>=0,t===0?32:31-(kD(t)/DD|0)|0}var ac=256,rc=262144,ic=4194304;function Kr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kd(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=a&134217727;return o!==0?(a=o&~i,a!==0?r=Kr(a):(s&=o,s!==0?r=Kr(s):n||(n=o&~t,n!==0&&(r=Kr(n))))):(o=a&~i,o!==0?r=Kr(o):s!==0?r=Kr(s):n||(n=a&~t,n!==0&&(r=Kr(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Al(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function CD(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x_(){var t=ic;return ic<<=1,!(ic&62914560)&&(ic=4194304),t}function fh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function TD(t,e,n,a,r,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-en(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];f!==null&&(f.lane&=-536870913)}n&=~d}a!==0&&w_(t,a,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function w_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-en(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function S_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-en(n),r=1<<a;r&e|t[a]&e&&(t[a]|=e),n&=~r}}function k_(t,e){var n=e&-e;return n=n&42?1:lg(n),n&(t.suspendedLanes|e)?0:n}function lg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function D_(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:Kw(t.type))}function e0(t,e){var n=fe.p;try{return fe.p=t,e()}finally{fe.p=n}}var jr=Math.random().toString(36).slice(2),pt="__reactFiber$"+jr,Yt="__reactProps$"+jr,Fs="__reactContainer$"+jr,Lf="__reactEvents$"+jr,MD="__reactListeners$"+jr,OD="__reactHandles$"+jr,t0="__reactResources$"+jr,Nl="__reactMarker$"+jr;function ug(t){delete t[pt],delete t[Yt],delete t[Lf],delete t[MD],delete t[OD]}function Zi(t){var e=t[pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fs]||n[pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lb(t);t!==null;){if(n=t[pt])return n;t=lb(t)}return e}t=n,n=t.parentNode}return null}function qs(t){if(t=t[pt]||t[Fs]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Co(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function us(t){var e=t[t0];return e||(e=t[t0]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dt(t){t[Nl]=!0}var E_=new Set,C_={};function Di(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(C_[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var AD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n0={},a0={};function RD(t){return jf.call(a0,t)?!0:jf.call(n0,t)?!1:AD.test(t)?a0[t]=!0:(n0[t]=!0,!1)}function Fc(t,e,n){if(RD(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function sc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ua(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ND(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pf(t){if(!t._valueTracker){var e=T_(t)?"checked":"value";t._valueTracker=ND(t,e,""+t[e])}}function M_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=T_(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jD=/[\n"\\]/g;function gn(t){return t.replace(jD,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function zf(t,e,n,a,r,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+dn(e)):t.value!==""+dn(e)&&(t.value=""+dn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Bf(t,s,dn(e)):n!=null?Bf(t,s,dn(n)):a!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+dn(o):t.removeAttribute("name")}function O_(t,e,n,a,r,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){Pf(t);return}n=n!=null?""+dn(n):"",e=e!=null?""+dn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=o?t.checked:!!a,t.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),Pf(t)}function Bf(t,e,n){e==="number"&&wu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ds(t,e,n,a){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&a&&(t[n].defaultSelected=!0)}else{for(n=""+dn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,a&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function A_(t,e,n){if(e!=null&&(e=""+dn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+dn(n):""}function R_(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(z(92));if(Eo(a)){if(1<a.length)throw Error(z(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=dn(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Pf(t)}function Ds(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var LD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function r0(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||LD.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function N_(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var r in e)a=e[r],e.hasOwnProperty(r)&&n[r]!==a&&r0(t,r,a)}else for(var i in e)e.hasOwnProperty(i)&&r0(t,i,e[i])}function dg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qc(t){return zD.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sa(){}var Hf=null;function hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var es=null,hs=null;function i0(t){var e=qs(t);if(e&&(t=e.stateNode)){var n=t[Yt]||null;e:switch(t=e.stateNode,e.type){case"input":if(zf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var r=a[Yt]||null;if(!r)throw Error(z(90));zf(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&M_(a)}break e;case"textarea":A_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}}}var ph=!1;function j_(t,e,n){if(ph)return t(e,n);ph=!0;try{var a=t(e);return a}finally{if(ph=!1,(es!==null||hs!==null)&&(Pd(),es&&(e=es,t=hs,hs=es=null,i0(e),t)))for(e=0;e<t.length;e++)i0(t[e])}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Yt]||null;if(a===null)return null;n=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uf=!1;if(za)try{var so={};Object.defineProperty(so,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Uf=!1}var or=null,fg=null,Vc=null;function L_(){if(Vc)return Vc;var t,e=fg,n=e.length,a,r="value"in or?or.value:or.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(a=1;a<=s&&e[n-a]===r[i-a];a++);return Vc=r.slice(t,1<a?1-a:void 0)}function Wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function s0(){return!1}function $t(t){function e(n,a,r,i,s){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oc:s0,this.isPropagationStopped=s0,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=$t(Ei),jl=Pe({},Ei,{view:0,detail:0}),BD=$t(jl),gh,mh,oo,Ed=Pe({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(gh=t.screenX-oo.screenX,mh=t.screenY-oo.screenY):mh=gh=0,oo=t),gh)},movementY:function(t){return"movementY"in t?t.movementY:mh}}),o0=$t(Ed),HD=Pe({},Ed,{dataTransfer:0}),UD=$t(HD),ID=Pe({},jl,{relatedTarget:0}),bh=$t(ID),YD=Pe({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),$D=$t(YD),FD=Pe({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qD=$t(FD),VD=Pe({},Ei,{data:0}),l0=$t(VD),WD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GD[t])?!!e[t]:!1}function pg(){return QD}var XD=Pe({},jl,{key:function(t){if(t.key){var e=WD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pg,charCode:function(t){return t.type==="keypress"?Wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JD=$t(XD),ZD=Pe({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=$t(ZD),eE=Pe({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pg}),tE=$t(eE),nE=Pe({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),aE=$t(nE),rE=Pe({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iE=$t(rE),sE=Pe({},Ei,{newState:0,oldState:0}),oE=$t(sE),lE=[9,13,27,32],gg=za&&"CompositionEvent"in window,zo=null;za&&"documentMode"in document&&(zo=document.documentMode);var cE=za&&"TextEvent"in window&&!zo,P_=za&&(!gg||zo&&8<zo&&11>=zo),u0=" ",d0=!1;function z_(t,e){switch(t){case"keyup":return lE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function uE(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:(d0=!0,u0);case"textInput":return t=e.data,t===u0&&d0?null:t;default:return null}}function dE(t,e){if(ts)return t==="compositionend"||!gg&&z_(t,e)?(t=L_(),Vc=fg=or=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P_&&e.locale!=="ko"?null:e.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hE[t.type]:e==="textarea"}function H_(t,e,n,a){es?hs?hs.push(a):hs=[a]:es=a,e=Uu(e,"onChange"),0<e.length&&(n=new Dd("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var Bo=null,ll=null;function fE(t){jw(t,0)}function Cd(t){var e=Co(t);if(M_(e))return t}function f0(t,e){if(t==="change")return e}var U_=!1;if(za){var vh;if(za){var yh="oninput"in document;if(!yh){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),yh=typeof p0.oninput=="function"}vh=yh}else vh=!1;U_=vh&&(!document.documentMode||9<document.documentMode)}function g0(){Bo&&(Bo.detachEvent("onpropertychange",I_),ll=Bo=null)}function I_(t){if(t.propertyName==="value"&&Cd(ll)){var e=[];H_(e,ll,t,hg(t)),j_(fE,e)}}function pE(t,e,n){t==="focusin"?(g0(),Bo=e,ll=n,Bo.attachEvent("onpropertychange",I_)):t==="focusout"&&g0()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cd(ll)}function mE(t,e){if(t==="click")return Cd(e)}function bE(t,e){if(t==="input"||t==="change")return Cd(e)}function vE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:vE;function cl(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!jf.call(e,r)||!an(t[r],e[r]))return!1}return!0}function m0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b0(t,e){var n=m0(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m0(n)}}function Y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=wu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wu(t.document)}return e}function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var yE=za&&"documentMode"in document&&11>=document.documentMode,ns=null,If=null,Ho=null,Yf=!1;function v0(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||ns==null||ns!==wu(a)||(a=ns,"selectionStart"in a&&mg(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ho&&cl(Ho,a)||(Ho=a,a=Uu(If,"onSelect"),0<a.length&&(e=new Dd("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=ns)))}function Ir(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var as={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},_h={},F_={};za&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Ci(t){if(_h[t])return _h[t];if(!as[t])return t;var e=as[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F_)return _h[t]=e[n];return t}var q_=Ci("animationend"),V_=Ci("animationiteration"),W_=Ci("animationstart"),_E=Ci("transitionrun"),xE=Ci("transitionstart"),wE=Ci("transitioncancel"),K_=Ci("transitionend"),G_=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function Nn(t,e){G_.set(t,e),Di(e,[t])}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},un=[],rs=0,bg=0;function Td(){for(var t=rs,e=bg=rs=0;e<t;){var n=un[e];un[e++]=null;var a=un[e];un[e++]=null;var r=un[e];un[e++]=null;var i=un[e];if(un[e++]=null,a!==null&&r!==null){var s=a.pending;s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r}i!==0&&Q_(n,r,i)}}function Md(t,e,n,a){un[rs++]=t,un[rs++]=e,un[rs++]=n,un[rs++]=a,bg|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function vg(t,e,n,a){return Md(t,e,n,a),ku(t)}function Ti(t,e){return Md(t,null,null,e),ku(t)}function Q_(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-en(n),t=i.hiddenUpdates,a=t[r],a===null?t[r]=[e]:a.push(e),e.lane=n|536870912),i):null}function ku(t){if(50<Ko)throw Ko=0,up=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var is={};function SE(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,a){return new SE(t,e,n,a)}function yg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ta(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function X_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Kc(t,e,n,a,r,i){var s=0;if(a=t,typeof t=="function")yg(t)&&(s=1);else if(typeof t=="string")s=TC(t,n,Jn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Of:return t=Qt(31,n,e,r),t.elementType=Of,t.lanes=i,t;case Xi:return li(n.children,r,i,e);case m_:s=8,r|=24;break;case Cf:return t=Qt(12,n,e,r|2),t.elementType=Cf,t.lanes=i,t;case Tf:return t=Qt(13,n,e,r),t.elementType=Tf,t.lanes=i,t;case Mf:return t=Qt(19,n,e,r),t.elementType=Mf,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wa:s=10;break e;case b_:s=9;break e;case ig:s=11;break e;case sg:s=14;break e;case Za:s=16,a=null;break e}s=29,n=Error(z(130,t===null?"null":typeof t,"")),a=null}return e=Qt(s,n,e,r),e.elementType=t,e.type=a,e.lanes=i,e}function li(t,e,n,a){return t=Qt(7,t,a,e),t.lanes=n,t}function xh(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function J_(t){var e=Qt(18,null,null,0);return e.stateNode=t,e}function wh(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var y0=new WeakMap;function mn(t,e){if(typeof t=="object"&&t!==null){var n=y0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Zm(e)},y0.set(t,e),e)}return{value:t,source:e,stack:Zm(e)}}var ss=[],os=0,Du=null,ul=0,hn=[],fn=0,Cr=null,Wn=1,Kn="";function ya(t,e){ss[os++]=ul,ss[os++]=Du,Du=t,ul=e}function Z_(t,e,n){hn[fn++]=Wn,hn[fn++]=Kn,hn[fn++]=Cr,Cr=t;var a=Wn;t=Kn;var r=32-en(a)-1;a&=~(1<<r),n+=1;var i=32-en(e)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Wn=1<<32-en(e)+r|n<<r|a,Kn=i+t}else Wn=1<<i|n<<r|a,Kn=t}function _g(t){t.return!==null&&(ya(t,1),Z_(t,1,0))}function xg(t){for(;t===Du;)Du=ss[--os],ss[os]=null,ul=ss[--os],ss[os]=null;for(;t===Cr;)Cr=hn[--fn],hn[fn]=null,Kn=hn[--fn],hn[fn]=null,Wn=hn[--fn],hn[fn]=null}function ex(t,e){hn[fn++]=Wn,hn[fn++]=Kn,hn[fn++]=Cr,Wn=e.id,Kn=e.overflow,Cr=t}var gt=null,Ne=null,se=!1,gr=null,bn=!1,Ff=Error(z(519));function Tr(t){var e=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(mn(e,t)),Ff}function _0(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[pt]=t,e[Yt]=a,n){case"dialog":ee("cancel",e),ee("close",e);break;case"iframe":case"object":case"embed":ee("load",e);break;case"video":case"audio":for(n=0;n<gl.length;n++)ee(gl[n],e);break;case"source":ee("error",e);break;case"img":case"image":case"link":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"input":ee("invalid",e),O_(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ee("invalid",e);break;case"textarea":ee("invalid",e),R_(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Pw(e.textContent,n)?(a.popover!=null&&(ee("beforetoggle",e),ee("toggle",e)),a.onScroll!=null&&ee("scroll",e),a.onScrollEnd!=null&&ee("scrollend",e),a.onClick!=null&&(e.onclick=Sa),e=!0):e=!1,e||Tr(t,!0)}function x0(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:gt=gt.return}}function ji(t){if(t!==gt)return!1;if(!se)return x0(t),se=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||gp(t.type,t.memoizedProps)),n=!n),n&&Ne&&Tr(t),x0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ne=ob(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ne=ob(t)}else e===27?(e=Ne,Lr(t.type)?(t=yp,yp=null,Ne=t):Ne=e):Ne=gt?_n(t.stateNode.nextSibling):null;return!0}function mi(){Ne=gt=null,se=!1}function Sh(){var t=gr;return t!==null&&(zt===null?zt=t:zt.push.apply(zt,t),gr=null),t}function dl(t){gr===null?gr=[t]:gr.push(t)}var qf=aa(null),Mi=null,ka=null;function tr(t,e,n){Ae(qf,e._currentValue),e._currentValue=n}function Ma(t){t._currentValue=qf.current,ht(qf)}function Vf(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Wf(t,e,n,a){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var s=r.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=r;for(var l=0;l<e.length;l++)if(o.context===e[l]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Vf(i.return,n,t),a||(s=null);break e}i=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(z(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Vf(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Vs(t,e,n,a){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=r.type;an(r.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(r===vu.current){if(s=r.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}r=r.return}t!==null&&Wf(e,t,n,a),e.flags|=262144}function Eu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bi(t){Mi=t,ka=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return tx(Mi,t)}function lc(t,e){return Mi===null&&bi(t),tx(t,e)}function tx(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ka===null){if(t===null)throw Error(z(308));ka=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ka=ka.next=e;return n}var kE=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},DE=ct.unstable_scheduleCallback,EE=ct.unstable_NormalPriority,nt={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wg(){return{controller:new kE,data:new Map,refCount:0}}function Ll(t){t.refCount--,t.refCount===0&&DE(EE,function(){t.controller.abort()})}var Uo=null,Kf=0,Es=0,fs=null;function CE(t,e){if(Uo===null){var n=Uo=[];Kf=0,Es=Wg(),fs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Kf++,e.then(w0,w0),e}function w0(){if(--Kf===0&&Uo!==null){fs!==null&&(fs.status="fulfilled");var t=Uo;Uo=null,Es=0,fs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function TE(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var S0=K.S;K.S=function(t,e){gw=Jt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&CE(t,e),S0!==null&&S0(t,e)};var ci=aa(null);function Sg(){var t=ci.current;return t!==null?t:Ce.pooledCache}function Gc(t,e){e===null?Ae(ci,ci.current):Ae(ci,e.pool)}function nx(){var t=Sg();return t===null?null:{parent:nt._currentValue,pool:t}}var Ws=Error(z(460)),kg=Error(z(474)),Od=Error(z(542)),Cu={then:function(){}};function k0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ax(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Sa,Sa),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,E0(t),t;default:if(typeof e.status=="string")e.then(Sa,Sa);else{if(t=Ce,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=a}},function(a){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,E0(t),t}throw ui=e,Ws}}function Gr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ui=n,Ws):n}}var ui=null;function D0(){if(ui===null)throw Error(z(459));var t=ui;return ui=null,t}function E0(t){if(t===Ws||t===Od)throw Error(z(483))}var ps=null,hl=0;function cc(t){var e=hl;return hl+=1,ps===null&&(ps=[]),ax(ps,t,e)}function lo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function uc(t,e){throw e.$$typeof===pD?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rx(t){function e(g,m){if(t){var b=g.deletions;b===null?(g.deletions=[m],g.flags|=16):b.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function a(g){for(var m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function r(g,m){return g=Ta(g,m),g.index=0,g.sibling=null,g}function i(g,m,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<m?(g.flags|=67108866,m):b):(g.flags|=67108866,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function o(g,m,b,x){return m===null||m.tag!==6?(m=xh(b,g.mode,x),m.return=g,m):(m=r(m,b),m.return=g,m)}function l(g,m,b,x){var D=b.type;return D===Xi?u(g,m,b.props.children,x,b.key):m!==null&&(m.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Za&&Gr(D)===m.type)?(m=r(m,b.props),lo(m,b),m.return=g,m):(m=Kc(b.type,b.key,b.props,null,g.mode,x),lo(m,b),m.return=g,m)}function c(g,m,b,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=wh(b,g.mode,x),m.return=g,m):(m=r(m,b.children||[]),m.return=g,m)}function u(g,m,b,x,D){return m===null||m.tag!==7?(m=li(b,g.mode,x,D),m.return=g,m):(m=r(m,b),m.return=g,m)}function d(g,m,b){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=xh(""+m,g.mode,b),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case nc:return b=Kc(m.type,m.key,m.props,null,g.mode,b),lo(b,m),b.return=g,b;case Do:return m=wh(m,g.mode,b),m.return=g,m;case Za:return m=Gr(m),d(g,m,b)}if(Eo(m)||io(m))return m=li(m,g.mode,b,null),m.return=g,m;if(typeof m.then=="function")return d(g,cc(m),b);if(m.$$typeof===wa)return d(g,lc(g,m),b);uc(g,m)}return null}function h(g,m,b,x){var D=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return D!==null?null:o(g,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:return b.key===D?l(g,m,b,x):null;case Do:return b.key===D?c(g,m,b,x):null;case Za:return b=Gr(b),h(g,m,b,x)}if(Eo(b)||io(b))return D!==null?null:u(g,m,b,x,null);if(typeof b.then=="function")return h(g,m,cc(b),x);if(b.$$typeof===wa)return h(g,m,lc(g,b),x);uc(g,b)}return null}function f(g,m,b,x,D){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return g=g.get(b)||null,o(m,g,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nc:return g=g.get(x.key===null?b:x.key)||null,l(m,g,x,D);case Do:return g=g.get(x.key===null?b:x.key)||null,c(m,g,x,D);case Za:return x=Gr(x),f(g,m,b,x,D)}if(Eo(x)||io(x))return g=g.get(b)||null,u(m,g,x,D,null);if(typeof x.then=="function")return f(g,m,b,cc(x),D);if(x.$$typeof===wa)return f(g,m,b,lc(m,x),D);uc(m,x)}return null}function v(g,m,b,x){for(var D=null,k=null,S=m,E=m=0,T=null;S!==null&&E<b.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var R=h(g,S,b[E],x);if(R===null){S===null&&(S=T);break}t&&S&&R.alternate===null&&e(g,S),m=i(R,m,E),k===null?D=R:k.sibling=R,k=R,S=T}if(E===b.length)return n(g,S),se&&ya(g,E),D;if(S===null){for(;E<b.length;E++)S=d(g,b[E],x),S!==null&&(m=i(S,m,E),k===null?D=S:k.sibling=S,k=S);return se&&ya(g,E),D}for(S=a(S);E<b.length;E++)T=f(S,g,E,b[E],x),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),m=i(T,m,E),k===null?D=T:k.sibling=T,k=T);return t&&S.forEach(function(M){return e(g,M)}),se&&ya(g,E),D}function y(g,m,b,x){if(b==null)throw Error(z(151));for(var D=null,k=null,S=m,E=m=0,T=null,R=b.next();S!==null&&!R.done;E++,R=b.next()){S.index>E?(T=S,S=null):T=S.sibling;var M=h(g,S,R.value,x);if(M===null){S===null&&(S=T);break}t&&S&&M.alternate===null&&e(g,S),m=i(M,m,E),k===null?D=M:k.sibling=M,k=M,S=T}if(R.done)return n(g,S),se&&ya(g,E),D;if(S===null){for(;!R.done;E++,R=b.next())R=d(g,R.value,x),R!==null&&(m=i(R,m,E),k===null?D=R:k.sibling=R,k=R);return se&&ya(g,E),D}for(S=a(S);!R.done;E++,R=b.next())R=f(S,g,E,R.value,x),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=i(R,m,E),k===null?D=R:k.sibling=R,k=R);return t&&S.forEach(function(C){return e(g,C)}),se&&ya(g,E),D}function _(g,m,b,x){if(typeof b=="object"&&b!==null&&b.type===Xi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:e:{for(var D=b.key;m!==null;){if(m.key===D){if(D=b.type,D===Xi){if(m.tag===7){n(g,m.sibling),x=r(m,b.props.children),x.return=g,g=x;break e}}else if(m.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Za&&Gr(D)===m.type){n(g,m.sibling),x=r(m,b.props),lo(x,b),x.return=g,g=x;break e}n(g,m);break}else e(g,m);m=m.sibling}b.type===Xi?(x=li(b.props.children,g.mode,x,b.key),x.return=g,g=x):(x=Kc(b.type,b.key,b.props,null,g.mode,x),lo(x,b),x.return=g,g=x)}return s(g);case Do:e:{for(D=b.key;m!==null;){if(m.key===D)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){n(g,m.sibling),x=r(m,b.children||[]),x.return=g,g=x;break e}else{n(g,m);break}else e(g,m);m=m.sibling}x=wh(b,g.mode,x),x.return=g,g=x}return s(g);case Za:return b=Gr(b),_(g,m,b,x)}if(Eo(b))return v(g,m,b,x);if(io(b)){if(D=io(b),typeof D!="function")throw Error(z(150));return b=D.call(b),y(g,m,b,x)}if(typeof b.then=="function")return _(g,m,cc(b),x);if(b.$$typeof===wa)return _(g,m,lc(g,b),x);uc(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,m!==null&&m.tag===6?(n(g,m.sibling),x=r(m,b),x.return=g,g=x):(n(g,m),x=xh(b,g.mode,x),x.return=g,g=x),s(g)):n(g,m)}return function(g,m,b,x){try{hl=0;var D=_(g,m,b,x);return ps=null,D}catch(S){if(S===Ws||S===Od)throw S;var k=Qt(29,S,null,g.mode);return k.lanes=x,k.return=g,k}finally{}}}var vi=rx(!0),ix=rx(!1),er=!1;function Dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,he&2){var r=a.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),a.pending=e,e=ku(t),Q_(t,null,n),e}return Md(t,a,e,n),ku(t)}function Io(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,S_(t,n)}}function kh(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Qf=!1;function Yo(){if(Qf){var t=fs;if(t!==null)throw t}}function $o(t,e,n,a){Qf=!1;var r=t.updateQueue;er=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=r.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane&-536870913,f=h!==o.lane;if(f?(re&h)===h:(a&h)===h){h!==0&&h===Es&&(Qf=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=t,y=o;h=e;var _=n;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(_,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(_,d,h):v,h==null)break e;d=Pe({},d,h);break e;case 2:er=!0}}h=o.callback,h!==null&&(t.flags|=64,f&&(t.flags|=8192),f=r.callbacks,f===null?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,i===null&&(r.shared.lanes=0),Or|=s,t.lanes=s,t.memoizedState=d}}function sx(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function ox(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)sx(n[t],e)}var Cs=aa(null),Tu=aa(0);function C0(t,e){t=Ia,Ae(Tu,t),Ae(Cs,e),Ia=t|e.baseLanes}function Xf(){Ae(Tu,Ia),Ae(Cs,Cs.current)}function Eg(){Ia=Tu.current,ht(Cs),ht(Tu)}var rn=aa(null),yn=null;function nr(t){var e=t.alternate;Ae(We,We.current&1),Ae(rn,t),yn===null&&(e===null||Cs.current!==null||e.memoizedState!==null)&&(yn=t)}function Jf(t){Ae(We,We.current),Ae(rn,t),yn===null&&(yn=t)}function lx(t){t.tag===22?(Ae(We,We.current),Ae(rn,t),yn===null&&(yn=t)):ar()}function ar(){Ae(We,We.current),Ae(rn,rn.current)}function Gt(t){ht(rn),yn===t&&(yn=null),ht(We)}var We=aa(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||bp(n)||vp(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ba=0,X=null,ke=null,et=null,Ou=!1,gs=!1,yi=!1,Au=0,fl=0,ms=null,ME=0;function $e(){throw Error(z(321))}function Cg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!an(t[n],e[n]))return!1;return!0}function Tg(t,e,n,a,r,i){return Ba=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K.H=t===null||t.memoizedState===null?Hx:Hg,yi=!1,i=n(a,r),yi=!1,gs&&(i=ux(e,n,a,r)),cx(t),i}function cx(t){K.H=pl;var e=ke!==null&&ke.next!==null;if(Ba=0,et=ke=X=null,Ou=!1,fl=0,ms=null,e)throw Error(z(300));t===null||rt||(t=t.dependencies,t!==null&&Eu(t)&&(rt=!0))}function ux(t,e,n,a){X=t;var r=0;do{if(gs&&(ms=null),fl=0,gs=!1,25<=r)throw Error(z(301));if(r+=1,et=ke=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}K.H=Ux,i=e(n,a)}while(gs);return i}function OE(){var t=K.H,e=t.useState()[0];return e=typeof e.then=="function"?Pl(e):e,t=t.useState()[0],(ke!==null?ke.memoizedState:null)!==t&&(X.flags|=1024),e}function Mg(){var t=Au!==0;return Au=0,t}function Og(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ag(t){if(Ou){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ou=!1}Ba=0,et=ke=X=null,gs=!1,fl=Au=0,ms=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?X.memoizedState=et=t:et=et.next=t,et}function Qe(){if(ke===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=et===null?X.memoizedState:et.next;if(e!==null)et=e,ke=t;else{if(t===null)throw X.alternate===null?Error(z(467)):Error(z(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},et===null?X.memoizedState=et=t:et=et.next=t}return et}function Ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(t){var e=fl;return fl+=1,ms===null&&(ms=[]),t=ax(ms,t,e),e=X,(et===null?e.memoizedState:et.next)===null&&(e=e.alternate,K.H=e===null||e.memoizedState===null?Hx:Hg),t}function Rd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pl(t);if(t.$$typeof===wa)return mt(t)}throw Error(z(438,String(t)))}function Rg(t){var e=null,n=X.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=X.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ad(),X.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=gD;return e.index++,n}function Ha(t,e){return typeof e=="function"?e(t):e}function Qc(t){var e=Qe();return Ng(e,ke,t)}function Ng(t,e,n){var a=t.queue;if(a===null)throw Error(z(311));a.lastRenderedReducer=n;var r=t.baseQueue,i=a.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}e.baseQueue=r=i,a.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var o=s=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(re&d)===d:(Ba&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Es&&(u=!0);else if((Ba&h)===h){c=c.next,h===Es&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=i):l=l.next=d,X.lanes|=h,Or|=h;d=c.action,yi&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else h={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,s=i):l=l.next=h,X.lanes|=d,Or|=d;c=c.next}while(c!==null&&c!==e);if(l===null?s=i:l.next=o,!an(i,t.memoizedState)&&(rt=!0,u&&(n=fs,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=l,a.lastRenderedState=i}return r===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Dh(t){var e=Qe(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var a=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);an(i,e.memoizedState)||(rt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,a]}function dx(t,e,n){var a=X,r=Qe(),i=se;if(i){if(n===void 0)throw Error(z(407));n=n()}else n=e();var s=!an((ke||r).memoizedState,n);if(s&&(r.memoizedState=n,rt=!0),r=r.queue,jg(px.bind(null,a,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(a.flags|=2048,Ts(9,{destroy:void 0},fx.bind(null,a,r,n,e),null),Ce===null)throw Error(z(349));i||Ba&127||hx(a,e,n)}return n}function hx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e=Ad(),X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fx(t,e,n,a){e.value=n,e.getSnapshot=a,gx(e)&&mx(t)}function px(t,e,n){return n(function(){gx(e)&&mx(t)})}function gx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!an(t,n)}catch{return!0}}function mx(t){var e=Ti(t,2);e!==null&&It(e,t,2)}function Zf(t){var e=Dt();if(typeof t=="function"){var n=t;if(t=n(),yi){sr(!0);try{n()}finally{sr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e}function bx(t,e,n,a){return t.baseState=n,Ng(t,ke,typeof a=="function"?a:Ha)}function AE(t,e,n,a,r){if(jd(t))throw Error(z(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};K.T!==null?n(!0):i.isTransition=!1,a(i),n=e.pending,n===null?(i.next=e.pending=i,vx(e,i)):(i.next=n.next,e.pending=n.next=i)}}function vx(t,e){var n=e.action,a=e.payload,r=t.state;if(e.isTransition){var i=K.T,s={};K.T=s;try{var o=n(r,a),l=K.S;l!==null&&l(s,o),T0(t,e,o)}catch(c){ep(t,e,c)}finally{i!==null&&s.types!==null&&(i.types=s.types),K.T=i}}else try{i=n(r,a),T0(t,e,i)}catch(c){ep(t,e,c)}}function T0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){M0(t,e,a)},function(a){return ep(t,e,a)}):M0(t,e,n)}function M0(t,e,n){e.status="fulfilled",e.value=n,yx(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,vx(t,n)))}function ep(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,yx(e),e=e.next;while(e!==a)}t.action=null}function yx(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function _x(t,e){return e}function O0(t,e){if(se){var n=Ce.formState;if(n!==null){e:{var a=X;if(se){if(Ne){t:{for(var r=Ne,i=bn;r.nodeType!==8;){if(!i){r=null;break t}if(r=_n(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){Ne=_n(r.nextSibling),a=r.data==="F!";break e}}Tr(a)}a=!1}a&&(e=n[0])}}return n=Dt(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_x,lastRenderedState:e},n.queue=a,n=Px.bind(null,X,a),a.dispatch=n,a=Zf(!1),i=Bg.bind(null,X,!1,a.queue),a=Dt(),r={state:e,dispatch:null,action:t,pending:null},a.queue=r,n=AE.bind(null,X,r,i,n),r.dispatch=n,a.memoizedState=t,[e,n,!1]}function A0(t){var e=Qe();return xx(e,ke,t)}function xx(t,e,n){if(e=Ng(t,e,_x)[0],t=Qc(Ha)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Pl(e)}catch(s){throw s===Ws?Od:s}else a=e;e=Qe();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(X.flags|=2048,Ts(9,{destroy:void 0},RE.bind(null,r,n),null)),[a,i,t]}function RE(t,e){t.action=e}function R0(t){var e=Qe(),n=ke;if(n!==null)return xx(e,n,t);Qe(),e=e.memoizedState,n=Qe();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Ts(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=X.updateQueue,e===null&&(e=Ad(),X.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function wx(){return Qe().memoizedState}function Xc(t,e,n,a){var r=Dt();X.flags|=t,r.memoizedState=Ts(1|e,{destroy:void 0},n,a===void 0?null:a)}function Nd(t,e,n,a){var r=Qe();a=a===void 0?null:a;var i=r.memoizedState.inst;ke!==null&&a!==null&&Cg(a,ke.memoizedState.deps)?r.memoizedState=Ts(e,i,n,a):(X.flags|=t,r.memoizedState=Ts(1|e,i,n,a))}function N0(t,e){Xc(8390656,8,t,e)}function jg(t,e){Nd(2048,8,t,e)}function NE(t){X.flags|=4;var e=X.updateQueue;if(e===null)e=Ad(),X.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Sx(t){var e=Qe().memoizedState;return NE({ref:e,nextImpl:t}),function(){if(he&2)throw Error(z(440));return e.impl.apply(void 0,arguments)}}function kx(t,e){return Nd(4,2,t,e)}function Dx(t,e){return Nd(4,4,t,e)}function Ex(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cx(t,e,n){n=n!=null?n.concat([t]):null,Nd(4,4,Ex.bind(null,e,t),n)}function Lg(){}function Tx(t,e){var n=Qe();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Cg(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function Mx(t,e){var n=Qe();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Cg(e,a[1]))return a[0];if(a=t(),yi){sr(!0);try{t()}finally{sr(!1)}}return n.memoizedState=[a,e],a}function Pg(t,e,n){return n===void 0||Ba&1073741824&&!(re&261930)?t.memoizedState=e:(t.memoizedState=n,t=bw(),X.lanes|=t,Or|=t,n)}function Ox(t,e,n,a){return an(n,e)?n:Cs.current!==null?(t=Pg(t,n,a),an(t,e)||(rt=!0),t):!(Ba&42)||Ba&1073741824&&!(re&261930)?(rt=!0,t.memoizedState=n):(t=bw(),X.lanes|=t,Or|=t,e)}function Ax(t,e,n,a,r){var i=fe.p;fe.p=i!==0&&8>i?i:8;var s=K.T,o={};K.T=o,Bg(t,!1,e,n);try{var l=r(),c=K.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=TE(l,a);Fo(t,e,u,tn(t))}else Fo(t,e,a,tn(t))}catch(d){Fo(t,e,{then:function(){},status:"rejected",reason:d},tn())}finally{fe.p=i,s!==null&&o.types!==null&&(s.types=o.types),K.T=s}}function jE(){}function tp(t,e,n,a){if(t.tag!==5)throw Error(z(476));var r=Rx(t).queue;Ax(t,r,e,oi,n===null?jE:function(){return Nx(t),n(a)})}function Rx(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:oi,baseState:oi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:oi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Nx(t){var e=Rx(t);e.next===null&&(e=t.alternate.memoizedState),Fo(t,e.next.queue,{},tn())}function zg(){return mt(bl)}function jx(){return Qe().memoizedState}function Lx(){return Qe().memoizedState}function LE(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=tn();t=mr(n);var a=br(e,t,n);a!==null&&(It(a,e,n),Io(a,e,n)),e={cache:wg()},t.payload=e;return}e=e.return}}function PE(t,e,n){var a=tn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jd(t)?zx(e,n):(n=vg(t,e,n,a),n!==null&&(It(n,t,a),Bx(n,e,a)))}function Px(t,e,n){var a=tn();Fo(t,e,n,a)}function Fo(t,e,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(jd(t))zx(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,an(o,s))return Md(t,e,r,0),Ce===null&&Td(),!1}catch{}finally{}if(n=vg(t,e,r,a),n!==null)return It(n,t,a),Bx(n,e,a),!0}return!1}function Bg(t,e,n,a){if(a={lane:2,revertLane:Wg(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jd(t)){if(e)throw Error(z(479))}else e=vg(t,n,a,2),e!==null&&It(e,t,2)}function jd(t){var e=t.alternate;return t===X||e!==null&&e===X}function zx(t,e){gs=Ou=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bx(t,e,n){if(n&4194048){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,S_(t,n)}}var pl={readContext:mt,use:Rd,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};pl.useEffectEvent=$e;var Hx={readContext:mt,use:Rd,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:N0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Xc(4194308,4,Ex.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){Xc(4,2,t,e)},useMemo:function(t,e){var n=Dt();e=e===void 0?null:e;var a=t();if(yi){sr(!0);try{t()}finally{sr(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Dt();if(n!==void 0){var r=n(e);if(yi){sr(!0);try{n(e)}finally{sr(!1)}}}else r=e;return a.memoizedState=a.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=PE.bind(null,X,t),[a.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:function(t){t=Zf(t);var e=t.queue,n=Px.bind(null,X,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Lg,useDeferredValue:function(t,e){var n=Dt();return Pg(n,t,e)},useTransition:function(){var t=Zf(!1);return t=Ax.bind(null,X,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=X,r=Dt();if(se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ce===null)throw Error(z(349));re&127||hx(a,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,N0(px.bind(null,a,i,t),[t]),a.flags|=2048,Ts(9,{destroy:void 0},fx.bind(null,a,i,n,e),null),n},useId:function(){var t=Dt(),e=Ce.identifierPrefix;if(se){var n=Kn,a=Wn;n=(a&~(1<<32-en(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Au++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ME++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:zg,useFormState:O0,useActionState:O0,useOptimistic:function(t){var e=Dt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Bg.bind(null,X,!0,n),n.dispatch=e,[t,e]},useMemoCache:Rg,useCacheRefresh:function(){return Dt().memoizedState=LE.bind(null,X)},useEffectEvent:function(t){var e=Dt(),n={impl:t};return e.memoizedState=n,function(){if(he&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},Hg={readContext:mt,use:Rd,useCallback:Tx,useContext:mt,useEffect:jg,useImperativeHandle:Cx,useInsertionEffect:kx,useLayoutEffect:Dx,useMemo:Mx,useReducer:Qc,useRef:wx,useState:function(){return Qc(Ha)},useDebugValue:Lg,useDeferredValue:function(t,e){var n=Qe();return Ox(n,ke.memoizedState,t,e)},useTransition:function(){var t=Qc(Ha)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:Pl(t),e]},useSyncExternalStore:dx,useId:jx,useHostTransitionStatus:zg,useFormState:A0,useActionState:A0,useOptimistic:function(t,e){var n=Qe();return bx(n,ke,t,e)},useMemoCache:Rg,useCacheRefresh:Lx};Hg.useEffectEvent=Sx;var Ux={readContext:mt,use:Rd,useCallback:Tx,useContext:mt,useEffect:jg,useImperativeHandle:Cx,useInsertionEffect:kx,useLayoutEffect:Dx,useMemo:Mx,useReducer:Dh,useRef:wx,useState:function(){return Dh(Ha)},useDebugValue:Lg,useDeferredValue:function(t,e){var n=Qe();return ke===null?Pg(n,t,e):Ox(n,ke.memoizedState,t,e)},useTransition:function(){var t=Dh(Ha)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:Pl(t),e]},useSyncExternalStore:dx,useId:jx,useHostTransitionStatus:zg,useFormState:R0,useActionState:R0,useOptimistic:function(t,e){var n=Qe();return ke!==null?bx(n,ke,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Rg,useCacheRefresh:Lx};Ux.useEffectEvent=Sx;function Eh(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var np={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=tn(),r=mr(a);r.payload=e,n!=null&&(r.callback=n),e=br(t,r,a),e!==null&&(It(e,t,a),Io(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=tn(),r=mr(a);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=br(t,r,a),e!==null&&(It(e,t,a),Io(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),a=mr(n);a.tag=2,e!=null&&(a.callback=e),e=br(t,a,n),e!==null&&(It(e,t,n),Io(e,t,n))}};function j0(t,e,n,a,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,s):e.prototype&&e.prototype.isPureReactComponent?!cl(n,a)||!cl(r,i):!0}function L0(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&np.enqueueReplaceState(e,e.state,null)}function _i(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=Pe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function Ix(t){Su(t)}function Yx(t){console.error(t)}function $x(t){Su(t)}function Ru(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function P0(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ap(t,e,n){return n=mr(n),n.tag=3,n.payload={element:null},n.callback=function(){Ru(t,e)},n}function Fx(t){return t=mr(t),t.tag=3,t}function qx(t,e,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=a.value;t.payload=function(){return r(i)},t.callback=function(){P0(e,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){P0(e,n,a),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=a.stack;this.componentDidCatch(a.value,{componentStack:o!==null?o:""})})}function zE(t,e,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Vs(e,n,r,!0),n=rn.current,n!==null){switch(n.tag){case 31:case 13:return yn===null?zu():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Cu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),zh(t,a,r)),!1;case 22:return n.flags|=65536,a===Cu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),zh(t,a,r)),!1}throw Error(z(435,n.tag))}return zh(t,a,r),zu(),!1}if(se)return e=rn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,a!==Ff&&(t=Error(z(422),{cause:a}),dl(mn(t,n)))):(a!==Ff&&(e=Error(z(423),{cause:a}),dl(mn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,a=mn(a,n),r=ap(t.stateNode,a,r),kh(t,r),Fe!==4&&(Fe=2)),!1;var i=Error(z(520),{cause:a});if(i=mn(i,n),Wo===null?Wo=[i]:Wo.push(i),Fe!==4&&(Fe=2),e===null)return!0;a=mn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=ap(n.stateNode,a,t),kh(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(vr===null||!vr.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Fx(r),qx(r,t,n,a),kh(n,r),!1}n=n.return}while(n!==null);return!1}var Ug=Error(z(461)),rt=!1;function ft(t,e,n,a){e.child=t===null?ix(e,null,n,a):vi(e,t.child,n,a)}function z0(t,e,n,a,r){n=n.render;var i=e.ref;if("ref"in a){var s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}else s=a;return bi(e),a=Tg(t,e,n,s,i,r),o=Mg(),t!==null&&!rt?(Og(t,e,r),Ua(t,e,r)):(se&&o&&_g(e),e.flags|=1,ft(t,e,a,r),e.child)}function B0(t,e,n,a,r){if(t===null){var i=n.type;return typeof i=="function"&&!yg(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,Vx(t,e,i,a,r)):(t=Kc(n.type,null,a,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Ig(t,r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(s,a)&&t.ref===e.ref)return Ua(t,e,r)}return e.flags|=1,t=Ta(i,a),t.ref=e.ref,t.return=e,e.child=t}function Vx(t,e,n,a,r){if(t!==null){var i=t.memoizedProps;if(cl(i,a)&&t.ref===e.ref)if(rt=!1,e.pendingProps=a=i,Ig(t,r))t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,Ua(t,e,r)}return rp(t,e,n,a,r)}function Wx(t,e,n,a){var r=a.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(a=e.child=t.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~i}else a=0,e.child=null;return H0(t,e,i,n,a)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gc(e,i!==null?i.cachePool:null),i!==null?C0(e,i):Xf(),lx(e);else return a=e.lanes=536870912,H0(t,e,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(Gc(e,i.cachePool),C0(e,i),ar(),e.memoizedState=null):(t!==null&&Gc(e,null),Xf(),ar());return ft(t,e,r,n),e.child}function To(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function H0(t,e,n,a,r){var i=Sg();return i=i===null?null:{parent:nt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Gc(e,null),Xf(),lx(e),t!==null&&Vs(t,e,a,!0),e.childLanes=r,null}function Jc(t,e){return e=Nu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function U0(t,e,n){return vi(e,t.child,null,n),t=Jc(e,e.pendingProps),t.flags|=2,Gt(e),e.memoizedState=null,t}function BE(t,e,n){var a=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(se){if(a.mode==="hidden")return t=Jc(e,a),e.lanes=536870912,To(null,t);if(Jf(e),(t=Ne)?(t=Hw(t,bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Wn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},n=J_(t),n.return=e,e.child=n,gt=e,Ne=null)):t=null,t===null)throw Tr(e);return e.lanes=536870912,null}return Jc(e,a)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(Jf(e),r)if(e.flags&256)e.flags&=-257,e=U0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(z(558));else if(rt||Vs(t,e,n,!1),r=(n&t.childLanes)!==0,rt||r){if(a=Ce,a!==null&&(s=k_(a,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,Ti(t,s),It(a,t,s),Ug;zu(),e=U0(t,e,n)}else t=i.treeContext,Ne=_n(s.nextSibling),gt=e,se=!0,gr=null,bn=!1,t!==null&&ex(e,t),e=Jc(e,a),e.flags|=4096;return e}return t=Ta(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Zc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function rp(t,e,n,a,r){return bi(e),n=Tg(t,e,n,a,void 0,r),a=Mg(),t!==null&&!rt?(Og(t,e,r),Ua(t,e,r)):(se&&a&&_g(e),e.flags|=1,ft(t,e,n,r),e.child)}function I0(t,e,n,a,r,i){return bi(e),e.updateQueue=null,n=ux(e,a,n,r),cx(t),a=Mg(),t!==null&&!rt?(Og(t,e,i),Ua(t,e,i)):(se&&a&&_g(e),e.flags|=1,ft(t,e,n,i),e.child)}function Y0(t,e,n,a,r){if(bi(e),e.stateNode===null){var i=is,s=n.contextType;typeof s=="object"&&s!==null&&(i=mt(s)),i=new n(a,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=np,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=a,i.state=e.memoizedState,i.refs={},Dg(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?mt(s):is,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Eh(e,n,s,a),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&np.enqueueReplaceState(i,i.state,null),$o(e,a,i,r),Yo(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,l=_i(n,o);i.props=l;var c=i.context,u=n.contextType;s=is,typeof u=="object"&&u!==null&&(s=mt(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==s)&&L0(e,i,a,s),er=!1;var h=e.memoizedState;i.state=h,$o(e,a,i,r),Yo(),c=e.memoizedState,o||h!==c||er?(typeof d=="function"&&(Eh(e,n,d,a),c=e.memoizedState),(l=er||j0(e,n,l,a,h,c,s))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=c),i.props=a,i.state=c,i.context=s,a=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{i=e.stateNode,Gf(t,e),s=e.memoizedProps,u=_i(n,s),i.props=u,d=e.pendingProps,h=i.context,c=n.contextType,l=is,typeof c=="object"&&c!==null&&(l=mt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&L0(e,i,a,l),er=!1,h=e.memoizedState,i.state=h,$o(e,a,i,r),Yo();var f=e.memoizedState;s!==d||h!==f||er||t!==null&&t.dependencies!==null&&Eu(t.dependencies)?(typeof o=="function"&&(Eh(e,n,o,a),f=e.memoizedState),(u=er||j0(e,n,u,a,h,f,l)||t!==null&&t.dependencies!==null&&Eu(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,f,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,f,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=f),i.props=a,i.state=f,i.context=l,a=u):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),a=!1)}return i=a,Zc(t,e),a=(e.flags&128)!==0,i||a?(i=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&a?(e.child=vi(e,t.child,null,r),e.child=vi(e,null,n,r)):ft(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Ua(t,e,r),t}function $0(t,e,n,a){return mi(),e.flags|=256,ft(t,e,n,a),e.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Th(t){return{baseLanes:t,cachePool:nx()}}function Mh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Xt),t}function Kx(t,e,n){var a=e.pendingProps,r=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(se){if(r?nr(e):ar(),(t=Ne)?(t=Hw(t,bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Wn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},n=J_(t),n.return=e,e.child=n,gt=e,Ne=null)):t=null,t===null)throw Tr(e);return vp(t)?e.lanes=32:e.lanes=536870912,null}var o=a.children;return a=a.fallback,r?(ar(),r=e.mode,o=Nu({mode:"hidden",children:o},r),a=li(a,r,n,null),o.return=e,a.return=e,o.sibling=a,e.child=o,a=e.child,a.memoizedState=Th(n),a.childLanes=Mh(t,s,n),e.memoizedState=Ch,To(null,a)):(nr(e),ip(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(i)e.flags&256?(nr(e),e.flags&=-257,e=Oh(t,e,n)):e.memoizedState!==null?(ar(),e.child=t.child,e.flags|=128,e=null):(ar(),o=a.fallback,r=e.mode,a=Nu({mode:"visible",children:a.children},r),o=li(o,r,n,null),o.flags|=2,a.return=e,o.return=e,a.sibling=o,e.child=a,vi(e,t.child,null,n),a=e.child,a.memoizedState=Th(n),a.childLanes=Mh(t,s,n),e.memoizedState=Ch,e=To(null,a));else if(nr(e),vp(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,a=Error(z(419)),a.stack="",a.digest=s,dl({value:a,source:null,stack:null}),e=Oh(t,e,n)}else if(rt||Vs(t,e,n,!1),s=(n&t.childLanes)!==0,rt||s){if(s=Ce,s!==null&&(a=k_(s,n),a!==0&&a!==l.retryLane))throw l.retryLane=a,Ti(t,a),It(s,t,a),Ug;bp(o)||zu(),e=Oh(t,e,n)}else bp(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ne=_n(o.nextSibling),gt=e,se=!0,gr=null,bn=!1,t!==null&&ex(e,t),e=ip(e,a.children),e.flags|=4096);return e}return r?(ar(),o=a.fallback,r=e.mode,l=t.child,c=l.sibling,a=Ta(l,{mode:"hidden",children:a.children}),a.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=Ta(c,o):(o=li(o,r,n,null),o.flags|=2),o.return=e,a.return=e,a.sibling=o,e.child=a,To(null,a),a=e.child,o=t.child.memoizedState,o===null?o=Th(n):(r=o.cachePool,r!==null?(l=nt._currentValue,r=r.parent!==l?{parent:l,pool:l}:r):r=nx(),o={baseLanes:o.baseLanes|n,cachePool:r}),a.memoizedState=o,a.childLanes=Mh(t,s,n),e.memoizedState=Ch,To(t.child,a)):(nr(e),n=t.child,t=n.sibling,n=Ta(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function ip(t,e){return e=Nu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Nu(t,e){return t=Qt(22,t,null,e),t.lanes=0,t}function Oh(t,e,n){return vi(e,t.child,null,n),t=ip(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F0(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Vf(t.return,e,n)}function Ah(t,e,n,a,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r,s.treeForkCount=i)}function Gx(t,e,n){var a=e.pendingProps,r=a.revealOrder,i=a.tail;a=a.children;var s=We.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Ae(We,s),ft(t,e,a,n),a=se?ul:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F0(t,n,e);else if(t.tag===19)F0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Mu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ah(e,!1,r,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Mu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ah(e,!0,n,null,i,a);break;case"together":Ah(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Ua(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Or|=e.lanes,!(n&e.childLanes))if(t!==null){if(Vs(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ta(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ta(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ig(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Eu(t)))}function HE(t,e,n){switch(e.tag){case 3:yu(e,e.stateNode.containerInfo),tr(e,nt,t.memoizedState.cache),mi();break;case 27:case 5:Nf(e);break;case 4:yu(e,e.stateNode.containerInfo);break;case 10:tr(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Jf(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(nr(e),e.flags|=128,null):n&e.child.childLanes?Kx(t,e,n):(nr(e),t=Ua(t,e,n),t!==null?t.sibling:null);nr(e);break;case 19:var r=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Vs(t,e,n,!1),a=(n&e.childLanes)!==0),r){if(a)return Gx(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ae(We,We.current),a)break;return null;case 22:return e.lanes=0,Wx(t,e,n,e.pendingProps);case 24:tr(e,nt,t.memoizedState.cache)}return Ua(t,e,n)}function Qx(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)rt=!0;else{if(!Ig(t,n)&&!(e.flags&128))return rt=!1,HE(t,e,n);rt=!!(t.flags&131072)}else rt=!1,se&&e.flags&1048576&&Z_(e,ul,e.index);switch(e.lanes=0,e.tag){case 16:e:{var a=e.pendingProps;if(t=Gr(e.elementType),e.type=t,typeof t=="function")yg(t)?(a=_i(t,a),e.tag=1,e=Y0(null,e,t,a,n)):(e.tag=0,e=rp(null,e,t,a,n));else{if(t!=null){var r=t.$$typeof;if(r===ig){e.tag=11,e=z0(null,e,t,a,n);break e}else if(r===sg){e.tag=14,e=B0(null,e,t,a,n);break e}}throw e=Af(t)||t,Error(z(306,e,""))}}return e;case 0:return rp(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,r=_i(a,e.pendingProps),Y0(t,e,a,r,n);case 3:e:{if(yu(e,e.stateNode.containerInfo),t===null)throw Error(z(387));a=e.pendingProps;var i=e.memoizedState;r=i.element,Gf(t,e),$o(e,a,null,n);var s=e.memoizedState;if(a=s.cache,tr(e,nt,a),a!==i.cache&&Wf(e,[nt],n,!0),Yo(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=$0(t,e,a,n);break e}else if(a!==r){r=mn(Error(z(424)),e),dl(r),e=$0(t,e,a,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ne=_n(t.firstChild),gt=e,se=!0,gr=null,bn=!0,n=ix(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(mi(),a===r){e=Ua(t,e,n);break e}ft(t,e,a,n)}e=e.child}return e;case 26:return Zc(t,e),t===null?(n=ub(e.type,null,e.pendingProps,null))?e.memoizedState=n:se||(n=e.type,t=e.pendingProps,a=Iu(pr.current).createElement(n),a[pt]=e,a[Yt]=t,yt(a,n,t),dt(a),e.stateNode=a):e.memoizedState=ub(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Nf(e),t===null&&se&&(a=e.stateNode=Uw(e.type,e.pendingProps,pr.current),gt=e,bn=!0,r=Ne,Lr(e.type)?(yp=r,Ne=_n(a.firstChild)):Ne=r),ft(t,e,e.pendingProps.children,n),Zc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&se&&((r=a=Ne)&&(a=gC(a,e.type,e.pendingProps,bn),a!==null?(e.stateNode=a,gt=e,Ne=_n(a.firstChild),bn=!1,r=!0):r=!1),r||Tr(e)),Nf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,gp(r,i)?a=null:s!==null&&gp(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=Tg(t,e,OE,null,null,n),bl._currentValue=r),Zc(t,e),ft(t,e,a,n),e.child;case 6:return t===null&&se&&((t=n=Ne)&&(n=mC(n,e.pendingProps,bn),n!==null?(e.stateNode=n,gt=e,Ne=null,t=!0):t=!1),t||Tr(e)),null;case 13:return Kx(t,e,n);case 4:return yu(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=vi(e,null,a,n):ft(t,e,a,n),e.child;case 11:return z0(t,e,e.type,e.pendingProps,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,tr(e,e.type,a.value),ft(t,e,a.children,n),e.child;case 9:return r=e.type._context,a=e.pendingProps.children,bi(e),r=mt(r),a=a(r),e.flags|=1,ft(t,e,a,n),e.child;case 14:return B0(t,e,e.type,e.pendingProps,n);case 15:return Vx(t,e,e.type,e.pendingProps,n);case 19:return Gx(t,e,n);case 31:return BE(t,e,n);case 22:return Wx(t,e,n,e.pendingProps);case 24:return bi(e),a=mt(nt),t===null?(r=Sg(),r===null&&(r=Ce,i=wg(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:a,cache:r},Dg(e),tr(e,nt,r)):(t.lanes&n&&(Gf(t,e),$o(e,null,null,n),Yo()),r=t.memoizedState,i=e.memoizedState,r.parent!==a?(r={parent:a,cache:a},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),tr(e,nt,a)):(a=i.cache,tr(e,nt,a),a!==r.cache&&Wf(e,[nt],n,!0))),ft(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function da(t){t.flags|=4}function Rh(t,e,n,a,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(_w())t.flags|=8192;else throw ui=Cu,kg}else t.flags&=-16777217}function q0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!$w(e))if(_w())t.flags|=8192;else throw ui=Cu,kg}function dc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?x_():536870912,t.lanes|=e,Ms|=e)}function co(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function UE(t,e,n){var a=e.pendingProps;switch(xg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Re(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ma(nt),Ss(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ji(e)?da(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sh())),Re(e),null;case 26:var r=e.type,i=e.memoizedState;return t===null?(da(e),i!==null?(Re(e),q0(e,i)):(Re(e),Rh(e,r,null,a,n))):i?i!==t.memoizedState?(da(e),Re(e),q0(e,i)):(Re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&da(e),Re(e),Rh(e,r,t,a,n)),null;case 27:if(_u(e),n=pr.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&da(e);else{if(!a){if(e.stateNode===null)throw Error(z(166));return Re(e),null}t=Jn.current,ji(e)?_0(e):(t=Uw(r,a,n),e.stateNode=t,da(e))}return Re(e),null;case 5:if(_u(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&da(e);else{if(!a){if(e.stateNode===null)throw Error(z(166));return Re(e),null}if(i=Jn.current,ji(e))_0(e);else{var s=Iu(pr.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?s.createElement(r,{is:a.is}):s.createElement(r)}}i[pt]=e,i[Yt]=a;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(yt(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&da(e)}}return Re(e),Rh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&da(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(z(166));if(t=pr.current,ji(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,r=gt,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}t[pt]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Pw(t.nodeValue,n)),t||Tr(e,!0)}else t=Iu(t).createTextNode(a),t[pt]=e,e.stateNode=t}return Re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=ji(e),n!==null){if(t===null){if(!a)throw Error(z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(557));t[pt]=e}else mi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),t=!1}else n=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Gt(e),e):(Gt(e),null);if(e.flags&128)throw Error(z(558))}return Re(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ji(e),a!==null&&a.dehydrated!==null){if(t===null){if(!r)throw Error(z(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(z(317));r[pt]=e}else mi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),r=!1}else r=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Gt(e),e):(Gt(e),null)}return Gt(e),e.flags&128?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),dc(e,e.updateQueue),Re(e),null);case 4:return Ss(),t===null&&Kg(e.stateNode.containerInfo),Re(e),null;case 10:return Ma(e.type),Re(e),null;case 19:if(ht(We),a=e.memoizedState,a===null)return Re(e),null;if(r=(e.flags&128)!==0,i=a.rendering,i===null)if(r)co(a,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Mu(t),i!==null){for(e.flags|=128,co(a,!1),t=i.updateQueue,e.updateQueue=t,dc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)X_(n,t),n=n.sibling;return Ae(We,We.current&1|2),se&&ya(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&Jt()>Lu&&(e.flags|=128,r=!0,co(a,!1),e.lanes=4194304)}else{if(!r)if(t=Mu(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,dc(e,t),co(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!se)return Re(e),null}else 2*Jt()-a.renderingStartTime>Lu&&n!==536870912&&(e.flags|=128,r=!0,co(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Jt(),t.sibling=null,n=We.current,Ae(We,r?n&1|2:n&1),se&&ya(e,a.treeForkCount),t):(Re(e),null);case 22:case 23:return Gt(e),Eg(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?n&536870912&&!(e.flags&128)&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),n=e.updateQueue,n!==null&&dc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&ht(ci),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ma(nt),Re(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function IE(t,e){switch(xg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(nt),Ss(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return _u(e),null;case 31:if(e.memoizedState!==null){if(Gt(e),e.alternate===null)throw Error(z(340));mi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Gt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));mi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(We),null;case 4:return Ss(),null;case 10:return Ma(e.type),null;case 22:case 23:return Gt(e),Eg(),t!==null&&ht(ci),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ma(nt),null;case 25:return null;default:return null}}function Xx(t,e){switch(xg(e),e.tag){case 3:Ma(nt),Ss();break;case 26:case 27:case 5:_u(e);break;case 4:Ss();break;case 31:e.memoizedState!==null&&Gt(e);break;case 13:Gt(e);break;case 19:ht(We);break;case 10:Ma(e.type);break;case 22:case 23:Gt(e),Eg(),t!==null&&ht(ci);break;case 24:Ma(nt)}}function zl(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&t)===t){a=void 0;var i=n.create,s=n.inst;a=i(),s.destroy=a}n=n.next}while(n!==r)}}catch(o){_e(e,e.return,o)}}function Mr(t,e,n){try{var a=e.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var i=r.next;a=i;do{if((a.tag&t)===t){var s=a.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=e;var l=n,c=o;try{c()}catch(u){_e(r,l,u)}}}a=a.next}while(a!==i)}}catch(u){_e(e,e.return,u)}}function Jx(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{ox(e,n)}catch(a){_e(t,t.return,a)}}}function Zx(t,e,n){n.props=_i(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){_e(t,e,a)}}function qo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(r){_e(t,e,r)}}function Gn(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){_e(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function ew(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){_e(t,t.return,r)}}function Nh(t,e,n){try{var a=t.stateNode;cC(a,t.type,n,e),a[Yt]=e}catch(r){_e(t,t.return,r)}}function tw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function jh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sp(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sa));else if(a!==4&&(a===27&&Lr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}function ju(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Lr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ju(t,e,n),t=t.sibling;t!==null;)ju(t,e,n),t=t.sibling}function nw(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);yt(e,a,n),e[pt]=t,e[Yt]=n}catch(i){_e(t,t.return,i)}}var xa=!1,tt=!1,Lh=!1,V0=typeof WeakSet=="function"?WeakSet:Set,ut=null;function YE(t,e){if(t=t.containerInfo,fp=qu,t=$_(t),mg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(o=s+r),d!==i||a!==0&&d.nodeType!==3||(l=s+a),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(o=s),h===i&&++u===a&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:t,selectionRange:n},qu=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){switch(e=ut,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var v=_i(n.type,r);t=a.getSnapshotBeforeUpdate(v,i),a.__reactInternalSnapshotBeforeUpdate=t}catch(y){_e(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)mp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}}function aw(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:fa(t,n),a&4&&zl(5,n);break;case 1:if(fa(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){_e(n,n.return,s)}else{var r=_i(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){_e(n,n.return,s)}}a&64&&Jx(n),a&512&&qo(n,n.return);break;case 3:if(fa(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{ox(t,e)}catch(s){_e(n,n.return,s)}}break;case 27:e===null&&a&4&&nw(n);case 26:case 5:fa(t,n),e===null&&a&4&&ew(n),a&512&&qo(n,n.return);break;case 12:fa(t,n);break;case 31:fa(t,n),a&4&&sw(t,n);break;case 13:fa(t,n),a&4&&ow(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=XE.bind(null,n),bC(t,n))));break;case 22:if(a=n.memoizedState!==null||xa,!a){e=e!==null&&e.memoizedState!==null||tt,r=xa;var i=tt;xa=a,(tt=e)&&!i?ga(t,n,(n.subtreeFlags&8772)!==0):fa(t,n),xa=r,tt=i}break;case 30:break;default:fa(t,n)}}function rw(t){var e=t.alternate;e!==null&&(t.alternate=null,rw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ug(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var He=null,Pt=!1;function ha(t,e,n){for(n=n.child;n!==null;)iw(t,e,n),n=n.sibling}function iw(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 26:tt||Gn(n,e),ha(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tt||Gn(n,e);var a=He,r=Pt;Lr(n.type)&&(He=n.stateNode,Pt=!1),ha(t,e,n),Go(n.stateNode),He=a,Pt=r;break;case 5:tt||Gn(n,e);case 6:if(a=He,r=Pt,He=null,ha(t,e,n),He=a,Pt=r,He!==null)if(Pt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(i){_e(n,e,i)}else try{He.removeChild(n.stateNode)}catch(i){_e(n,e,i)}break;case 18:He!==null&&(Pt?(t=He,ib(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ns(t)):ib(He,n.stateNode));break;case 4:a=He,r=Pt,He=n.stateNode.containerInfo,Pt=!0,ha(t,e,n),He=a,Pt=r;break;case 0:case 11:case 14:case 15:Mr(2,n,e),tt||Mr(4,n,e),ha(t,e,n);break;case 1:tt||(Gn(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Zx(n,e,a)),ha(t,e,n);break;case 21:ha(t,e,n);break;case 22:tt=(a=tt)||n.memoizedState!==null,ha(t,e,n),tt=a;break;default:ha(t,e,n)}}function sw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ns(t)}catch(n){_e(e,e.return,n)}}}function ow(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ns(t)}catch(n){_e(e,e.return,n)}}function $E(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new V0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new V0),e;default:throw Error(z(435,t.tag))}}function hc(t,e){var n=$E(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var r=JE.bind(null,t,a);a.then(r,r)}})}function At(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Lr(o.type)){He=o.stateNode,Pt=!1;break e}break;case 5:He=o.stateNode,Pt=!1;break e;case 3:case 4:He=o.stateNode.containerInfo,Pt=!0;break e}o=o.return}if(He===null)throw Error(z(160));iw(i,s,r),He=null,Pt=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)lw(e,t),e=e.sibling}var Mn=null;function lw(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(e,t),Rt(t),a&4&&(Mr(3,t,t.return),zl(3,t),Mr(5,t,t.return));break;case 1:At(e,t),Rt(t),a&512&&(tt||n===null||Gn(n,n.return)),a&64&&xa&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Mn;if(At(e,t),Rt(t),a&512&&(tt||n===null||Gn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){e:{a=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Nl]||i[pt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),yt(i,a,n),i[pt]=t,dt(i),a=i;break e;case"link":var s=hb("link","href",r).get(a+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}i=r.createElement(a),yt(i,a,n),r.head.appendChild(i);break;case"meta":if(s=hb("meta","content",r).get(a+(n.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}i=r.createElement(a),yt(i,a,n),r.head.appendChild(i);break;default:throw Error(z(468,a))}i[pt]=t,dt(i),a=i}t.stateNode=a}else fb(r,t.type,t.stateNode);else t.stateNode=db(r,a,t.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?fb(r,t.type,t.stateNode):db(r,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Nh(t,t.memoizedProps,n.memoizedProps)}break;case 27:At(e,t),Rt(t),a&512&&(tt||n===null||Gn(n,n.return)),n!==null&&a&4&&Nh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(At(e,t),Rt(t),a&512&&(tt||n===null||Gn(n,n.return)),t.flags&32){r=t.stateNode;try{Ds(r,"")}catch(v){_e(t,t.return,v)}}a&4&&t.stateNode!=null&&(r=t.memoizedProps,Nh(t,r,n!==null?n.memoizedProps:r)),a&1024&&(Lh=!0);break;case 6:if(At(e,t),Rt(t),a&4){if(t.stateNode===null)throw Error(z(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(v){_e(t,t.return,v)}}break;case 3:if(nu=null,r=Mn,Mn=Yu(e.containerInfo),At(e,t),Mn=r,Rt(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(e.containerInfo)}catch(v){_e(t,t.return,v)}Lh&&(Lh=!1,cw(t));break;case 4:a=Mn,Mn=Yu(t.stateNode.containerInfo),At(e,t),Rt(t),Mn=a;break;case 12:At(e,t),Rt(t);break;case 31:At(e,t),Rt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,hc(t,a)));break;case 13:At(e,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ld=Jt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,hc(t,a)));break;case 22:r=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=xa,u=tt;if(xa=c||r,tt=u||l,At(e,t),tt=u,xa=c,Rt(t),a&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||l||xa||tt||Qr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,r)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){_e(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(v){_e(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var f=l.stateNode;r?sb(f,!0):sb(l.stateNode,!1)}catch(v){_e(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,hc(t,n))));break;case 19:At(e,t),Rt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,hc(t,a)));break;case 30:break;case 21:break;default:At(e,t),Rt(t)}}function Rt(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(tw(a)){n=a;break}a=a.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var r=n.stateNode,i=jh(t);ju(t,i,r);break;case 5:var s=n.stateNode;n.flags&32&&(Ds(s,""),n.flags&=-33);var o=jh(t);ju(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=jh(t);sp(t,c,l);break;default:throw Error(z(161))}}catch(u){_e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;cw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function fa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)aw(t,e.alternate,e),e=e.sibling}function Qr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Mr(4,e,e.return),Qr(e);break;case 1:Gn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Zx(e,e.return,n),Qr(e);break;case 27:Go(e.stateNode);case 26:case 5:Gn(e,e.return),Qr(e);break;case 22:e.memoizedState===null&&Qr(e);break;case 30:Qr(e);break;default:Qr(e)}t=t.sibling}}function ga(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,r=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:ga(r,i,n),zl(4,i);break;case 1:if(ga(r,i,n),a=i,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){_e(a,a.return,c)}if(a=i,r=a.updateQueue,r!==null){var o=a.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)sx(l[r],o)}catch(c){_e(a,a.return,c)}}n&&s&64&&Jx(i),qo(i,i.return);break;case 27:nw(i);case 26:case 5:ga(r,i,n),n&&a===null&&s&4&&ew(i),qo(i,i.return);break;case 12:ga(r,i,n);break;case 31:ga(r,i,n),n&&s&4&&sw(r,i);break;case 13:ga(r,i,n),n&&s&4&&ow(r,i);break;case 22:i.memoizedState===null&&ga(r,i,n),qo(i,i.return);break;case 30:break;default:ga(r,i,n)}e=e.sibling}}function Yg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ll(n))}function $g(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ll(t))}function En(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uw(t,e,n,a),e=e.sibling}function uw(t,e,n,a){var r=e.flags;switch(e.tag){case 0:case 11:case 15:En(t,e,n,a),r&2048&&zl(9,e);break;case 1:En(t,e,n,a);break;case 3:En(t,e,n,a),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ll(t)));break;case 12:if(r&2048){En(t,e,n,a),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){_e(e,e.return,l)}}else En(t,e,n,a);break;case 31:En(t,e,n,a);break;case 13:En(t,e,n,a);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?En(t,e,n,a):Vo(t,e):i._visibility&2?En(t,e,n,a):(i._visibility|=2,Vi(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),r&2048&&Yg(s,e);break;case 24:En(t,e,n,a),r&2048&&$g(e.alternate,e);break;default:En(t,e,n,a)}}function Vi(t,e,n,a,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=n,l=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(i,s,o,l,r),zl(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?Vi(i,s,o,l,r):Vo(i,s):(u._visibility|=2,Vi(i,s,o,l,r)),r&&c&2048&&Yg(s.alternate,s);break;case 24:Vi(i,s,o,l,r),r&&c&2048&&$g(s.alternate,s);break;default:Vi(i,s,o,l,r)}e=e.sibling}}function Vo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,r=a.flags;switch(a.tag){case 22:Vo(n,a),r&2048&&Yg(a.alternate,a);break;case 24:Vo(n,a),r&2048&&$g(a.alternate,a);break;default:Vo(n,a)}e=e.sibling}}var Mo=8192;function Li(t,e,n){if(t.subtreeFlags&Mo)for(t=t.child;t!==null;)dw(t,e,n),t=t.sibling}function dw(t,e,n){switch(t.tag){case 26:Li(t,e,n),t.flags&Mo&&t.memoizedState!==null&&MC(n,Mn,t.memoizedState,t.memoizedProps);break;case 5:Li(t,e,n);break;case 3:case 4:var a=Mn;Mn=Yu(t.stateNode.containerInfo),Li(t,e,n),Mn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Mo,Mo=16777216,Li(t,e,n),Mo=a):Li(t,e,n));break;default:Li(t,e,n)}}function hw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function uo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ut=a,pw(a,t)}hw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fw(t),t=t.sibling}function fw(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,eu(t)):uo(t);break;default:uo(t)}}function eu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];ut=a,pw(a,t)}hw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Mr(8,e,e.return),eu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,eu(e));break;default:eu(e)}t=t.sibling}}function pw(t,e){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:Mr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ll(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,ut=a;else e:for(n=t;ut!==null;){a=ut;var r=a.sibling,i=a.return;if(rw(a),a===n){ut=null;break e}if(r!==null){r.return=i,ut=r;break e}ut=i}}}var FE={getCacheForType:function(t){var e=mt(nt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return mt(nt).controller.signal}},qE=typeof WeakMap=="function"?WeakMap:Map,he=0,Ce=null,te=null,re=0,ye=0,Wt=null,lr=!1,Ks=!1,Fg=!1,Ia=0,Fe=0,Or=0,di=0,qg=0,Xt=0,Ms=0,Wo=null,zt=null,op=!1,Ld=0,gw=0,Lu=1/0,Pu=null,vr=null,ot=0,yr=null,Os=null,Oa=0,lp=0,cp=null,mw=null,Ko=0,up=null;function tn(){return he&2&&re!==0?re&-re:K.T!==null?Wg():D_()}function bw(){if(Xt===0)if(!(re&536870912)||se){var t=rc;rc<<=1,!(rc&3932160)&&(rc=262144),Xt=t}else Xt=536870912;return t=rn.current,t!==null&&(t.flags|=32),Xt}function It(t,e,n){(t===Ce&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(As(t,0),cr(t,re,Xt,!1)),Rl(t,n),(!(he&2)||t!==Ce)&&(t===Ce&&(!(he&2)&&(di|=n),Fe===4&&cr(t,re,Xt,!1)),ra(t))}function vw(t,e,n){if(he&6)throw Error(z(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Al(t,e),r=a?KE(t,e):Ph(t,e,!0),i=a;do{if(r===0){Ks&&!a&&cr(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!VE(n)){r=Ph(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;r=Wo;var l=o.current.memoizedState.isDehydrated;if(l&&(As(o,s).flags|=256),s=Ph(o,s,!1),s!==2){if(Fg&&!l){o.errorRecoveryDisabledLanes|=i,di|=i,r=4;break e}i=zt,zt=r,i!==null&&(zt===null?zt=i:zt.push.apply(zt,i))}r=s}if(i=!1,r!==2)continue}}if(r===1){As(t,0),cr(t,e,0,!0);break}e:{switch(a=t,i=r,i){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:cr(a,e,Xt,!lr);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(r=Ld+300-Jt(),10<r)){if(cr(a,e,Xt,!lr),kd(a,0,!0)!==0)break e;Oa=e,a.timeoutHandle=Bw(W0.bind(null,a,n,zt,Pu,op,e,Xt,di,Ms,lr,i,"Throttled",-0,0),r);break e}W0(a,n,zt,Pu,op,e,Xt,di,Ms,lr,i,null,-0,0)}}break}while(!0);ra(t)}function W0(t,e,n,a,r,i,s,o,l,c,u,d,h,f){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},dw(e,i,d);var v=(i&62914560)===i?Ld-Jt():(i&4194048)===i?gw-Jt():0;if(v=OC(d,v),v!==null){Oa=i,t.cancelPendingCommit=v(G0.bind(null,t,e,i,n,a,r,s,o,l,u,d,null,h,f)),cr(t,i,s,!c);return}}G0(t,e,i,n,a,r,s,o,l)}function VE(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!an(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e,n,a){e&=~qg,e&=~di,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var r=e;0<r;){var i=31-en(r),s=1<<i;a[i]=-1,r&=~s}n!==0&&w_(t,n,e)}function Pd(){return he&6?!0:(Bl(0),!1)}function Vg(){if(te!==null){if(ye===0)var t=te.return;else t=te,ka=Mi=null,Ag(t),ps=null,hl=0,t=te;for(;t!==null;)Xx(t.alternate,t),t=t.return;te=null}}function As(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,hC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Oa=0,Vg(),Ce=t,te=n=Ta(t.current,null),re=e,ye=0,Wt=null,lr=!1,Ks=Al(t,e),Fg=!1,Ms=Xt=qg=di=Or=Fe=0,zt=Wo=null,op=!1,e&8&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var r=31-en(a),i=1<<r;e|=t[r],a&=~i}return Ia=e,Td(),n}function yw(t,e){X=null,K.H=pl,e===Ws||e===Od?(e=D0(),ye=3):e===kg?(e=D0(),ye=4):ye=e===Ug?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Wt=e,te===null&&(Fe=1,Ru(t,mn(e,t.current)))}function _w(){var t=rn.current;return t===null?!0:(re&4194048)===re?yn===null:(re&62914560)===re||re&536870912?t===yn:!1}function xw(){var t=K.H;return K.H=pl,t===null?pl:t}function ww(){var t=K.A;return K.A=FE,t}function zu(){Fe=4,lr||(re&4194048)!==re&&rn.current!==null||(Ks=!0),!(Or&134217727)&&!(di&134217727)||Ce===null||cr(Ce,re,Xt,!1)}function Ph(t,e,n){var a=he;he|=2;var r=xw(),i=ww();(Ce!==t||re!==e)&&(Pu=null,As(t,e)),e=!1;var s=Fe;e:do try{if(ye!==0&&te!==null){var o=te,l=Wt;switch(ye){case 8:Vg(),s=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(e=!0);var c=ye;if(ye=0,Wt=null,ls(t,o,l,c),n&&Ks){s=0;break e}break;default:c=ye,ye=0,Wt=null,ls(t,o,l,c)}}WE(),s=Fe;break}catch(u){yw(t,u)}while(!0);return e&&t.shellSuspendCounter++,ka=Mi=null,he=a,K.H=r,K.A=i,te===null&&(Ce=null,re=0,Td()),s}function WE(){for(;te!==null;)Sw(te)}function KE(t,e){var n=he;he|=2;var a=xw(),r=ww();Ce!==t||re!==e?(Pu=null,Lu=Jt()+500,As(t,e)):Ks=Al(t,e);e:do try{if(ye!==0&&te!==null){e=te;var i=Wt;t:switch(ye){case 1:ye=0,Wt=null,ls(t,e,i,1);break;case 2:case 9:if(k0(i)){ye=0,Wt=null,K0(e);break}e=function(){ye!==2&&ye!==9||Ce!==t||(ye=7),ra(t)},i.then(e,e);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:k0(i)?(ye=0,Wt=null,K0(e)):(ye=0,Wt=null,ls(t,e,i,7));break;case 5:var s=null;switch(te.tag){case 26:s=te.memoizedState;case 5:case 27:var o=te;if(s?$w(s):o.stateNode.complete){ye=0,Wt=null;var l=o.sibling;if(l!==null)te=l;else{var c=o.return;c!==null?(te=c,zd(c)):te=null}break t}}ye=0,Wt=null,ls(t,e,i,5);break;case 6:ye=0,Wt=null,ls(t,e,i,6);break;case 8:Vg(),Fe=6;break e;default:throw Error(z(462))}}GE();break}catch(u){yw(t,u)}while(!0);return ka=Mi=null,K.H=a,K.A=r,he=n,te!==null?0:(Ce=null,re=0,Td(),Fe)}function GE(){for(;te!==null&&!vD();)Sw(te)}function Sw(t){var e=Qx(t.alternate,t,Ia);t.memoizedProps=t.pendingProps,e===null?zd(t):te=e}function K0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=I0(n,e,e.pendingProps,e.type,void 0,re);break;case 11:e=I0(n,e,e.pendingProps,e.type.render,e.ref,re);break;case 5:Ag(e);default:Xx(n,e),e=te=X_(e,Ia),e=Qx(n,e,Ia)}t.memoizedProps=t.pendingProps,e===null?zd(t):te=e}function ls(t,e,n,a){ka=Mi=null,Ag(e),ps=null,hl=0;var r=e.return;try{if(zE(t,r,e,n,re)){Fe=1,Ru(t,mn(n,t.current)),te=null;return}}catch(i){if(r!==null)throw te=r,i;Fe=1,Ru(t,mn(n,t.current)),te=null;return}e.flags&32768?(se||a===1?t=!0:Ks||re&536870912?t=!1:(lr=t=!0,(a===2||a===9||a===3||a===6)&&(a=rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),kw(e,t)):zd(e)}function zd(t){var e=t;do{if(e.flags&32768){kw(e,lr);return}t=e.return;var n=UE(e.alternate,e,Ia);if(n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);Fe===0&&(Fe=5)}function kw(t,e){do{var n=IE(t.alternate,t);if(n!==null){n.flags&=32767,te=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){te=t;return}te=t=n}while(t!==null);Fe=6,te=null}function G0(t,e,n,a,r,i,s,o,l){t.cancelPendingCommit=null;do Bd();while(ot!==0);if(he&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(i=e.lanes|e.childLanes,i|=bg,TD(t,n,i,s,o,l),t===Ce&&(te=Ce=null,re=0),Os=e,yr=t,Oa=n,lp=i,cp=r,mw=a,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,ZE(xu,function(){return Mw(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,e.subtreeFlags&13878||a){a=K.T,K.T=null,r=fe.p,fe.p=2,s=he,he|=4;try{YE(t,e,n)}finally{he=s,fe.p=r,K.T=a}}ot=1,Dw(),Ew(),Cw()}}function Dw(){if(ot===1){ot=0;var t=yr,e=Os,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=K.T,K.T=null;var a=fe.p;fe.p=2;var r=he;he|=4;try{lw(e,t);var i=pp,s=$_(t.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Y_(o.ownerDocument.documentElement,o)){if(l!==null&&mg(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),v=o.textContent.length,y=Math.min(l.start,v),_=l.end===void 0?y:Math.min(l.end,v);!f.extend&&y>_&&(s=_,_=y,y=s);var g=b0(o,y),m=b0(o,_);if(g&&m&&(f.rangeCount!==1||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==m.node||f.focusOffset!==m.offset)){var b=d.createRange();b.setStart(g.node,g.offset),f.removeAllRanges(),y>_?(f.addRange(b),f.extend(m.node,m.offset)):(b.setEnd(m.node,m.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)f.nodeType===1&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}qu=!!fp,pp=fp=null}finally{he=r,fe.p=a,K.T=n}}t.current=e,ot=2}}function Ew(){if(ot===2){ot=0;var t=yr,e=Os,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=K.T,K.T=null;var a=fe.p;fe.p=2;var r=he;he|=4;try{aw(t,e.alternate,e)}finally{he=r,fe.p=a,K.T=n}}ot=3}}function Cw(){if(ot===4||ot===3){ot=0,yD();var t=yr,e=Os,n=Oa,a=mw;e.subtreeFlags&10256||e.flags&10256?ot=5:(ot=0,Os=yr=null,Tw(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(vr=null),cg(n),e=e.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=K.T,r=fe.p,fe.p=2,K.T=null;try{for(var i=t.onRecoverableError,s=0;s<a.length;s++){var o=a[s];i(o.value,{componentStack:o.stack})}}finally{K.T=e,fe.p=r}}Oa&3&&Bd(),ra(t),r=t.pendingLanes,n&261930&&r&42?t===up?Ko++:(Ko=0,up=t):Ko=0,Bl(0)}}function Tw(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ll(e)))}function Bd(){return Dw(),Ew(),Cw(),Mw()}function Mw(){if(ot!==5)return!1;var t=yr,e=lp;lp=0;var n=cg(Oa),a=K.T,r=fe.p;try{fe.p=32>n?32:n,K.T=null,n=cp,cp=null;var i=yr,s=Oa;if(ot=0,Os=yr=null,Oa=0,he&6)throw Error(z(331));var o=he;if(he|=4,fw(i.current),uw(i,i.current,s,n),he=o,Bl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ol,i)}catch{}return!0}finally{fe.p=r,K.T=a,Tw(t,e)}}function Q0(t,e,n){e=mn(n,e),e=ap(t.stateNode,e,2),t=br(t,e,2),t!==null&&(Rl(t,2),ra(t))}function _e(t,e,n){if(t.tag===3)Q0(t,t,n);else for(;e!==null;){if(e.tag===3){Q0(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(vr===null||!vr.has(a))){t=mn(n,t),n=Fx(2),a=br(e,n,2),a!==null&&(qx(n,a,e,t),Rl(a,2),ra(a));break}}e=e.return}}function zh(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new qE;var r=new Set;a.set(e,r)}else r=a.get(e),r===void 0&&(r=new Set,a.set(e,r));r.has(n)||(Fg=!0,r.add(n),t=QE.bind(null,t,e,n),e.then(t,t))}function QE(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ce===t&&(re&n)===n&&(Fe===4||Fe===3&&(re&62914560)===re&&300>Jt()-Ld?!(he&2)&&As(t,0):qg|=n,Ms===re&&(Ms=0)),ra(t)}function Ow(t,e){e===0&&(e=x_()),t=Ti(t,e),t!==null&&(Rl(t,e),ra(t))}function XE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ow(t,n)}function JE(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(z(314))}a!==null&&a.delete(e),Ow(t,n)}function ZE(t,e){return og(t,e)}var Bu=null,Wi=null,dp=!1,Hu=!1,Bh=!1,ur=0;function ra(t){t!==Wi&&t.next===null&&(Wi===null?Bu=Wi=t:Wi=Wi.next=t),Hu=!0,dp||(dp=!0,tC())}function Bl(t,e){if(!Bh&&Hu){Bh=!0;do for(var n=!1,a=Bu;a!==null;){if(t!==0){var r=a.pendingLanes;if(r===0)var i=0;else{var s=a.suspendedLanes,o=a.pingedLanes;i=(1<<31-en(42|t)+1)-1,i&=r&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,X0(a,i))}else i=re,i=kd(a,a===Ce?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||Al(a,i)||(n=!0,X0(a,i));a=a.next}while(n);Bh=!1}}function eC(){Aw()}function Aw(){Hu=dp=!1;var t=0;ur!==0&&dC()&&(t=ur);for(var e=Jt(),n=null,a=Bu;a!==null;){var r=a.next,i=Rw(a,e);i===0?(a.next=null,n===null?Bu=r:n.next=r,r===null&&(Wi=n)):(n=a,(t!==0||i&3)&&(Hu=!0)),a=r}ot!==0&&ot!==5||Bl(t),ur!==0&&(ur=0)}function Rw(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-en(i),o=1<<s,l=r[s];l===-1?(!(o&n)||o&a)&&(r[s]=CD(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}if(e=Ce,n=re,n=kd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&hh(a),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Al(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&hh(a),cg(n)){case 2:case 8:n=y_;break;case 32:n=xu;break;case 268435456:n=__;break;default:n=xu}return a=Nw.bind(null,t),n=og(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&hh(a),t.callbackPriority=2,t.callbackNode=null,2}function Nw(t,e){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Bd()&&t.callbackNode!==n)return null;var a=re;return a=kd(t,t===Ce?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(vw(t,a,e),Rw(t,Jt()),t.callbackNode!=null&&t.callbackNode===n?Nw.bind(null,t):null)}function X0(t,e){if(Bd())return null;vw(t,e,!0)}function tC(){fC(function(){he&6?og(v_,eC):Aw()})}function Wg(){if(ur===0){var t=Es;t===0&&(t=ac,ac<<=1,!(ac&261888)&&(ac=256)),ur=t}return ur}function J0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qc(""+t)}function Z0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function nC(t,e,n,a,r){if(e==="submit"&&n&&n.stateNode===r){var i=J0((r[Yt]||null).action),s=a.submitter;s&&(e=(e=s[Yt]||null)?J0(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new Dd("action","action",null,a,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ur!==0){var l=s?Z0(r,s):new FormData(r);tp(n,{pending:!0,data:l,method:r.method,action:i},null,l)}}else typeof i=="function"&&(o.preventDefault(),l=s?Z0(r,s):new FormData(r),tp(n,{pending:!0,data:l,method:r.method,action:i},i,l))},currentTarget:r}]})}}for(var Hh=0;Hh<$f.length;Hh++){var Uh=$f[Hh],aC=Uh.toLowerCase(),rC=Uh[0].toUpperCase()+Uh.slice(1);Nn(aC,"on"+rC)}Nn(q_,"onAnimationEnd");Nn(V_,"onAnimationIteration");Nn(W_,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(_E,"onTransitionRun");Nn(xE,"onTransitionStart");Nn(wE,"onTransitionCancel");Nn(K_,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],r=a.event;a=a.listeners;e:{var i=void 0;if(e)for(var s=a.length-1;0<=s;s--){var o=a[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=c;try{i(r)}catch(u){Su(u)}r.currentTarget=null,i=l}else for(s=0;s<a.length;s++){if(o=a[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=c;try{i(r)}catch(u){Su(u)}r.currentTarget=null,i=l}}}}function ee(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var a=t+"__bubble";n.has(a)||(Lw(e,t,2,!1),n.add(a))}function Ih(t,e,n){var a=0;e&&(a|=4),Lw(n,t,a,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Kg(t){if(!t[fc]){t[fc]=!0,E_.forEach(function(n){n!=="selectionchange"&&(iC.has(n)||Ih(n,!1,t),Ih(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,Ih("selectionchange",!1,e))}}function Lw(t,e,n,a){switch(Kw(e)){case 2:var r=NC;break;case 8:r=jC;break;default:r=Jg}n=r.bind(null,e,n,t),r=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),a?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Yh(t,e,n,a,r){var i=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var o=a.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=a.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Zi(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){a=i=s;continue e}o=o.parentNode}}a=a.return}j_(function(){var c=i,u=hg(n),d=[];e:{var h=G_.get(t);if(h!==void 0){var f=Dd,v=t;switch(t){case"keypress":if(Wc(n)===0)break e;case"keydown":case"keyup":f=JD;break;case"focusin":v="focus",f=bh;break;case"focusout":v="blur",f=bh;break;case"beforeblur":case"afterblur":f=bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=UD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=tE;break;case q_:case V_:case W_:f=$D;break;case K_:f=aE;break;case"scroll":case"scrollend":f=BD;break;case"wheel":f=iE;break;case"copy":case"cut":case"paste":f=qD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=c0;break;case"toggle":case"beforetoggle":f=oE}var y=(e&4)!==0,_=!y&&(t==="scroll"||t==="scrollend"),g=y?h!==null?h+"Capture":null:h;y=[];for(var m=c,b;m!==null;){var x=m;if(b=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||b===null||g===null||(x=ol(m,g),x!=null&&y.push(ml(m,x,b))),_)break;m=m.return}0<y.length&&(h=new f(h,v,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Hf&&(v=n.relatedTarget||n.fromElement)&&(Zi(v)||v[Fs]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=c,v=v?Zi(v):null,v!==null&&(_=Ml(v),y=v.tag,v!==_||y!==5&&y!==27&&y!==6)&&(v=null)):(f=null,v=c),f!==v)){if(y=o0,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=c0,x="onPointerLeave",g="onPointerEnter",m="pointer"),_=f==null?h:Co(f),b=v==null?h:Co(v),h=new y(x,m+"leave",f,n,u),h.target=_,h.relatedTarget=b,x=null,Zi(u)===c&&(y=new y(g,m+"enter",v,n,u),y.target=b,y.relatedTarget=_,x=y),_=x,f&&v)t:{for(y=sC,g=f,m=v,b=0,x=g;x;x=y(x))b++;x=0;for(var D=m;D;D=y(D))x++;for(;0<b-x;)g=y(g),b--;for(;0<x-b;)m=y(m),x--;for(;b--;){if(g===m||m!==null&&g===m.alternate){y=g;break t}g=y(g),m=y(m)}y=null}else y=null;f!==null&&eb(d,h,f,y,!1),v!==null&&_!==null&&eb(d,_,v,y,!0)}}e:{if(h=c?Co(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=f0;else if(h0(h))if(U_)k=bE;else{k=gE;var S=pE}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&dg(c.elementType)&&(k=f0):k=mE;if(k&&(k=k(t,c))){H_(d,k,n,u);break e}S&&S(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Bf(h,"number",h.value)}switch(S=c?Co(c):window,t){case"focusin":(h0(S)||S.contentEditable==="true")&&(ns=S,If=c,Ho=null);break;case"focusout":Ho=If=ns=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,v0(d,n,u);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":v0(d,n,u)}var E;if(gg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ts?z_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(P_&&n.locale!=="ko"&&(ts||T!=="onCompositionStart"?T==="onCompositionEnd"&&ts&&(E=L_()):(or=u,fg="value"in or?or.value:or.textContent,ts=!0)),S=Uu(c,T),0<S.length&&(T=new l0(T,t,null,n,u),d.push({event:T,listeners:S}),E?T.data=E:(E=B_(n),E!==null&&(T.data=E)))),(E=cE?uE(t,n):dE(t,n))&&(T=Uu(c,"onBeforeInput"),0<T.length&&(S=new l0("onBeforeInput","beforeinput",null,n,u),d.push({event:S,listeners:T}),S.data=E)),nC(d,t,c,n,u)}jw(d,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uu(t,e){for(var n=e+"Capture",a=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=ol(t,n),r!=null&&a.unshift(ml(t,r,i)),r=ol(t,e),r!=null&&a.push(ml(t,r,i))),t.tag===3)return a;t=t.return}return[]}function sC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function eb(t,e,n,a,r){for(var i=e._reactName,s=[];n!==null&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===a)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=ol(n,i),c!=null&&s.unshift(ml(n,c,l))):r||(c=ol(n,i),c!=null&&s.push(ml(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function tb(t){return(typeof t=="string"?t:""+t).replace(oC,`
`).replace(lC,"")}function Pw(t,e){return e=tb(e),tb(t)===e}function Se(t,e,n,a,r,i){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Ds(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Ds(t,""+a);break;case"className":sc(t,"class",a);break;case"tabIndex":sc(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":sc(t,n,a);break;case"style":N_(t,a,i);break;case"data":if(e!=="object"){sc(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=qc(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Se(t,e,"name",r.name,r,null),Se(t,e,"formEncType",r.formEncType,r,null),Se(t,e,"formMethod",r.formMethod,r,null),Se(t,e,"formTarget",r.formTarget,r,null)):(Se(t,e,"encType",r.encType,r,null),Se(t,e,"method",r.method,r,null),Se(t,e,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=qc(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Sa);break;case"onScroll":a!=null&&ee("scroll",t);break;case"onScrollEnd":a!=null&&ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(z(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=qc(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":ee("beforetoggle",t),ee("toggle",t),Fc(t,"popover",a);break;case"xlinkActuate":ua(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ua(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ua(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ua(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ua(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ua(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ua(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ua(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ua(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Fc(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=PD.get(n)||n,Fc(t,n,a))}}function hp(t,e,n,a,r,i){switch(n){case"style":N_(t,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(z(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Ds(t,a):(typeof a=="number"||typeof a=="bigint")&&Ds(t,""+a);break;case"onScroll":a!=null&&ee("scroll",t);break;case"onScrollEnd":a!=null&&ee("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[Yt]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof a=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,r);break e}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Fc(t,n,a)}}}function yt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",t),ee("load",t);var a=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Se(t,e,i,s,n,null)}}r&&Se(t,e,"srcSet",n.srcSet,n,null),a&&Se(t,e,"src",n.src,n,null);return;case"input":ee("invalid",t);var o=i=s=r=null,l=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(u!=null)switch(a){case"name":r=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(z(137,e));break;default:Se(t,e,a,u,n,null)}}O_(t,i,o,l,c,s,r,!1);return;case"select":ee("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:Se(t,e,r,o,n,null)}e=i,n=s,t.multiple=!!a,e!=null?ds(t,!!a,e,!1):n!=null&&ds(t,!!a,n,!0);return;case"textarea":ee("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Se(t,e,s,o,n,null)}R_(t,a,r,i);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(a=n[l],a!=null))switch(l){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Se(t,e,l,a,n,null)}return;case"dialog":ee("beforetoggle",t),ee("toggle",t),ee("cancel",t),ee("close",t);break;case"iframe":case"object":ee("load",t);break;case"video":case"audio":for(a=0;a<gl.length;a++)ee(gl[a],t);break;case"image":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"embed":case"source":case"link":ee("error",t),ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Se(t,e,c,a,n,null)}return;default:if(dg(e)){for(u in n)n.hasOwnProperty(u)&&(a=n[u],a!==void 0&&hp(t,e,u,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!=null&&Se(t,e,o,a,n,null))}function cC(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,s=null,o=null,l=null,c=null,u=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=d;default:a.hasOwnProperty(f)||Se(t,e,f,null,a,d)}}for(var h in a){var f=a[h];if(d=n[h],a.hasOwnProperty(h)&&(f!=null||d!=null))switch(h){case"type":i=f;break;case"name":r=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(z(137,e));break;default:f!==d&&Se(t,e,h,f,a,d)}}zf(t,s,o,l,c,u,i,r);return;case"select":f=s=o=h=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":f=l;default:a.hasOwnProperty(i)||Se(t,e,i,null,a,l)}for(r in a)if(i=a[r],l=n[r],a.hasOwnProperty(r)&&(i!=null||l!=null))switch(r){case"value":h=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==l&&Se(t,e,r,i,a,l)}e=o,n=s,a=f,h!=null?ds(t,!!n,h,!1):!!a!=!!n&&(e!=null?ds(t,!!n,e,!0):ds(t,!!n,n?[]:"",!1));return;case"textarea":f=h=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!a.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Se(t,e,o,null,a,r)}for(s in a)if(r=a[s],i=n[s],a.hasOwnProperty(s)&&(r!=null||i!=null))switch(s){case"value":h=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(z(91));break;default:r!==i&&Se(t,e,s,r,a,i)}A_(t,h,f);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!a.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:Se(t,e,v,null,a,h)}for(l in a)if(h=a[l],f=n[l],a.hasOwnProperty(l)&&h!==f&&(h!=null||f!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Se(t,e,l,h,a,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&Se(t,e,y,null,a,h);for(c in a)if(h=a[c],f=n[c],a.hasOwnProperty(c)&&h!==f&&(h!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,e));break;default:Se(t,e,c,h,a,f)}return;default:if(dg(e)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!a.hasOwnProperty(_)&&hp(t,e,_,void 0,a,h);for(u in a)h=a[u],f=n[u],!a.hasOwnProperty(u)||h===f||h===void 0&&f===void 0||hp(t,e,u,h,a,f);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!a.hasOwnProperty(g)&&Se(t,e,g,null,a,h);for(d in a)h=a[d],f=n[d],!a.hasOwnProperty(d)||h===f||h==null&&f==null||Se(t,e,d,h,a,f)}function nb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],i=r.transferSize,s=r.initiatorType,o=r.duration;if(i&&o&&nb(s)){for(s=0,o=r.responseEnd,a+=1;a<n.length;a++){var l=n[a],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&nb(d)&&(l=l.responseEnd,s+=u*(l<o?1:(o-c)/(l-c)))}if(--a,e+=8*(i+s)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fp=null,pp=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function ab(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function gp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=null;function dC(){var t=window.event;return t&&t.type==="popstate"?t===$h?!1:($h=t,!0):($h=null,!1)}var Bw=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(t){return rb.resolve(null).then(t).catch(pC)}:Bw;function pC(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function ib(t,e){var n=e,a=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(r),Ns(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Go(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Go(n);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[Nl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&Go(t.ownerDocument.body);n=r}while(n);Ns(e)}function sb(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function mp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mp(n),ug(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function gC(t,e,n,a){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Nl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=_n(t.nextSibling),t===null)break}return null}function mC(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=_n(t.nextSibling),t===null))return null;return t}function Hw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=_n(t.nextSibling),t===null))return null;return t}function bp(t){return t.data==="$?"||t.data==="$~"}function vp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bC(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var yp=null;function ob(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return _n(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function lb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Uw(t,e,n){switch(e=Iu(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function Go(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ug(t)}var wn=new Map,cb=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fa=fe.d;fe.d={f:vC,r:yC,D:_C,C:xC,L:wC,m:SC,X:DC,S:kC,M:EC};function vC(){var t=Fa.f(),e=Pd();return t||e}function yC(t){var e=qs(t);e!==null&&e.tag===5&&e.type==="form"?Nx(e):Fa.r(t)}var Gs=typeof document>"u"?null:document;function Iw(t,e,n){var a=Gs;if(a&&typeof e=="string"&&e){var r=gn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),cb.has(r)||(cb.add(r),t={rel:t,crossOrigin:n,href:e},a.querySelector(r)===null&&(e=a.createElement("link"),yt(e,"link",t),dt(e),a.head.appendChild(e)))}}function _C(t){Fa.D(t),Iw("dns-prefetch",t,null)}function xC(t,e){Fa.C(t,e),Iw("preconnect",t,e)}function wC(t,e,n){Fa.L(t,e,n);var a=Gs;if(a&&t&&e){var r='link[rel="preload"][as="'+gn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+gn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+gn(n.imageSizes)+'"]')):r+='[href="'+gn(t)+'"]';var i=r;switch(e){case"style":i=Rs(t);break;case"script":i=Qs(t)}wn.has(i)||(t=Pe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wn.set(i,t),a.querySelector(r)!==null||e==="style"&&a.querySelector(Hl(i))||e==="script"&&a.querySelector(Ul(i))||(e=a.createElement("link"),yt(e,"link",t),dt(e),a.head.appendChild(e)))}}function SC(t,e){Fa.m(t,e);var n=Gs;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+gn(a)+'"][href="'+gn(t)+'"]',i=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Qs(t)}if(!wn.has(i)&&(t=Pe({rel:"modulepreload",href:t},e),wn.set(i,t),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ul(i)))return}a=n.createElement("link"),yt(a,"link",t),dt(a),n.head.appendChild(a)}}}function kC(t,e,n){Fa.S(t,e,n);var a=Gs;if(a&&t){var r=us(a).hoistableStyles,i=Rs(t);e=e||"default";var s=r.get(i);if(!s){var o={loading:0,preload:null};if(s=a.querySelector(Hl(i)))o.loading=5;else{t=Pe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wn.get(i))&&Gg(t,n);var l=s=a.createElement("link");dt(l),yt(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,tu(s,e,a)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(i,s)}}}function DC(t,e){Fa.X(t,e);var n=Gs;if(n&&t){var a=us(n).hoistableScripts,r=Qs(t),i=a.get(r);i||(i=n.querySelector(Ul(r)),i||(t=Pe({src:t,async:!0},e),(e=wn.get(r))&&Qg(t,e),i=n.createElement("script"),dt(i),yt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function EC(t,e){Fa.M(t,e);var n=Gs;if(n&&t){var a=us(n).hoistableScripts,r=Qs(t),i=a.get(r);i||(i=n.querySelector(Ul(r)),i||(t=Pe({src:t,async:!0,type:"module"},e),(e=wn.get(r))&&Qg(t,e),i=n.createElement("script"),dt(i),yt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function ub(t,e,n,a){var r=(r=pr.current)?Yu(r):null;if(!r)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Rs(n.href),n=us(r).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Rs(n.href);var i=us(r).hoistableStyles,s=i.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=r.querySelector(Hl(t)))&&!i._p&&(s.instance=i,s.state.loading=5),wn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wn.set(t,n),i||CC(r,t,n,s.state))),e&&a===null)throw Error(z(528,""));return s}if(e&&a!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Qs(n),n=us(r).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function Rs(t){return'href="'+gn(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Yw(t){return Pe({},t,{"data-precedence":t.precedence,precedence:null})}function CC(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),yt(e,"link",n),dt(e),t.head.appendChild(e))}function Qs(t){return'[src="'+gn(t)+'"]'}function Ul(t){return"script[async]"+t}function db(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+gn(n.href)+'"]');if(a)return e.instance=a,dt(a),a;var r=Pe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),dt(a),yt(a,"style",r),tu(a,n.precedence,t),e.instance=a;case"stylesheet":r=Rs(n.href);var i=t.querySelector(Hl(r));if(i)return e.state.loading|=4,e.instance=i,dt(i),i;a=Yw(n),(r=wn.get(r))&&Gg(a,r),i=(t.ownerDocument||t).createElement("link"),dt(i);var s=i;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),yt(i,"link",a),e.state.loading|=4,tu(i,n.precedence,t),e.instance=i;case"script":return i=Qs(n.src),(r=t.querySelector(Ul(i)))?(e.instance=r,dt(r),r):(a=n,(r=wn.get(i))&&(a=Pe({},n),Qg(a,r)),t=t.ownerDocument||t,r=t.createElement("script"),dt(r),yt(r,"link",a),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(a=e.instance,e.state.loading|=4,tu(a,n.precedence,t));return e.instance}function tu(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,i=r,s=0;s<a.length;s++){var o=a[s];if(o.dataset.precedence===e)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Gg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Qg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var nu=null;function hb(t,e,n){if(nu===null){var a=new Map,r=nu=new Map;r.set(n,a)}else r=nu,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Nl]||i[pt]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=a.get(s);o?o.push(i):a.set(s,[i])}}return a}function fb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function TC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $w(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function MC(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Rs(a.href),i=e.querySelector(Hl(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=$u.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,dt(i);return}i=e.ownerDocument||e,a=Yw(a),(r=wn.get(r))&&Gg(a,r),i=i.createElement("link"),dt(i);var s=i;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),yt(i,"link",a),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=$u.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Fh=0;function OC(t,e){return t.stylesheets&&t.count===0&&au(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&au(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Fh===0&&(Fh=62500*uC());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&au(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Fh?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)au(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function au(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,e.forEach(AC,t),Fu=null,$u.call(t))}function AC(t,e){if(!(e.state.loading&4)){var n=Fu.get(t);if(n)var a=n.get(null);else{n=new Map,Fu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var s=r[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}r=e.instance,s=r.getAttribute("data-precedence"),i=n.get(s)||a,i===a&&n.set(null,r),n.set(s,r),this.count++,a=$u.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var bl={$$typeof:wa,Provider:null,Consumer:null,_currentValue:oi,_currentValue2:oi,_threadCount:0};function RC(t,e,n,a,r,i,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.hiddenUpdates=fh(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Fw(t,e,n,a,r,i,s,o,l,c,u,d){return t=new RC(t,e,n,s,l,c,u,d,o),e=1,i===!0&&(e|=24),i=Qt(3,null,null,e),t.current=i,i.stateNode=t,e=wg(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:e},Dg(i),t}function qw(t){return t?(t=is,t):is}function Vw(t,e,n,a,r,i){r=qw(r),a.context===null?a.context=r:a.pendingContext=r,a=mr(e),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=br(t,a,e),n!==null&&(It(n,t,e),Io(n,t,e))}function pb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xg(t,e){pb(t,e),(t=t.alternate)&&pb(t,e)}function Ww(t){if(t.tag===13||t.tag===31){var e=Ti(t,67108864);e!==null&&It(e,t,67108864),Xg(t,67108864)}}function gb(t){if(t.tag===13||t.tag===31){var e=tn();e=lg(e);var n=Ti(t,e);n!==null&&It(n,t,e),Xg(t,e)}}var qu=!0;function NC(t,e,n,a){var r=K.T;K.T=null;var i=fe.p;try{fe.p=2,Jg(t,e,n,a)}finally{fe.p=i,K.T=r}}function jC(t,e,n,a){var r=K.T;K.T=null;var i=fe.p;try{fe.p=8,Jg(t,e,n,a)}finally{fe.p=i,K.T=r}}function Jg(t,e,n,a){if(qu){var r=_p(a);if(r===null)Yh(t,e,a,Vu,n),mb(t,a);else if(PC(r,t,e,n,a))a.stopPropagation();else if(mb(t,a),e&4&&-1<LC.indexOf(t)){for(;r!==null;){var i=qs(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Kr(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-en(s);o.entanglements[1]|=l,s&=~l}ra(i),!(he&6)&&(Lu=Jt()+500,Bl(0))}}break;case 31:case 13:o=Ti(i,2),o!==null&&It(o,i,2),Pd(),Xg(i,2)}if(i=_p(a),i===null&&Yh(t,e,a,Vu,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else Yh(t,e,a,null,n)}}function _p(t){return t=hg(t),Zg(t)}var Vu=null;function Zg(t){if(Vu=null,t=Zi(t),t!==null){var e=Ml(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=f_(e),t!==null)return t;t=null}else if(n===31){if(t=p_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Vu=t,null}function Kw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_D()){case v_:return 2;case y_:return 8;case xu:case xD:return 32;case __:return 268435456;default:return 32}default:return 32}}var xp=!1,_r=null,xr=null,wr=null,vl=new Map,yl=new Map,rr=[],LC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(t,e){switch(t){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function ho(t,e,n,a,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},e!==null&&(e=qs(e),e!==null&&Ww(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function PC(t,e,n,a,r){switch(e){case"focusin":return _r=ho(_r,t,e,n,a,r),!0;case"dragenter":return xr=ho(xr,t,e,n,a,r),!0;case"mouseover":return wr=ho(wr,t,e,n,a,r),!0;case"pointerover":var i=r.pointerId;return vl.set(i,ho(vl.get(i)||null,t,e,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,yl.set(i,ho(yl.get(i)||null,t,e,n,a,r)),!0}return!1}function Gw(t){var e=Zi(t.target);if(e!==null){var n=Ml(e);if(n!==null){if(e=n.tag,e===13){if(e=f_(n),e!==null){t.blockedOn=e,e0(t.priority,function(){gb(n)});return}}else if(e===31){if(e=p_(n),e!==null){t.blockedOn=e,e0(t.priority,function(){gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_p(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Hf=a,n.target.dispatchEvent(a),Hf=null}else return e=qs(n),e!==null&&Ww(e),t.blockedOn=n,!1;e.shift()}return!0}function bb(t,e,n){ru(t)&&n.delete(e)}function zC(){xp=!1,_r!==null&&ru(_r)&&(_r=null),xr!==null&&ru(xr)&&(xr=null),wr!==null&&ru(wr)&&(wr=null),vl.forEach(bb),yl.forEach(bb)}function pc(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,zC)))}var gc=null;function vb(t){gc!==t&&(gc=t,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,function(){gc===t&&(gc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],r=t[e+2];if(typeof a!="function"){if(Zg(a||n)===null)continue;break}var i=qs(n);i!==null&&(t.splice(e,3),e-=3,tp(i,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Ns(t){function e(l){return pc(l,t)}_r!==null&&pc(_r,t),xr!==null&&pc(xr,t),wr!==null&&pc(wr,t),vl.forEach(e),yl.forEach(e);for(var n=0;n<rr.length;n++){var a=rr[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Gw(n),n.blockedOn===null&&rr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],i=n[a+1],s=r[Yt]||null;if(typeof i=="function")s||vb(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,s=i[Yt]||null)o=s.formAction;else if(Zg(r)!==null)continue}else o=s.action;typeof o=="function"?n[a+1]=o:(n.splice(a,3),a-=3),vb(n)}}}function Qw(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return r=s})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function em(t){this._internalRoot=t}Hd.prototype.render=em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,a=tn();Vw(n,a,t,e,null,null)};Hd.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vw(t.current,2,null,t,null,null),Pd(),e[Fs]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=D_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&Gw(t)}};var yb=d_.version;if(yb!=="19.2.0")throw Error(z(527,yb,"19.2.0"));fe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=fD(e),t=t!==null?g_(t):null,t=t===null?null:t.stateNode,t};var BC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Ol=mc.inject(BC),Zt=mc}catch{}}wd.createRoot=function(t,e){if(!h_(t))throw Error(z(299));var n=!1,a="",r=Ix,i=Yx,s=$x;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fw(t,1,!1,null,null,n,a,null,r,i,s,Qw),t[Fs]=e.current,Kg(t),new em(e)};wd.hydrateRoot=function(t,e,n){if(!h_(t))throw Error(z(299));var a=!1,r="",i=Ix,s=Yx,o=$x,l=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=Fw(t,1,!0,e,n??null,a,r,l,i,s,o,Qw),e.context=qw(null),n=e.current,a=tn(),a=lg(a),r=mr(a),r.callback=null,br(n,r,a),n=a,e.current.lanes=n,Rl(e,n),ra(e),t[Fs]=e.current,Kg(t),new Hd(e)};wd.version="19.2.0";function Xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xw)}catch(t){console.error(t)}}Xw(),i_.exports=wd;var HC=i_.exports;const UC=Jp(HC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _b="popstate";function IC(t={}){function e(a,r){let{pathname:i,search:s,hash:o}=a.location;return wp("",{pathname:i,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:_l(r)}return $C(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ea(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YC(){return Math.random().toString(36).substring(2,10)}function xb(t,e){return{usr:t.state,key:t.key,idx:e}}function wp(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:n,key:e&&e.key||a||YC()}}function _l({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function $C(t,e,n,a={}){let{window:r=document.defaultView,v5Compat:i=!1}=a,s=r.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function d(){o="POP";let _=u(),g=_==null?null:_-c;c=_,l&&l({action:o,location:y.location,delta:g})}function h(_,g){o="PUSH";let m=wp(y.location,_,g);c=u()+1;let b=xb(m,c),x=y.createHref(m);try{s.pushState(b,"",x)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(x)}i&&l&&l({action:o,location:y.location,delta:1})}function f(_,g){o="REPLACE";let m=wp(y.location,_,g);c=u();let b=xb(m,c),x=y.createHref(m);s.replaceState(b,"",x),i&&l&&l({action:o,location:y.location,delta:0})}function v(_){return FC(_)}let y={get action(){return o},get location(){return t(r,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(_b,d),l=_,()=>{r.removeEventListener(_b,d),l=null}},createHref(_){return e(r,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(_){return s.go(_)}};return y}function FC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:_l(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Jw(t,e,n="/"){return qC(t,e,n,!1)}function qC(t,e,n,a){let r=typeof e=="string"?Xs(e):e,i=Ya(r.pathname||"/",n);if(i==null)return null;let s=Zw(t);VC(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=aT(i);o=tT(s[l],c,a)}return o}function Zw(t,e=[],n=[],a="",r=!1){let i=(s,o,l=r,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(a)&&l)return;Ie(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length)}let d=Aa([a,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Ie(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Zw(s.children,e,h,d,l)),!(s.path==null&&!s.index)&&e.push({path:d,score:ZC(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of eS(s.path))i(s,o,!0,c)}),e}function eS(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let s=eS(a.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),r&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function VC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eT(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var WC=/^:[\w-]+$/,KC=3,GC=2,QC=1,XC=10,JC=-2,wb=t=>t==="*";function ZC(t,e){let n=t.split("/"),a=n.length;return n.some(wb)&&(a+=JC),e&&(a+=GC),n.filter(r=>!wb(r)).reduce((r,i)=>r+(WC.test(i)?KC:i===""?QC:XC),a)}function eT(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function tT(t,e,n=!1){let{routesMeta:a}=t,r={},i="/",s=[];for(let o=0;o<a.length;++o){let l=a[o],c=o===a.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Wu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!a[a.length-1].route.index&&(d=Wu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:Aa([i,d.pathname]),pathnameBase:oT(Aa([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Aa([i,d.pathnameBase]))}return s}function Wu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=nT(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let v=o[h]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=o[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function nT(t,e=!1,n=!0){ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(a.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function aT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ea(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function rT(t,e="/"){let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:iT(n,e):e,search:lT(a),hash:cT(r)}}function iT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tS(t){let e=sT(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function nS(t,e,n,a=!1){let r;typeof t=="string"?r=Xs(t):(r={...t},Ie(!r.pathname||!r.pathname.includes("?"),qh("?","pathname","search",r)),Ie(!r.pathname||!r.pathname.includes("#"),qh("#","pathname","hash",r)),Ie(!r.search||!r.search.includes("#"),qh("#","search","hash",r)));let i=t===""||r.pathname==="",s=i?"/":r.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!a&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=rT(r,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Aa=t=>t.join("/").replace(/\/\/+/g,"/"),oT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var aS=["POST","PUT","PATCH","DELETE"];new Set(aS);var dT=["GET",...aS];new Set(dT);var Js=w.createContext(null);Js.displayName="DataRouter";var Ud=w.createContext(null);Ud.displayName="DataRouterState";w.createContext(!1);var rS=w.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var hT=w.createContext(new Map);hT.displayName="Fetchers";var fT=w.createContext(null);fT.displayName="Await";var ia=w.createContext(null);ia.displayName="Navigation";var Il=w.createContext(null);Il.displayName="Location";var sa=w.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var tm=w.createContext(null);tm.displayName="RouteError";function pT(t,{relative:e}={}){Ie(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=w.useContext(ia),{hash:r,pathname:i,search:s}=$l(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Aa([n,i])),a.createHref({pathname:o,search:s,hash:r})}function Yl(){return w.useContext(Il)!=null}function Pr(){return Ie(Yl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Il).location}var iS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(t){w.useContext(ia).static||w.useLayoutEffect(t)}function zr(){let{isDataRoute:t}=w.useContext(sa);return t?CT():gT()}function gT(){Ie(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Js),{basename:e,navigator:n}=w.useContext(ia),{matches:a}=w.useContext(sa),{pathname:r}=Pr(),i=JSON.stringify(tS(a)),s=w.useRef(!1);return sS(()=>{s.current=!0}),w.useCallback((l,c={})=>{if(ea(s.current,iS),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=nS(l,JSON.parse(i),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Aa([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,r,t])}w.createContext(null);function nm(){let{matches:t}=w.useContext(sa),e=t[t.length-1];return e?e.params:{}}function $l(t,{relative:e}={}){let{matches:n}=w.useContext(sa),{pathname:a}=Pr(),r=JSON.stringify(tS(n));return w.useMemo(()=>nS(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function mT(t,e){return oS(t,e)}function oS(t,e,n,a,r){var m;Ie(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(ia),{matches:s}=w.useContext(sa),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let b=d&&d.path||"";lS(c,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=Pr(),f;if(e){let b=typeof e=="string"?Xs(e):e;Ie(u==="/"||((m=b.pathname)==null?void 0:m.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=h;let v=f.pathname||"/",y=v;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=Jw(t,{pathname:y});ea(d||_!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ea(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=xT(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Aa([u,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Aa([u,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,n,a,r);return e&&g?w.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function bT(){let t=ET(),e=uT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:r},n):null,s)}var vT=w.createElement(bT,null),yT=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(sa.Provider,{value:this.props.routeContext},w.createElement(tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _T({routeContext:t,match:e,children:n}){let a=w.useContext(Js);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(sa.Provider,{value:t},n)}function xT(t,e=[],n=null,a=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ie(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let h,f=!1,v=null,y=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,v=u.route.errorElement||vT,o&&(l<0&&d===0?(lS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):l===d&&(f=!0,y=u.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,d+1)),g=()=>{let m;return h?m=v:f?m=y:u.route.Component?m=w.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=c,w.createElement(_T,{match:u,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?w.createElement(yT,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:a}):g()},null)}function am(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(t){let e=w.useContext(Js);return Ie(e,am(t)),e}function ST(t){let e=w.useContext(Ud);return Ie(e,am(t)),e}function kT(t){let e=w.useContext(sa);return Ie(e,am(t)),e}function rm(t){let e=kT(t),n=e.matches[e.matches.length-1];return Ie(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DT(){return rm("useRouteId")}function ET(){var a;let t=w.useContext(tm),e=ST("useRouteError"),n=rm("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function CT(){let{router:t}=wT("useNavigate"),e=rm("useNavigate"),n=w.useRef(!1);return sS(()=>{n.current=!0}),w.useCallback(async(r,i={})=>{ea(n.current,iS),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var Sb={};function lS(t,e,n){!e&&!Sb[t]&&(Sb[t]=!0,ea(!1,n))}w.memo(TT);function TT({routes:t,future:e,state:n,unstable_onError:a}){return oS(t,void 0,n,a,e)}function Cn(t){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MT({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:r,static:i=!1}){Ie(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:s,navigator:r,static:i,future:{}}),[s,r,i]);typeof n=="string"&&(n=Xs(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=w.useMemo(()=>{let v=Ya(l,s);return v==null?null:{location:{pathname:v,search:c,hash:u,state:d,key:h},navigationType:a}},[s,l,c,u,d,h,a]);return ea(f!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:w.createElement(ia.Provider,{value:o},w.createElement(Il.Provider,{children:e,value:f}))}function OT({children:t,location:e}){return mT(Sp(t),e)}function Sp(t,e=[]){let n=[];return w.Children.forEach(t,(a,r)=>{if(!w.isValidElement(a))return;let i=[...e,r];if(a.type===w.Fragment){n.push.apply(n,Sp(a.props.children,i));return}Ie(a.type===Cn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=Sp(a.props.children,i)),n.push(s)}),n}var iu="get",su="application/x-www-form-urlencoded";function Id(t){return t!=null&&typeof t.tagName=="string"}function AT(t){return Id(t)&&t.tagName.toLowerCase()==="button"}function RT(t){return Id(t)&&t.tagName.toLowerCase()==="form"}function NT(t){return Id(t)&&t.tagName.toLowerCase()==="input"}function jT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LT(t,e){return t.button===0&&(!e||e==="_self")&&!jT(t)}var bc=null;function PT(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}var zT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vh(t){return t!=null&&!zT.has(t)?(ea(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):t}function BT(t,e){let n,a,r,i,s;if(RT(t)){let o=t.getAttribute("action");a=o?Ya(o,e):null,n=t.getAttribute("method")||iu,r=Vh(t.getAttribute("enctype"))||su,i=new FormData(t)}else if(AT(t)||NT(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(a=l?Ya(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||iu,r=Vh(t.getAttribute("formenctype"))||Vh(o.getAttribute("enctype"))||su,i=new FormData(o,t),!PT()){let{name:c,type:u,value:d}=t;if(u==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,d)}}else{if(Id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iu,a=null,r=su,s=t}return i&&r==="text/plain"&&(s=i,i=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function im(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HT(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Ya(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function UT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YT(t,e,n){let a=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let s=await UT(i,n);return s.links?s.links():[]}return[]}));return VT(a.flat(1).filter(IT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function kb(t,e,n,a,r,i){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var d;let u=a.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function $T(t,e,{includeHydrateFallback:n}={}){return FT(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function FT(t){return[...new Set(t)]}function qT(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function VT(t,e){let n=new Set;return new Set(e),t.reduce((a,r)=>{let i=JSON.stringify(qT(r));return n.has(i)||(n.add(i),a.push({key:i,link:r})),a},[])}function cS(){let t=w.useContext(Js);return im(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WT(){let t=w.useContext(Ud);return im(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sm=w.createContext(void 0);sm.displayName="FrameworkContext";function uS(){let t=w.useContext(sm);return im(t,"You must render this element inside a <HydratedRouter> element"),t}function KT(t,e){let n=w.useContext(sm),[a,r]=w.useState(!1),[i,s]=w.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=w.useRef(null);w.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=g=>{g.forEach(m=>{s(m.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return h.current&&_.observe(h.current),()=>{_.disconnect()}}},[t]),w.useEffect(()=>{if(a){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[a]);let f=()=>{r(!0)},v=()=>{r(!1),s(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:fo(o,f),onBlur:fo(l,v),onMouseEnter:fo(c,f),onMouseLeave:fo(u,v),onTouchStart:fo(d,f)}]:[!1,h,{}]}function fo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function GT({page:t,...e}){let{router:n}=cS(),a=w.useMemo(()=>Jw(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?w.createElement(XT,{page:t,matches:a,...e}):null}function QT(t){let{manifest:e,routeModules:n}=uS(),[a,r]=w.useState([]);return w.useEffect(()=>{let i=!1;return YT(t,e,n).then(s=>{i||r(s)}),()=>{i=!0}},[t,e,n]),a}function XT({page:t,matches:e,...n}){let a=Pr(),{manifest:r,routeModules:i}=uS(),{basename:s}=cS(),{loaderData:o,matches:l}=WT(),c=w.useMemo(()=>kb(t,e,l,r,a,"data"),[t,e,l,r,a]),u=w.useMemo(()=>kb(t,e,l,r,a,"assets"),[t,e,l,r,a]),d=w.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let v=new Set,y=!1;if(e.forEach(g=>{var b;let m=r.routes[g.route.id];!m||!m.hasLoader||(!c.some(x=>x.route.id===g.route.id)&&g.route.id in o&&((b=i[g.route.id])!=null&&b.shouldRevalidate)||m.hasClientLoader?y=!0:v.add(g.route.id))}),v.size===0)return[];let _=HT(t,s,"data");return y&&v.size>0&&_.searchParams.set("_routes",e.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[s,o,a,r,c,e,t,i]),h=w.useMemo(()=>$T(u,r),[u,r]),f=QT(u);return w.createElement(w.Fragment,null,d.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),f.map(({key:v,link:y})=>w.createElement("link",{key:v,nonce:n.nonce,...y})))}function JT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.9.4")}catch{}function ZT({basename:t,children:e,window:n}){let a=w.useRef();a.current==null&&(a.current=IC({window:n,v5Compat:!0}));let r=a.current,[i,s]=w.useState({action:r.action,location:r.location}),o=w.useCallback(l=>{w.startTransition(()=>s(l))},[s]);return w.useLayoutEffect(()=>r.listen(o),[r,o]),w.createElement(MT,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qo=w.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:r,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},f){let{basename:v}=w.useContext(ia),y=typeof c=="string"&&hS.test(c),_,g=!1;if(typeof c=="string"&&y&&(_=c,dS))try{let T=new URL(window.location.href),R=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=Ya(R.pathname,v);R.origin===T.origin&&M!=null?c=M+R.search+R.hash:g=!0}catch{ea(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=pT(c,{relative:r}),[b,x,D]=KT(a,h),k=aM(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:r,viewTransition:d});function S(T){e&&e(T),T.defaultPrevented||k(T)}let E=w.createElement("a",{...h,...D,href:_||m,onClick:g||i?e:S,ref:JT(f,x),target:l,"data-discover":!y&&n==="render"?"true":void 0});return b&&!y?w.createElement(w.Fragment,null,E,w.createElement(GT,{page:m})):E});Qo.displayName="Link";var eM=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:r=!1,style:i,to:s,viewTransition:o,children:l,...c},u){let d=$l(s,{relative:c.relative}),h=Pr(),f=w.useContext(Ud),{navigator:v,basename:y}=w.useContext(ia),_=f!=null&&lM(d)&&o===!0,g=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,m=h.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(m=m.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&y&&(b=Ya(b,y)||b);const x=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let D=m===g||!r&&m.startsWith(g)&&m.charAt(x)==="/",k=b!=null&&(b===g||!r&&b.startsWith(g)&&b.charAt(g.length)==="/"),S={isActive:D,isPending:k,isTransitioning:_},E=D?e:void 0,T;typeof a=="function"?T=a(S):T=[a,D?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(S):i;return w.createElement(Qo,{...c,"aria-current":E,className:T,ref:u,style:R,to:s,viewTransition:o},typeof l=="function"?l(S):l)});eM.displayName="NavLink";var tM=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:r,state:i,method:s=iu,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let v=sM(),y=oM(o,{relative:c}),_=s.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&hS.test(o),m=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let x=b.nativeEvent.submitter,D=(x==null?void 0:x.getAttribute("formmethod"))||s;v(x||b.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:i,relative:c,preventScrollReset:u,viewTransition:d})};return w.createElement("form",{ref:f,method:_,action:y,onSubmit:a?l:m,...h,"data-discover":!g&&t==="render"?"true":void 0})});tM.displayName="Form";function nM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(t){let e=w.useContext(Js);return Ie(e,nM(t)),e}function aM(t,{target:e,replace:n,state:a,preventScrollReset:r,relative:i,viewTransition:s}={}){let o=zr(),l=Pr(),c=$l(t,{relative:i});return w.useCallback(u=>{if(LT(u,e)){u.preventDefault();let d=n!==void 0?n:_l(l)===_l(c);o(t,{replace:d,state:a,preventScrollReset:r,relative:i,viewTransition:s})}},[l,o,c,n,a,e,t,r,i,s])}var rM=0,iM=()=>`__${String(++rM)}__`;function sM(){let{router:t}=fS("useSubmit"),{basename:e}=w.useContext(ia),n=DT();return w.useCallback(async(a,r={})=>{let{action:i,method:s,encType:o,formData:l,body:c}=BT(a,e);if(r.navigate===!1){let u=r.fetcherKey||iM();await t.fetch(u,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function oM(t,{relative:e}={}){let{basename:n}=w.useContext(ia),a=w.useContext(sa);Ie(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),i={...$l(t||".",{relative:e})},s=Pr();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Aa([n,i.pathname])),_l(i)}function lM(t,{relative:e}={}){let n=w.useContext(rS);Ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fS("useViewTransitionState"),r=$l(t,{relative:e});if(!n.isTransitioning)return!1;let i=Ya(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=Ya(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Wu(r.pathname,s)!=null||Wu(r.pathname,i)!=null}const pS=w.createContext(void 0),cM=({children:t})=>{const[e,n]=w.useState(()=>{const r=localStorage.getItem("theme");return r==="dark"||r==="light"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});w.useEffect(()=>{const r=document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const a=()=>{n(r=>{const i=r==="light"?"dark":"light";return document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i),i})};return p.jsx(pS.Provider,{value:{theme:e,toggleTheme:a},children:t})},gS=()=>{const t=w.useContext(pS);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},uM=()=>{const{theme:t,toggleTheme:e}=gS();return p.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400","aria-label":t==="light"?" ":" ",title:t==="light"?" ":" ",children:t==="light"?p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})},dM="modulepreload",hM=function(t){return"/"+t},Db={},Fl=function(e,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=hM(l),l in Db)return;Db[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":dM,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return r.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},fM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fl(async()=>{const{default:a}=await Promise.resolve().then(()=>Zs);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class om extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class Eb extends om{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cb extends om{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tb extends om{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kp||(kp={}));var pM=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};class gM{constructor(e,{headers:n={},customFetch:a,region:r=kp.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=fM(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pM(this,arguments,void 0,function*(n,a={}){var r;try{const{headers:i,method:s,body:o,signal:l}=a;let c={},{region:u}=a;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(c["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(c["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Eb(g)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new Cb(f);if(!f.ok)throw new Tb(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield f.json():y==="application/octet-stream"?_=yield f.blob():y==="text/event-stream"?_=f:y==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Eb(i)}:{data:null,error:i,response:i instanceof Tb||i instanceof Cb?i.context:void 0}}})}}var Bt={},lm={},Yd={},ql={},$d={},Fd={},mM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},js=mM();const bM=js.fetch,mS=js.fetch.bind(js),bS=js.Headers,vM=js.Request,yM=js.Response,Zs=Object.freeze(Object.defineProperty({__proto__:null,Headers:bS,Request:vM,Response:yM,default:mS,fetch:bM},Symbol.toStringTag,{value:"Module"})),_M=Y1(Zs);var qd={};Object.defineProperty(qd,"__esModule",{value:!0});let xM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};qd.default=xM;var vS=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fd,"__esModule",{value:!0});const wM=vS(_M),SM=vS(qd);let kM=class{constructor(e){var n,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=wM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let r=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l,c;let u=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=m:d=JSON.parse(m))}const _=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,v="OK")}catch{i.status===404&&_===""?(f=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new SM.default(u)}return{error:u,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(r=r.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};Fd.default=kM;var DM=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($d,"__esModule",{value:!0});const EM=DM(Fd);let CM=class extends EM.default{select(e){let n=!1;const a=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:a,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:a=n}={}){const r=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:a,referencedTable:r=a}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:a=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,a?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};$d.default=CM;var TM=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ql,"__esModule",{value:!0});const MM=TM($d);let OM=class extends MM.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const a=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:a,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,a])=>{this.url.searchParams.append(n,`eq.${a}`)}),this}not(e,n,a){return this.url.searchParams.append(e,`not.${n}.${a}`),this}or(e,{foreignTable:n,referencedTable:a=n}={}){const r=a?`${a}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,a){return this.url.searchParams.append(e,`${n}.${a}`),this}};ql.default=OM;var AM=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yd,"__esModule",{value:!0});const po=AM(ql);let RM=class{constructor(e,{headers:n={},schema:a,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=a,this.fetch=r}select(e,n){const{head:a=!1,count:r}=n??{},i=a?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new po.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:a=!0}={}){var r;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new po.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:a=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new po.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var a;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new po.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:e}={}){var n;const a="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new po.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Yd.default=RM;var yS=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lm,"__esModule",{value:!0});const NM=yS(Yd),jM=yS(ql);let LM=class _S{constructor(e,{headers:n={},schema:a,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new NM.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _S(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:r=!1,count:i}={}){var s;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;a||r?(o=a?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new jM.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};lm.default=LM;var eo=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const xS=eo(lm);Bt.PostgrestClient=xS.default;const wS=eo(Yd);Bt.PostgrestQueryBuilder=wS.default;const SS=eo(ql);Bt.PostgrestFilterBuilder=SS.default;const kS=eo($d);Bt.PostgrestTransformBuilder=kS.default;const DS=eo(Fd);Bt.PostgrestBuilder=DS.default;const ES=eo(qd);Bt.PostgrestError=ES.default;var PM=Bt.default={PostgrestClient:xS.default,PostgrestQueryBuilder:wS.default,PostgrestFilterBuilder:SS.default,PostgrestTransformBuilder:kS.default,PostgrestBuilder:DS.default,PostgrestError:ES.default};const{PostgrestClient:zM,PostgrestQueryBuilder:Ez,PostgrestFilterBuilder:Cz,PostgrestTransformBuilder:Tz,PostgrestBuilder:Mz,PostgrestError:Oz}=PM;class BM{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HM="2.74.0",UM=`realtime-js/${HM}`,IM="1.0.0",Dp=1e4,YM=1e3,$M=100;var Xo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xo||(Xo={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var On;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(On||(On={}));var Ep;(function(t){t.websocket="websocket"})(Ep||(Ep={}));var ti;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ti||(ti={}));class FM{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const r=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=a.decode(e.slice(s,s+r));s=s+r;const l=a.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(a.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class CS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Oe||(Oe={}));const Mb=(t,e,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=qM(s,t,e,r),i),{}):{}},qM=(t,e,n,a)=>{const r=e.find(o=>o.name===t),i=r==null?void 0:r.type,s=n[t];return i&&!a.includes(i)?TS(i,s):Cp(s)},TS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return GM(e,n)}switch(t){case Oe.bool:return VM(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return WM(e);case Oe.json:case Oe.jsonb:return KM(e);case Oe.timestamp:return QM(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Cp(e);default:return Cp(e)}},Cp=t=>t,VM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},WM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},KM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},GM=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>TS(e,o))}return t},QM=t=>typeof t=="string"?t.replace(" ","T"):t,MS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Wh{constructor(e,n,a={},r=Dp){this.channel=e,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ob;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ob||(Ob={}));class Jo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jo.syncState(this.state,r,i,s),this.pendingDiffs.forEach(l=>{this.state=Jo.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(a.diff,{},r=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Jo.syncDiff(this.state,r,i,s),o())}),this.onJoin((r,i,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:s})}),this.onLeave((r,i,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,r){const i=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=i[c];if(d){const h=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),v=u.filter(_=>f.indexOf(_.presence_ref)<0),y=d.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(o[c]=v),y.length>0&&(l[c]=y)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},a,r)}static syncDiff(e,n,a,r){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(...h)}a(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,r(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const r=e[a];return"metas"in r?n[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ab;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ab||(Ab={}));var Zo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zo||(Zo={}));var va;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(va||(va={}));class cm{constructor(e,n={config:{}},a){var r,i;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,On.join,this.params,this.timeout),this.rejoinTimer=new CS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Jo(this),this.broadcastEndpointURL=MS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(f=>f.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[Zo.PRESENCE]&&this.bindings[Zo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(va.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(va.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e==null||e(va.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let m=0;m<_;m++){const b=y[m],{filter:{event:x,schema:D,table:k,filter:S}}=b,E=f&&f[m];if(E&&E.event===x&&E.schema===D&&E.table===k&&E.filter===S)g.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(va.SUBSCRIBED);return}}).receive("error",f=>{this.state=st.errored,e==null||e(va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===st.joined&&e===Zo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new Wh(this,On.leave,{},e),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const r=new AbortController,i=setTimeout(()=>r.abort(),a),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),s}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Wh(this,e,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$M){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var r,i;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=On;if(a&&[o,l,c,u].indexOf(s)>=0&&a!==this._joinRef())return;let h=this._onMessage(s,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var v,y,_;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(y=f.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(h,a)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var v,y,_,g,m,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const x=f.id,D=(v=f.filter)===null||v===void 0?void 0:v.event;return x&&((y=n.ids)===null||y===void 0?void 0:y.includes(x))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(m=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:_,commit_timestamp:g,type:m,errors:b}=v;h=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:m,new:{},old:{},errors:b}),this._getPayloadRecords(v))}f.callback(h,a)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&cm.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(On.close,{},e)}_onError(e){this._on(On.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Mb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Mb(e.columns,e.old_record)),n}}const Kh=()=>{},vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XM=[1e3,2e3,5e3,1e4],JM=1e4,ZM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eO{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dp,this.transport=null,this.heartbeatIntervalMs=vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kh,this.ref=0,this.reconnectTimer=null,this.logger=Kh,this.conn=null,this.sendBuffer=[],this.serializer=new FM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Fl(async()=>{const{default:o}=await Promise.resolve().then(()=>Zs);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ep.websocket}`,this.httpEndpoint=MS(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BM.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IM}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Xo.connecting:return ti.Connecting;case Xo.open:return ti.Open;case Xo.closing:return ti.Closing;default:return ti.Closed}}isConnected(){return this.connectionState()===ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{const i=new cm(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:a,payload:r,ref:i}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${a} (${i})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:i,ref:s}=n,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${a} ${r} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(r,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(On.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${a}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([ZM],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const r={access_token:n,version:UM};n&&a.updateJoinPayload(r),a.joinedOnce&&a._isJoined()&&a._push(On.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new CS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,r,i,s,o,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:Dp,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:vc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Kh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>XM[d-1]||JM,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class um extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tO extends um{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tp extends um{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var nO=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};const OS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fl(async()=>{const{default:a}=await Promise.resolve().then(()=>Zs);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},aO=()=>nO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fl(()=>Promise.resolve().then(()=>Zs),void 0)).Response:Response}),Mp=t=>{if(Array.isArray(t))return t.map(n=>Mp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Mp(a)}),e},rO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Oi=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};const Gh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iO=(t,e,n)=>Oi(void 0,void 0,void 0,function*(){const a=yield aO();t instanceof a&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,s=(r==null?void 0:r.statusCode)||i+"";e(new tO(Gh(r),i,s))}).catch(r=>{e(new Tp(Gh(r),r))}):e(new Tp(Gh(t),t))}),sO=(t,e,n,a)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!a?r:(rO(a)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(a)):r.body=a,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Vl(t,e,n,a,r,i){return Oi(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,sO(e,a,r,i)).then(l=>{if(!l.ok)throw l;return a!=null&&a.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>iO(l,o,a))})})}function Ku(t,e,n,a){return Oi(this,void 0,void 0,function*(){return Vl(t,"GET",e,n,a)})}function Un(t,e,n,a,r){return Oi(this,void 0,void 0,function*(){return Vl(t,"POST",e,a,r,n)})}function Op(t,e,n,a,r){return Oi(this,void 0,void 0,function*(){return Vl(t,"PUT",e,a,r,n)})}function oO(t,e,n,a){return Oi(this,void 0,void 0,function*(){return Vl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function AS(t,e,n,a,r){return Oi(this,void 0,void 0,function*(){return Vl(t,"DELETE",e,a,r,n)})}var lO=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};class cO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return lO(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}}var uO=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};class dO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new cO(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return uO(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}}var Nt=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};const hO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fO{constructor(e,n={},a,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=OS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,r){return Nt(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Rb),r);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=a,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(o=Object.assign(Object.assign({},o),r.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?Op:Un)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}upload(e,n,a){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,r){return Nt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Rb.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",c.cacheControl)):(l=a,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Op(this.fetch,o.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Nt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield Un(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new um("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}update(e,n,a){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Nt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}copy(e,n,a){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,a){return Nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Un(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,a){return Nt(this,void 0,void 0,function*(){try{const r=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(e),l=()=>Ku(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new dO(l,this.shouldThrowOnError)}info(e){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Ku(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mp(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}exists(e){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield oO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a)&&a instanceof Tp){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${a}${c}`)}}}remove(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield AS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}list(e,n,a){return Nt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},hO),n),{prefix:e||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listV2(e,n){return Nt(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Un(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const pO="2.74.0",gO={"X-Client-Info":`storage-js/${pO}`};var Pi=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};class mO{constructor(e,n={},a,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gO),n),this.fetch=OS(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Pi(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}getBucket(e){return Pi(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}createBucket(e){return Pi(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Pi(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Pi(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Pi(this,void 0,void 0,function*(){try{return{data:yield AS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}}class bO extends mO{constructor(e,n={},a,r){super(e,n,a,r)}from(e){return new fO(this.url,this.headers,e,this.fetch)}}const vO="2.74.0";let Oo="";typeof Deno<"u"?Oo="deno":typeof document<"u"?Oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oo="react-native":Oo="node";const yO={"X-Client-Info":`supabase-js-${Oo}/${vO}`},_O={headers:yO},xO={schema:"public"},wO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SO={};var kO=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};const DO=t=>{let e;return t?e=t:typeof fetch>"u"?e=mS:e=fetch,(...n)=>e(...n)},EO=()=>typeof Headers>"u"?bS:Headers,CO=(t,e,n)=>{const a=DO(n),r=EO();return(i,s)=>kO(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new r(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),a(i,Object.assign(Object.assign({},s),{headers:c}))})};var TO=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};function MO(t){return t.endsWith("/")?t:t+"/"}function OO(t,e){var n,a;const{db:r,auth:i,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=o==null?void 0:o.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>TO(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function AO(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const RS="2.74.0",Ki=30*1e3,Ap=3,Qh=Ap*Ki,RO="http://localhost:9999",NO="supabase.auth.token",jO={"X-Client-Info":`gotrue-js/${RS}`},Rp="X-Supabase-Api-Version",NS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PO=10*60*1e3;class xl extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zO extends xl{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function BO(t){return V(t)&&t.name==="AuthApiError"}class ni extends xl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Br extends xl{constructor(e,n,a,r){super(e,a,r),this.name=n,this.status=a}}class Ja extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HO(t){return V(t)&&t.name==="AuthSessionMissingError"}class zi extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yc extends Br{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _c extends Br{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UO(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nb extends Br{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Np extends Br{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xh(t){return V(t)&&t.name==="AuthRetryableFetchError"}class jb extends Br{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class jp extends Br{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lb=` 	
\r=`.split(""),IO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lb.length;e+=1)t[Lb[e].charCodeAt(0)]=-2;for(let e=0;e<Gu.length;e+=1)t[Gu[e].charCodeAt(0)]=e;return t})();function Pb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Gu[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Gu[a]),e.queuedBits-=6}}function jS(t,e,n){const a=IO[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zb(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=s=>{FO(s,a,n)};for(let s=0;s<t.length;s+=1)jS(t.charCodeAt(s),r,i);return e.join("")}function YO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $O(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}YO(a,e)}}function FO(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if(!(t>>7-a&1)){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bs(t){const e=[],n={queue:0,queuedBits:0},a=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)jS(t.charCodeAt(r),n,a);return new Uint8Array(e)}function qO(t){const e=[];return $O(t,n=>e.push(n)),new Uint8Array(e)}function ai(t){const e=[],n={queue:0,queuedBits:0},a=r=>{e.push(r)};return t.forEach(r=>Pb(r,n,a)),Pb(null,n,a),e.join("")}function VO(t){return Math.round(Date.now()/1e3)+t}function WO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",Yr={tested:!1,writable:!1},LS=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yr.tested)return Yr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yr.tested=!0,Yr.writable=!0}catch{Yr.tested=!0,Yr.writable=!1}return Yr.writable};function KO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((a,r)=>{e[r]=a}),e}const PS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fl(async()=>{const{default:a}=await Promise.resolve().then(()=>Zs);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},GO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},$r=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ga=async(t,e)=>{await t.removeItem(e)};class Vd{constructor(){this.promise=new Vd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Vd.promiseConstructor=Promise;function Jh(t){const e=t.split(".");if(e.length!==3)throw new jp("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!LO.test(e[a]))throw new jp("JWT not in base64url format");return{header:JSON.parse(zb(e[0])),payload:JSON.parse(zb(e[1])),signature:bs(e[2]),raw:{header:e[0],payload:e[1]}}}async function QO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XO(t,e){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){a(s);return}}catch(s){if(!e(i,s)){r(s);return}}})()})}function JO(t){return("0"+t.toString(16)).substr(-2)}function ZO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(e),Array.from(e,JO).join("")}async function e2(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function t2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await e2(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bi(t,e,n=!1){const a=ZO();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await Gi(t,`${e}-code-verifier`,r);const i=await t2(a);return[i,a===i?"plain":"s256"]}const n2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a2(t){const e=t.headers.get(Rp);if(!e||!e.match(n2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function r2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function i2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hi(t){if(!s2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bb(t){return JSON.parse(JSON.stringify(t))}var o2=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l2=[502,503,504];async function Hb(t){var e;if(!GO(t))throw new Np(Xr(t),0);if(l2.includes(t.status))throw new Np(Xr(t),t.status);let n;try{n=await t.json()}catch(i){throw new ni(Xr(i),i)}let a;const r=a2(t);if(r&&r.getTime()>=NS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new jb(Xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Ja}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new jb(Xr(n),t.status,n.weak_password.reasons);throw new zO(Xr(n),t.status||500,a)}const c2=(t,e,n,a)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function G(t,e,n,a){var r;const i=Object.assign({},a==null?void 0:a.headers);i[Rp]||(i[Rp]=NS["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const s=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await u2(t,e,n+o,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(l):{data:Object.assign({},l),error:null}}async function u2(t,e,n,a,r,i){const s=c2(e,a,r,i);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new Np(Xr(l),0)}if(o.ok||await Hb(o),a!=null&&a.noResolveJson)return o;try{return await o.json()}catch(l){await Hb(l)}}function Tn(t){var e;let n=null;f2(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=VO(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function Ub(t){const e=Tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ir(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function d2(t){return{data:t,error:null}}function h2(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i}=t,s=o2(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Ib(t){return t}function f2(t){return t.access_token&&t.refresh_token&&t.expires_in}const ef=["global","local","others"];var p2=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class g2{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=PS(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ef[0]){if(ef.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ef.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(V(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ir})}catch(a){if(V(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=p2(e,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:h2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ir})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,r,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ib});if(u.error)throw u.error;const d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Hi(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ir})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Hi(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ir})}catch(a){if(V(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Hi(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ir})}catch(a){if(V(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Hi(e.userId);try{const{data:n,error:a}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Hi(e.userId),Hi(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,r,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ib});if(u.error)throw u.error;const d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}}function Yb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ui={debug:!!(globalThis&&LS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class m2 extends zS{}async function b2(t,e,n){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new m2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ui.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function v2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function BS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function y2(t){return parseInt(t,16)}function _2(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function x2(t){var e;const{chainId:n,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=BS(t.address),v=u?`${u}://${a}`:a,y=t.statement?`${t.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${f}

${y}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(r&&(g+=`
Expiration Time: ${r.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);m+=`
- ${b}`}g+=m}return`${_}
${g}`}class Je extends Error{constructor({message:e,code:n,cause:a,name:r}){var i;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Qu extends Je{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function w2({error:t,options:e}){var n,a,r;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(US(s)){if(i.rp.id!==s)return new Je({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function S2({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(US(a)){if(n.rpId!==a)return new Je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var HS=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class k2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const D2=new k2;function E2(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,r=HS(t,["challenge","user","excludeCredentials"]),i=bs(e).buffer,s=Object.assign(Object.assign({},n),{id:bs(n.id).buffer}),o=Object.assign(Object.assign({},r),{challenge:i,user:s});if(a&&a.length>0){o.excludeCredentials=new Array(a.length);for(let l=0;l<a.length;l++){const c=a[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:bs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function C2(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=HS(t,["challenge","allowCredentials"]),r=bs(e).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const o=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:bs(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function T2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ai(new Uint8Array(t.response.attestationObject)),clientDataJSON:ai(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function M2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ai(new Uint8Array(r.authenticatorData)),clientDataJSON:ai(new Uint8Array(r.clientDataJSON)),signature:ai(new Uint8Array(r.signature)),userHandle:r.userHandle?ai(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function US(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $b(){var t,e;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function O2(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qu("Browser returned unexpected credential type",e)}:{data:null,error:new Qu("Empty credential response",e)}}catch(e){return{data:null,error:w2({error:e,options:t})}}}async function A2(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qu("Browser returned unexpected credential type",e)}:{data:null,error:new Qu("Empty credential response",e)}}catch(e){return{data:null,error:S2({error:e,options:t})}}}const R2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},N2={userVerification:"preferred",hints:["security-key"]};function Xu(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of t)if(r)for(const i in r){const s=r[i];if(s!==void 0)if(Array.isArray(s))a[i]=s;else if(n(s))a[i]=s;else if(e(s)){const o=a[i];e(o)?a[i]=Xu(o,s):a[i]=Xu(s)}else a[i]=s}return a}function j2(t,e){return Xu(R2,t,e||{})}function L2(t,e){return Xu(N2,t,e||{})}class P2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:r},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:o};const l=r??D2.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${a}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=j2(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await O2({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=L2(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await A2(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(s){return V(s)?{data:null,error:s}:{data:null,error:new ni("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}},i){if(!n)return{data:null,error:new xl("rpId is required for WebAuthn authentication")};try{if(!$b())return{data:null,error:new ni("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:i});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:a,credential_response:l.credential_response}})}catch(s){return V(s)?{data:null,error:s}:{data:null,error:new ni("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r},i){if(!n)return{data:null,error:new xl("rpId is required for WebAuthn registration")};try{if(!$b())return{data:null,error:new ni("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:a,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return V(s)?{data:null,error:s}:{data:null,error:new ni("Unexpected error in register",s)}}}}v2();const z2={url:RO,storageKey:NO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fb(t,e,n){return await n()}const Ii={};class wl{get jwks(){var e,n;return(n=(e=Ii[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ii[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wl.nextInstanceID,wl.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},z2),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new g2({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=PS(r.fetch),this.lock=r.lock||Fb,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=b2:this.lock=Fb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P2(this)},this.persistSession?(r.storage?this.storage=r.storage:LS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${RS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=KO(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),qt()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UO(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new ni("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,r;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Tn}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,a,r;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Bi(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:Tn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new yc("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:o}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ub})}else if("phone"in e){const{phone:i,password:s,options:o}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ub})}else throw new yc("You must provide either an email or phone number and a password");const{data:a,error:r}=n;return r?{data:{user:null,session:null},error:r}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new zi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,r,i,s,o,l,c,u,d,h;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:y,wallet:_,statement:g,options:m}=e;let b;if(qt())if(typeof _=="object")b=_;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")b=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const x=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),D=await b.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=BS(D[0]);let S=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!S){const T=await b.request({method:"eth_chainId"});S=y2(T)}const E={domain:x.host,address:k,statement:g,uri:x.href,version:"1",chainId:S,nonce:(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(s=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=x2(E),v=await b.request({method:"personal_sign",params:[_2(f),k]})}try{const{data:y,error:_}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tn});if(_)throw _;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new zi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:_})}catch(y){if(V(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,a,r,i,s,o,l,c,u,d,h,f;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:_,wallet:g,statement:m,options:b}=e;let x;if(qt())if(typeof g=="object")x=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const D=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),m?{statement:m}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${D.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(r=(a=b==null?void 0:b.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:_,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ai(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Tn});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new zi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(V(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await $r(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{const{data:i,error:s}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Tn});if(await Ga(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:s})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:a,token:r,access_token:i,nonce:s}=e,o=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tn}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,r,i,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Bi(this.storage,this.storageKey));const{error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new yc("You must provide either an email or phone number.")}catch(o){if(V(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,a;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:o}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Tn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,a,r;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Bi(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:d2})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new Ja;const{error:r}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:r,options:i}=e,{error:s}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:a,type:r,options:i}=e,{data:s,error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new yc("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await $r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Qh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const s=await $r(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Zh()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ir}):await this._useSession(async n=>{var a,r,i;const{data:s,error:o}=n;if(o)throw o;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:ir})})}catch(n){if(V(n))return HO(n)&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:r,error:i}=a;if(i)throw i;if(!r.session)throw new Ja;const s=r.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Bi(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ir});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(a){if(V(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ja;const n=Date.now()/1e3;let a=n,r=!0,i=null;const{payload:s}=Jh(e.access_token);if(s.exp&&(a=s.exp,r=a<=n),r){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Ja;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qt())throw new _c("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _c(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _c("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nb("No code detected.");const{data:m,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!s||!c)throw new _c("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:y,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:a,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(a){if(V(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await $r(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return{error:i};const s=(a=r.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(BO(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=WO(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,r;try{const{data:{session:i},error:s}=n;if(s)throw s;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await Bi(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:r}=await this._useSession(async i=>{var s,o,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return qt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(V(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:s,provider:o,token:l,access_token:c,nonce:u}=e,d=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Tn}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new zi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,r;const{data:i,error:s}=n;if(s)throw s;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await XO(async r=>(r>0&&await QO(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tn})),(r,i)=>{const s=200*Math.pow(2,r);return i&&Xh(i)&&Date.now()+s-a<Ki})}catch(a){if(this._debug(n,"error",a),V(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),qt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await $r(this.storage,this.storageKey);if(r&&this.userStorage){let s=await $r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:r.user},await Gi(this.userStorage,this.storageKey+"-user",s)),r.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Zh()}else if(r&&!r.user&&!r.user){const s=await $r(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(r.user=s.user,await Ga(this.storage,this.storageKey+"-user"),await Gi(this.storage,this.storageKey,r)):r.user=Zh()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qh;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Qh}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Xh(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(r.access_token);!o&&(s!=null&&s.user)?(r.user=s.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Vd;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Ja;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(r,"error",i),V(i)){const s={data:null,error:i};return Xh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,a=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Gi(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=Bb(r);await Gi(this.storage,this.storageKey,i)}else{const r=Bb(n);await Gi(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ga(this.storage,this.storageKey),await Ga(this.storage,this.storageKey+"-code-verifier"),await Ga(this.storage,this.storageKey+"-user"),this.userStorage&&await Ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ki);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-e)/Ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ki}ms, refresh threshold is ${Ap} ticks`),r<=Ap&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,s]=await Bi(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});r.push(o.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);r.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return{data:null,error:i};const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?T2(e.webauthn.credential_response):M2(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return{data:null,error:i};const s=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:E2(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:C2(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Jh(r.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((a=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(o=>o.kid===e);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(o=>o.kid===e),a&&this.jwks_cached_at+PO>r)return a;const{data:i,error:s}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,a=i.keys.find(o=>o.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};a=f.session.access_token}const{header:r,payload:i,signature:s,raw:{header:o,payload:l}}=Jh(a);n!=null&&n.allowExpired||r2(i.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:i,header:r,signature:s},error:null}}const u=i2(r.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,qO(`${o}.${l}`)))throw new jp("Invalid JWT signature");return{data:{claims:i,header:r,signature:s},error:null}}catch(a){if(V(a))return{data:null,error:a};throw a}}}wl.nextInstanceID=0;const B2=wl;class H2 extends B2{constructor(e){super(e)}}var U2=function(t,e,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(u){try{c(a.next(u))}catch(d){s(d)}}function l(u){try{c(a.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,l)}c((a=a.apply(t,e||[])).next())})};class I2{constructor(e,n,a){var r,i,s;this.supabaseUrl=e,this.supabaseKey=n;const o=AO(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:xO,realtime:SO,auth:Object.assign(Object.assign({},wO),{storageKey:l}),global:_O},u=OO(a??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=CO(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new zM(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new bO(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new gM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return U2(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:i,storageKey:s,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y2=(t,e,n)=>new I2(t,e,n);function $2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F2="https://vkoegxohahpptdyipmkr.supabase.co",q2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZrb2VneG9oYWhwcHRkeWlwbWtyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0NTg0MzAsImV4cCI6MjA3NTAzNDQzMH0.wUugYOSqJ63LA34dPNiAQ5H77zaNPtsp6GT8VQsGgEU";let tf=null;function V2(){return tf||(tf=Y2(F2,q2,{auth:{persistSession:!0,autoRefreshToken:!0}})),tf}const W=V2();function to(t){if(t==null)return"X";const e=String(t).trim().toLowerCase();return new Set(["o","","v","correct","true","","","ok","","circle","check","checkmark"]).has(e)?"O":"X"}function dm(t){return to(t)==="O"}async function Mt(){const{data:t,error:e}=await W.auth.getUser();if(e||!t.user)throw new Error(" .");return t.user.id}async function W2(t){const{data:e,error:n}=await W.from("taxonomy").select("*").eq("code",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return e}async function K2(t,e,n,a){const{data:r}=await W.from("taxonomy").select("depth1, depth2, depth3, depth4, depth1_en, depth2_en, depth3_en, depth4_en"),i=new Map,s=new Map,o=new Map,l=new Map;for(const c of r||[])c.depth1&&c.depth1_en&&i.set(c.depth1_en,c.depth1),c.depth2&&c.depth2_en&&s.set(c.depth2_en,c.depth2),c.depth3&&c.depth3_en&&o.set(c.depth3_en,c.depth3),c.depth4&&c.depth4_en&&l.set(c.depth4_en,c.depth4);return{depth1:i.get(t)||t,depth2:s.get(e)||e,depth3:o.get(n)||n,depth4:l.get(a)||a}}async function qb(t,e,n,a,r="ko"){let i=t,s=e,o=n,l=a;if(r==="en"){const h=await K2(t,e,n,a);i=h.depth1,s=h.depth2,o=h.depth3,l=h.depth4}let c=W.from("taxonomy").select("*");i&&(c=c.eq("depth1",i)),s&&(c=c.eq("depth2",s)),o&&(c=c.eq("depth3",o)),l&&(c=c.eq("depth4",l));const{data:u,error:d}=await c.single();if(d){if(d.code==="PGRST116"){if(r==="en"){let h=W.from("taxonomy").select("*");t&&(h=h.eq("depth1_en",t)),e&&(h=h.eq("depth2_en",e)),n&&(h=h.eq("depth3_en",n)),a&&(h=h.eq("depth4_en",a));const{data:f,error:v}=await h.single();if(v){if(v.code==="PGRST116")return null;throw v}return f}return null}throw d}return u}async function G2(){const t=await Mt(),{data:e,error:n}=await W.from("sessions").select(`
      id,
      created_at,
      image_url,
      problems (
        id,
        labels (
          user_mark
        )
      )
    `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return(e||[]).map(r=>{const i=r.problems||[],s=i.length;let o=0,l=0;return i.forEach(c=>{const u=c.labels||[];if(u.length>0){const d=to(u[0].user_mark);dm(d)?o++:l++}}),{id:r.id,created_at:r.created_at,image_url:r.image_url,problem_count:s,correct_count:o,incorrect_count:l}}).filter(r=>r.problem_count>0&&r.correct_count+r.incorrect_count===r.problem_count)}async function hm(t){const e=await Mt(),{data:n,error:a}=await W.from("sessions").select("user_id").eq("id",t).single();if(a)throw a;if(n.user_id!==e)throw new Error("    .");const{data:r,error:i}=await W.from("problems").select(`
      id,
      index_in_image,
      stem,
      choices,
      labels (
        user_answer,
        user_mark,
        is_correct,
        classification
      )
    `).eq("session_id",t).order("index_in_image",{ascending:!0});if(i)throw i;return(r||[]).map(o=>{var d,h,f;const l=((d=o.labels)==null?void 0:d[0])||{},c=l.classification||{},u=l.user_mark!==null&&l.user_mark!==void 0?to(l.user_mark):l.is_correct?"O":"X";return{index:o.index_in_image,___:u,AI__:l.is_correct!==void 0&&l.is_correct!==null?l.is_correct?"":"":void 0,:{text:o.stem||"",confidence_score:((h=l.confidence)==null?void 0:h.stem)||1},_:(o.choices||[]).map(v=>({text:v.text||"",confidence_score:v.confidence||1})),__:{text:l.user_answer||"",confidence_score:((f=l.confidence)==null?void 0:f.answer)||1,auto_corrected:!1,alternate_interpretations:[]},__:{"1Depth":c["1Depth"]||"","2Depth":c["2Depth"]||"","3Depth":c["3Depth"]||"","4Depth":c["4Depth"]||"",_:c._||""},_:""}})}async function Q2(t){const e=await Mt();if(!t||t.length===0)return[];const{data:n,error:a}=await W.from("labels").select(`
      problem_id,
      user_answer,
      user_mark,
      is_correct,
      classification,
      problems!inner (
        id,
        index_in_image,
        stem,
        choices,
        session_id,
        sessions!inner (
          user_id
        )
      )
    `).in("problem_id",t).eq("problems.sessions.user_id",e);if(a)throw a;return(n||[]).map(r=>{const i=r.classification||{};return{index:r.problems.index_in_image,___:to(r.user_mark),AI__:r.is_correct!==void 0&&r.is_correct!==null?r.is_correct?"":"":void 0,:{text:r.problems.stem||"",confidence_score:1},_:(r.problems.choices||[]).map(s=>({text:s.text||"",confidence_score:s.confidence||1})),__:{text:r.user_answer||"",confidence_score:1,auto_corrected:!1,alternate_interpretations:[]},__:{"1Depth":i["1Depth"]||"","2Depth":i["2Depth"]||"","3Depth":i["3Depth"]||"","4Depth":i["4Depth"]||"",_:i._||""},_:""}})}async function fm(t,e){const{data:n,error:a}=await W.from("problems").select("id, index_in_image").eq("session_id",t);if(a)throw a;const r=new Map;for(const i of n||[])r.set(i.index_in_image,i.id);for(const i of e){const s=r.get(i.index);if(!s)continue;const{error:o}=await W.from("problems").update({stem:i..text,choices:i._.map(c=>({text:c.text,confidence:c.confidence_score}))}).eq("id",s);if(o)throw o;const{error:l}=await W.from("labels").update({user_answer:i.__.text,user_mark:to(i.___),is_correct:dm(i.___),classification:i.__}).eq("problem_id",s);if(l)throw l}}async function X2(t){const e=await Mt(),{error:n}=await W.from("sessions").delete().eq("id",t).eq("user_id",e);if(n)throw n}async function IS(t){const e=await Mt(),{data:n,error:a}=await W.from("sessions").select("status, user_id").eq("id",t).single();if(a)throw a;if(n.user_id!==e)throw new Error("    .");return n.status||"pending"}async function YS(){const t=await Mt(),{data:e,error:n}=await W.from("sessions").select(`
      id,
      created_at,
      image_url,
      status,
      problems (
        id
      )
    `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return(e||[]).map(r=>{const s=(r.problems||[]).length;return{id:r.id,created_at:r.created_at,image_url:r.image_url,problem_count:s,correct_count:0,incorrect_count:0,status:r.status}}).filter(r=>{const i=r.status??"pending",s=i==="processing"||i==="pending";return r.problem_count===0&&s})}async function $S(){const t=await Mt(),{data:e,error:n}=await W.from("sessions").select(`
      id,
      created_at,
      image_url,
      status,
      problems (
        id,
        labels (
          user_mark
        )
      )
    `).eq("user_id",t).eq("status","completed").order("created_at",{ascending:!1});if(n)throw n;return(e||[]).map(r=>{const i=r.problems||[],s=i.length;let o=0,l=0,c=!0;return i.forEach(u=>{const d=u.labels||[];if(d.length>0){const h=d[0].user_mark;if(h!=null){c=!1;const f=to(h);dm(f)?o++:l++}}}),{id:r.id,created_at:r.created_at,image_url:r.image_url,problem_count:s,correct_count:o,incorrect_count:l,status:r.status,allMarksNull:c}}).filter(r=>r.problem_count>0&&r.allMarksNull===!0).map(r=>{const{allMarksNull:i,...s}=r;return s})}async function J2(t){const e=await Mt(),{data:n,error:a}=await W.from("problem_solving_sessions").insert({user_id:e,problem_id:t,started_at:new Date().toISOString()}).select("id").single();if(a)throw a;return n.id}async function Z2(t,e,n){const a=await Mt(),{error:r}=await W.from("problem_solving_sessions").update({completed_at:new Date().toISOString(),time_spent_seconds:n,is_correct:e}).eq("user_id",a).eq("problem_id",t);if(r)throw r}const FS=w.createContext(void 0);function Vb(){return navigator.language.toLowerCase().startsWith("ko")?"ko":"en"}const eA=({children:t})=>{const[e,n]=w.useState(()=>{const c=localStorage.getItem("preferredLanguage");return c==="ko"||c==="en"?c:Vb()}),[a,r]=w.useState(!0),[i,s]=w.useState(!1);w.useEffect(()=>{const c=async()=>{try{const{data:{user:d}}=await W.auth.getUser();if(d&&!i){const h=await Mt().catch(()=>null);if(h){const{data:f,error:v}=await W.from("profiles").select("language").eq("user_id",h).single();!v&&(f!=null&&f.language)&&(f.language==="ko"||f.language==="en")&&(n(f.language),localStorage.setItem("preferredLanguage",f.language))}s(!0)}else if(!d){const h=localStorage.getItem("preferredLanguage");n(h==="ko"||h==="en"?h:Vb()),s(!0)}}catch(d){console.error("Error checking user language:",d),s(!0)}finally{r(!1)}};c();const{data:{subscription:u}}=W.auth.onAuthStateChange(()=>{s(!1),c()});return()=>{u.unsubscribe()}},[i]);const o=async c=>{n(c),localStorage.setItem("preferredLanguage",c);try{const{data:{user:u}}=await W.auth.getUser();if(u){const d=await Mt().catch(()=>null);d&&await W.from("profiles").upsert({user_id:d,language:c},{onConflict:"user_id"})}}catch(u){console.error("Error saving language to profile:",u)}},l=()=>{o(e==="ko"?"en":"ko")};return p.jsx(FS.Provider,{value:{language:e,setLanguage:o,toggleLanguage:l,isLoading:a},children:t})},kt=()=>{const t=w.useContext(FS);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},tA=()=>{const{language:t,toggleLanguage:e}=kt();return p.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors font-medium","aria-label":"Toggle language",children:t==="ko"?"":"English"})},nA={ko:{common:{save:"",cancel:"",close:"",delete:"",edit:"",loading:" ...",error:"",success:"",confirm:"",yes:"",no:""},upload:{title:"   ",description:"     .",uploadButton:" ",uploading:" ...",uploadCount:"",sectionTitle:"  ",selectFile:" ",noFileSelected:"  ",filesSelected:"  ",multipleImages:"     ",selectedImages:" ",clearAll:" ",delete:"",rotateHint:"        "},stats:{title:"",statsByType:"  ",periodSetting:" :",startDate:":",endDate:":",oneMonth:"1",threeMonths:"3",sixMonths:"6",thisYear:"  ",total:"",correct:"",incorrect:"",accuracy:"",category:"",reclassifyAll:"   ",reclassifying:" ...",generateSimilar:"  ",generating:" ...",selectCategory:"  .",selectLeafCategory:" depth   .",generatedProblems:"  ",close:"",chartOverview:"  ",correctVsIncorrectChart:" ",categoryDistributionChart:"  ",noData:"  .",unclassified:""},recent:{title:"  ",noProblems:"  .",problemCount:"",viewDetails:"",loadMore:""},labeling:{correct:"",incorrect:"",viewDetails:"",finalSave:" ",saving:" ..."},practice:{problem:"",correct:"",incorrect:"",answer:"",explanation:" ",selectedAnswer:"  ",wrongExplanation:"   ",noExplanation:"      .",timeSpent:" ",summaryTitle:"   "},session:{title:" ",back:"",delete:"",deleteConfirm:"  ?"},profile:{title:"",myProfile:" ",back:"",name:"",email:"",gender:"",male:"",female:"",age:"",agePlaceholder:": 15",grade:"",selectGrade:"",language:"",korean:"",english:"English",save:"",saving:" ...",cancel:"",saved:"  .",loadError:"  .",saveError:"    ."},login:{login:"",signup:"",email:"",password:"",name:"",age:"",grade:"",gender:"",language:"",korean:"",english:"English",selectLanguage:" .",processing:" ..."},header:{upload:"",stats:"",recent:" ",profile:"",logout:""},app:{title:"AI   ",description:"     AI   .",customerSupport:""},example:{generate:"  ",generating:" ...",selectCategory:" ."},taxonomy:{classificationDetails:"  ",classificationHierarchy:" ",definition:"",coreRule:" ",errorSignals:" ",examples:"",wrong:" ",correct:" ",relatedRules:" ",metadata:"",difficulty:"",tags:""}},en:{common:{save:"Save",cancel:"Cancel",close:"Close",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",yes:"Yes",no:"No"},upload:{title:"Upload English Problem Image",description:"Upload an image of an English problem you solved by hand.",uploadButton:"Upload Image",uploading:"Uploading...",uploadCount:"",sectionTitle:"Upload Problem Image",selectFile:"Choose File",noFileSelected:"No file selected",filesSelected:"file(s) selected",multipleImages:"You can select multiple images at once",selectedImages:"Selected Images",clearAll:"Clear All",delete:"Delete",rotateHint:"Use the rotate button to adjust the orientation of each image"},stats:{title:"Statistics",statsByType:"Statistics by Type",periodSetting:"Period Setting:",startDate:"Start Date:",endDate:"End Date:",oneMonth:"1 Month",threeMonths:"3 Months",sixMonths:"6 Months",thisYear:"This Year",total:"Total",correct:"Correct",incorrect:"Incorrect",accuracy:"Accuracy",category:"Category",reclassifyAll:" Reclassify All Problems",reclassifying:"Reclassifying...",generateSimilar:"Generate Similar Problems",generating:"Generating...",selectCategory:"Please select a problem type.",selectLeafCategory:"Please select a leaf category (lowest depth).",generatedProblems:"Generated Similar Problems",close:"Close",chartOverview:"Statistics Overview",correctVsIncorrectChart:"Correct vs Incorrect",categoryDistributionChart:"Top Categories",noData:"No data available.",unclassified:"Unclassified"},recent:{title:"Recently Uploaded Problems",noProblems:"No problems uploaded yet.",problemCount:"",viewDetails:"View Details",loadMore:"Load More"},labeling:{correct:"Correct",incorrect:"Incorrect",viewDetails:"View Details",finalSave:"Final Save",saving:"Saving..."},practice:{problem:"Problem",correct:"Correct",incorrect:"Incorrect",answer:"Answer",explanation:"Explanation",selectedAnswer:"Your Answer Explanation",wrongExplanation:"Wrong Answer Explanation",noExplanation:"No explanation available for why this choice is incorrect.",timeSpent:"Time Spent",summaryTitle:"Practice Summary"},session:{title:"Session Details",back:"Back",delete:"Delete",deleteConfirm:"Are you sure you want to delete this session?"},profile:{title:"Profile",myProfile:"My Profile",back:"Back",name:"Name",email:"Email",gender:"Gender",male:"Male",female:"Female",age:"Age",agePlaceholder:"e.g., 15",grade:"Grade",selectGrade:"Select",language:"Language",korean:"",english:"English",save:"Save",saving:"Saving...",cancel:"Cancel",saved:"Profile saved successfully.",loadError:"Failed to load profile.",saveError:"An error occurred while saving the profile."},login:{login:"Login",signup:"Sign Up",email:"Email",password:"Password",name:"Name",age:"Age",grade:"Grade",gender:"Gender",language:"Language",korean:"",english:"English",selectLanguage:"Please select a language.",processing:"Processing..."},header:{upload:"Upload",stats:"Statistics",recent:"Recent",profile:"Profile",logout:"Logout"},app:{title:"AI English Problem Analyzer",description:"Upload images of problems you solved by hand and get precise AI analysis.",customerSupport:"Customer Support"},example:{generate:"Generate Example Sentence",generating:"Generating...",selectCategory:"Please select a category."},taxonomy:{classificationDetails:"Classification Details",classificationHierarchy:"Classification Hierarchy",definition:"Definition",coreRule:"Core Rule",errorSignals:"Error Signals",examples:"Examples",wrong:"Wrong",correct:"Correct",relatedRules:"Related Rules",metadata:"Metadata",difficulty:"Difficulty",tags:"Tags"}}};function jn(t){return nA[t]}const aA=()=>{const{language:t}=kt(),e=jn(t);return p.jsx("header",{className:"bg-white dark:bg-slate-800 shadow-sm",children:p.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-indigo-600 dark:text-indigo-400 whitespace-nowrap",children:e.app.title}),p.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:e.app.description})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(tA,{}),p.jsx(uM,{})]})]})})},qS=({imageUrl:t,onRotate:e,className:n=""})=>{const[a,r]=w.useState(0),[i,s]=w.useState(!1),o=w.useRef(null),l=w.useRef(null),c=w.useRef(null),[u,d]=w.useState(null),h=y=>{const _=o.current,g=l.current;if(!_||!g)return;s(!0),c.current&&window.clearTimeout(c.current),c.current=window.setTimeout(()=>{s(!1)},3e3);const m=_.getContext("2d");if(!m){s(!1);return}const b=((a+y)%360+360)%360;r(b);const x=b===90||b===270;_.width=x?g.naturalHeight:g.naturalWidth,_.height=x?g.naturalWidth:g.naturalHeight,m.clearRect(0,0,_.width,_.height),m.save(),m.translate(_.width/2,_.height/2),m.rotate(b*Math.PI/180),m.drawImage(g,-g.naturalWidth/2,-g.naturalHeight/2),m.restore();try{const D=_.toDataURL("image/jpeg",.9);d(D)}catch{}_.toBlob(D=>{D&&e(D),setTimeout(()=>{s(!1),c.current&&(window.clearTimeout(c.current),c.current=null)},100)},"image/jpeg",.9)},f=()=>{h(-90)},v=()=>{h(90)};return p.jsxs("div",{className:`relative ${n}`,children:[p.jsx("img",{ref:l,src:u||t,alt:" ",className:"w-full h-auto",crossOrigin:"anonymous",onLoad:()=>{const y=o.current,_=l.current;y&&_&&(y.width=_.naturalWidth,y.height=_.naturalHeight),s(!1)}}),p.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[p.jsx("button",{onClick:f,className:"px-3 py-1 bg-white bg-opacity-80 text-slate-700 rounded text-sm shadow-md hover:bg-opacity-100",title:"",children:""}),p.jsx("button",{onClick:v,className:"px-3 py-1 bg-white bg-opacity-80 text-slate-700 rounded text-sm shadow-md hover:bg-opacity-100",title:"",children:""})]}),p.jsx("canvas",{ref:o,style:{display:"none"}})]})},Wb=({onImagesSelect:t})=>{const{language:e}=kt(),n=jn(e),[a,r]=w.useState([]),i=j.useRef(null),s=w.useCallback(d=>{const h=d.target.files;!h||h.length===0||Array.from(h).forEach(f=>{if(f.type.startsWith("image/")){const v=`${Date.now()}_${Math.random()}`,y=new FileReader;y.onloadend=()=>{const _=y.result,g={file:f,previewUrl:_,id:v};r(m=>{const b=[...m,g];return t(b.map(x=>x.file)),b})},y.readAsDataURL(f)}})},[t]),o=w.useCallback((d,h)=>{r(f=>{const v=[...f],y=v[d];if(!y)return f;const _=new File([h],y.file.name,{type:h.type,lastModified:Date.now()}),g=new FileReader;return g.onloadend=()=>{const m=g.result;v[d]={...y,file:_,previewUrl:m},r([...v]),t(v.map(b=>b.file))},g.readAsDataURL(h),f})},[t]),l=w.useCallback(d=>{r(h=>{const f=h.filter((v,y)=>y!==d);return t(f.map(v=>v.file)),f})},[t]),c=w.useCallback(()=>{r([]),t([]),i.current&&(i.current.value="")},[t]),u=w.useCallback(()=>{var d;(d=i.current)==null||d.click()},[]);return p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 text-slate-700 dark:text-slate-300",children:["1. ",n.upload.sectionTitle]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6 text-center bg-slate-50/50 dark:bg-slate-900/30",children:[p.jsx("input",{ref:i,type:"file",accept:"image/*",multiple:!0,onChange:s,className:"hidden"}),p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 transition-colors font-medium",children:n.upload.selectFile}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:a.length>0?`${a.length} ${n.upload.filesSelected}`:n.upload.noFileSelected})]}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:n.upload.multipleImages})]}),a.length>0&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[n.upload.selectedImages,": ",a.length,e==="ko"?"":""]}),p.jsx("button",{onClick:c,className:"px-3 py-1 text-sm bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-colors",children:n.upload.clearAll})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map((d,h)=>p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4 relative",children:[p.jsx("button",{onClick:()=>l(h),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 dark:bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-600 dark:hover:bg-red-700 z-10 transition-colors",title:n.upload.delete,children:""}),p.jsx("div",{className:"max-h-[400px] overflow-auto rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 flex items-center justify-center p-4",children:p.jsx(qS,{imageUrl:d.previewUrl,onRotate:f=>o(h,f),className:"max-w-full max-h-[400px] object-contain"})}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-center",children:d.file.name})]},d.id))}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:n.upload.rotateHint})]})]})]})},Kb=()=>{const{language:t}=kt();return p.jsxs("div",{className:"flex flex-col items-center justify-center my-8",children:[p.jsx("div",{className:"w-12 h-12 border-4 border-t-indigo-600 border-slate-200 rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-slate-600 font-semibold",children:t==="ko"?"AI   .  ...":"AI is analyzing the image. Please wait a moment..."})]})},rA=()=>{const{language:t}=kt(),e=jn(t),[n,a]=w.useState(""),[r,i]=w.useState(""),[s,o]=w.useState(!1),[l,c]=w.useState(null),[u,d]=w.useState(!1),[h,f]=w.useState(null),[v,y]=w.useState(""),[_,g]=w.useState(""),[m,b]=w.useState(""),[x,D]=w.useState(""),k=async S=>{S.preventDefault(),c(null),f(null),d(!0);try{if(s){if(!v||!_||!m||!x)throw new Error(t==="ko"?", , ,   .":"Please fill in all fields: gender, age, grade, and language.");const{data:E,error:T}=await W.auth.signUp({email:n,password:r});if(T)throw T;if(E.user){const{error:R}=await W.from("profiles").upsert({user_id:E.user.id,email:n,gender:v,age:parseInt(_,10),grade:m,language:x},{onConflict:"user_id"});if(R)throw R}f(t==="ko"?" !    .":"Sign up complete! Please check your email or log in now."),o(!1),y(""),g(""),b(""),D("")}else{const{error:E}=await W.auth.signInWithPassword({email:n,password:r});if(E)throw E;window.location.href="/upload"}}catch(E){c(E instanceof Error?E.message:t==="ko"?" .":"An error occurred.")}finally{d(!1)}};return p.jsxs("div",{className:"w-full max-w-sm",children:[p.jsxs("form",{onSubmit:k,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.login.email}),p.jsx("input",{type:"email",value:n,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:"your@email.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.login.password}),p.jsx("input",{type:"password",value:r,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:"",required:!0})]}),s&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.login.gender||e.profile.gender}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>y("male"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${v==="male"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.profile.male}),p.jsx("button",{type:"button",onClick:()=>y("female"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${v==="female"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.profile.female})]}),s&&!v&&p.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:t==="ko"?" .":"Please select a gender."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.login.age}),p.jsx("input",{type:"number",value:_,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:e.profile.agePlaceholder,min:"1",max:"100",required:s})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.login.grade}),p.jsxs("select",{value:m,onChange:S=>b(S.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",required:s,children:[p.jsx("option",{value:"",children:e.profile.selectGrade}),p.jsx("option",{value:" 1",children:" 1"}),p.jsx("option",{value:" 2",children:" 2"}),p.jsx("option",{value:" 3",children:" 3"}),p.jsx("option",{value:" 4",children:" 4"}),p.jsx("option",{value:" 5",children:" 5"}),p.jsx("option",{value:" 6",children:" 6"}),p.jsx("option",{value:" 1",children:" 1"}),p.jsx("option",{value:" 2",children:" 2"}),p.jsx("option",{value:" 3",children:" 3"}),p.jsx("option",{value:" 1",children:" 1"}),p.jsx("option",{value:" 2",children:" 2"}),p.jsx("option",{value:" 3",children:" 3"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.login.language}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>D("en"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${x==="en"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.login.english}),p.jsx("button",{type:"button",onClick:()=>D("ko"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${x==="ko"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.login.korean})]}),s&&!x&&p.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:e.login.selectLanguage})]})]}),p.jsx("button",{type:"submit",disabled:u,className:"w-full px-6 py-3 bg-indigo-600 dark:bg-indigo-500 text-white rounded-lg font-semibold hover:bg-indigo-700 dark:hover:bg-indigo-600 disabled:bg-slate-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:u?e.login.processing:s?e.login.signup:e.login.login})]}),p.jsx("button",{onClick:()=>o(!s),className:"mt-3 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 underline transition-colors",children:s?t==="ko"?"  ? ":"Already have an account? Login":t==="ko"?" ? ":"Don't have an account? Sign Up"}),l&&p.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-800 text-red-800 dark:text-red-200 rounded text-sm",children:l}),h&&p.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-800 text-green-800 dark:text-green-200 rounded text-sm",children:h})]})},iA=()=>{const{language:t}=kt(),e=jn(t),n=async()=>{await W.auth.signOut(),window.location.reload()};return p.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-md font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:e.header.logout})},zn=({children:t})=>{const[e,n]=w.useState(!0),[a,r]=w.useState(!1);return w.useEffect(()=>{let i=!0;W.auth.getSession().then(({data:o})=>{i&&(r(!!o.session),n(!1))});const{data:s}=W.auth.onAuthStateChange((o,l)=>{r(!!l)});return()=>{i=!1,s.subscription.unsubscribe()}},[]),e?p.jsx("div",{className:"flex items-center justify-center py-20 text-slate-600",children:" ..."}):a?p.jsx(p.Fragment,{children:t}):p.jsxs("div",{className:"max-w-md mx-auto bg-white border border-slate-200 rounded-xl p-8 mt-10",children:[p.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" "}),p.jsx("p",{className:"text-slate-600 mb-6 text-center",children:"    ."}),p.jsx(rA,{})]})},sA=({isOpen:t,onClose:e,onSubmit:n})=>{const[a,r]=w.useState(""),i=()=>{a.trim()&&(n(a.trim()),r(""),e())},s=()=>{r(""),e()};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"AI   ?   ."}),p.jsx("textarea",{value:a,onChange:o=>r(o.target.value),placeholder:"  ...",className:"w-full h-24 p-3 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),p.jsxs("div",{className:"flex gap-3 mt-4 justify-end",children:[p.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:""}),p.jsx("button",{onClick:i,disabled:!a.trim(),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:""})]})]})}):null},VS=({code:t,onClose:e})=>{const{language:n}=kt(),[a,r]=w.useState(null),[i,s]=w.useState(!0),[o,l]=w.useState(null);return w.useEffect(()=>{if(!t){l("  ."),s(!1);return}(async()=>{try{s(!0),l(null);const u=await W2(t);u?r(u):l("    .")}catch(u){console.error("Error loading taxonomy:",u),l("     .")}finally{s(!1)}})()},[t]),t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-auto border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:n==="ko"?"  ":"Classification Details"}),p.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 text-2xl font-bold",children:""})]}),p.jsxs("div",{className:"p-6",children:[i&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),p.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:" ..."})]}),o&&p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-red-600 dark:text-red-400",children:o})}),a&&!i&&!o&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?" ":"Classification Hierarchy"}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4 space-y-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"1Depth:"}),p.jsx("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:n==="ko"?a.depth1:a.depth1_en})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"2Depth:"}),p.jsx("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:n==="ko"?a.depth2:a.depth2_en})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"3Depth:"}),p.jsx("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:n==="ko"?a.depth3:a.depth3_en})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"4Depth:"}),p.jsx("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:n==="ko"?a.depth4:a.depth4_en})]})]})]}),(a.definition_ko||a.definition_en)&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?"":"Definition"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4",children:n==="ko"?a.definition_ko:a.definition_en})]}),(a.core_rule_ko||a.core_rule_en)&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?" ":"Core Rule"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4 whitespace-pre-line",children:n==="ko"?a.core_rule_ko:a.core_rule_en})]}),(a.error_signals_ko||a.error_signals_en)&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?" ":"Error Signals"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4",children:n==="ko"?a.error_signals_ko:a.error_signals_en})]}),(a.example_wrong||a.example_correct)&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?"":"Examples"}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4 space-y-3",children:[a.example_wrong&&p.jsxs("div",{children:[p.jsxs("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:[" ",n==="ko"?" ":"Wrong",":"]}),p.jsx("p",{className:"mt-1 text-slate-700 dark:text-slate-300",children:a.example_wrong})]}),a.example_correct&&p.jsxs("div",{children:[p.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[" ",n==="ko"?" ":"Correct",":"]}),p.jsx("p",{className:"mt-1 text-slate-700 dark:text-slate-300",children:a.example_correct})]})]})]}),a.related_rules&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?" ":"Related Rules"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4",children:a.related_rules})]}),p.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:n==="ko"?"":"Metadata"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.cefr&&p.jsxs("div",{children:[p.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"CEFR:"}),p.jsx("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:a.cefr})]}),a.difficulty!==null&&p.jsxs("div",{children:[p.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[n==="ko"?"":"Difficulty",":"]}),p.jsxs("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:[a.difficulty,"/5"]})]}),a.tags&&a.tags.length>0&&p.jsxs("div",{className:"col-span-2",children:[p.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[n==="ko"?"":"Tags",":"]}),p.jsx("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:a.tags.join(", ")})]})]})]})]})]})]})}):null},pm=({initial:t,onChange:e,onSubmit:n,hideMarking:a,hideClassification:r,hideReport:i,hideSubmit:s})=>{const[o,l]=w.useState(t.items),{language:c}=kt();w.useEffect(()=>{l(t.items)},[t.items]);const[u,d]=w.useState(!1),[h,f]=w.useState(null),[v,y]=w.useState(!1),[_,g]=w.useState(null),[m,b]=w.useState(!1),[x,D]=w.useState(null),[k,S]=w.useState(null),[E,T]=w.useState({}),R=["",""],M=(N,B)=>{l(I=>{const q=[...I];return q[N]={...q[N],...B},e==null||e(q),q})},C=(N,B)=>{M(N,{___:B})},L=(N,B)=>{const I=o[N];M(N,{__:{...I.__,...B}})},H=async()=>{try{d(!0),f(null),await(n==null?void 0:n(o))}catch(N){f(N instanceof Error?N.message:"   .")}finally{d(!1)}},U=N=>{g(N),y(!0)},O=N=>{console.log(`Problem ${_} reported:`,N),alert(" . .")},A=async N=>{const B=o[N],I=B==null?void 0:B.__,q=I==null?void 0:I.code;if(!q){alert("  .   .");return}try{S(N);const{data:{user:Te}}=await W.auth.getUser();if(!Te)throw new Error(" .");const ge="https://vkoegxohahpptdyipmkr.supabase.co/functions/v1/generate-example",{data:{session:de}}=await W.auth.getSession(),ze=await fetch(ge,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de==null?void 0:de.access_token}`},body:JSON.stringify({code:q,userId:Te.id,language:c})});if(!ze.ok){const Xe=await ze.text();throw new Error(`   : ${Xe}`)}const Ye=await ze.json();if(Ye.success&&Ye.example){let Xe;if(typeof Ye.example=="string")try{Xe=JSON.parse(Ye.example)}catch{Xe={wrong_example:"",correct_example:Ye.example,explanation:""}}else Xe=Ye.example;T(on=>({...on,[N]:Xe}))}else throw new Error("   .")}catch(Te){console.error("Error generating example:",Te),alert(Te instanceof Error?Te.message:"     .")}finally{S(null)}};return p.jsxs("div",{className:"space-y-6",children:[o.map((N,B)=>p.jsxs("div",{className:"border border-slate-200 rounded-lg p-3 sm:p-4 bg-white",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{children:p.jsxs("h3",{className:"text-lg font-bold",children:[" #",B+1]})}),!a&&p.jsxs("div",{className:"flex gap-2",children:[R.map(I=>{const q=N.___===I,Te=N.AI__===I;return p.jsx("button",{type:"button",className:`px-4 py-2 rounded font-medium transition-colors ${q?"bg-blue-600 text-white":Te?"bg-gray-200 text-gray-700 hover:bg-gray-300 ring-2 ring-blue-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>C(B,I),children:I},I)}),!i&&p.jsx("button",{onClick:()=>U(B),className:"px-3 py-2 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:"AI   ?",children:""})]})]}),p.jsxs("div",{className:"mt-3",children:[p.jsx("label",{className:"text-sm text-slate-600",children:" "}),p.jsxs("div",{className:"w-full border rounded px-3 py-2 mt-1 min-h-[100px] max-h-[40vh] sm:max-h-[300px] overflow-auto bg-slate-50 text-slate-700",children:[N..text,N._&&N._.length>0&&p.jsx("div",{className:"mt-2 space-y-1",children:N._.map((I,q)=>p.jsxs("div",{className:"text-sm",children:[q+1,": ",I.text]},q))})]})]}),!r&&p.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-slate-600",children:"1Depth"}),p.jsx("input",{className:"w-full border rounded px-2 py-1",value:N.__["1Depth"],onChange:I=>L(B,{"1Depth":I.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-slate-600",children:"2Depth"}),p.jsx("input",{className:"w-full border rounded px-2 py-1",value:N.__["2Depth"],onChange:I=>L(B,{"2Depth":I.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-slate-600",children:"3Depth"}),p.jsx("input",{className:"w-full border rounded px-2 py-1",value:N.__["3Depth"],onChange:I=>L(B,{"3Depth":I.target.value})})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm text-slate-600 flex items-center gap-2",children:["4Depth",N.__["4Depth"]&&N.__.code&&p.jsx("button",{type:"button",onClick:()=>{D(N.__.code||null),b(!0)},className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-normal",title:"   ",children:"?"})]}),p.jsx("input",{className:"w-full border rounded px-2 py-1",value:N.__["4Depth"],onChange:I=>L(B,{"4Depth":I.target.value})})]})]}),!r&&N.__.code&&p.jsxs("div",{className:"mt-3",children:[p.jsx("button",{type:"button",onClick:()=>A(B),disabled:k===B,className:"px-4 py-2 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-lg hover:bg-indigo-200 dark:hover:bg-indigo-900/70 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:k===B?" ...":"   "}),E[B]&&p.jsxs("div",{className:"mt-3 p-4 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:" "}),E[B].wrong_example&&p.jsxs("div",{className:"mb-2",children:[p.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"  :"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 ml-2",children:E[B].wrong_example})]}),E[B].correct_example&&p.jsxs("div",{className:"mb-2",children:[p.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"  :"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 ml-2",children:E[B].correct_example})]}),E[B].explanation&&p.jsxs("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:[p.jsx("span",{className:"font-medium",children:":"})," ",E[B].explanation]})]})]})]},B)),h&&p.jsx("div",{className:"p-3 bg-red-100 border text-red-800 rounded",children:h}),!s&&p.jsx("div",{className:"text-right",children:p.jsx("button",{disabled:u,onClick:H,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg font-semibold disabled:bg-slate-400",children:u?" ...":""})}),!i&&p.jsx(sA,{isOpen:v,onClose:()=>y(!1),onSubmit:O}),m&&p.jsx(VS,{code:x,onClose:()=>{b(!1),D(null)}})]})},oA=()=>{const{sessionId:t}=nm(),e=zr(),[n,a]=w.useState(null),[r,i]=w.useState(!0),[s,o]=w.useState(null);w.useEffect(()=>{if(!t){e("/stats");return}a(null),o(null),(async()=>{try{i(!0);const c=await hm(t);a(c)}catch(c){o(c instanceof Error?c.message:"  .")}finally{i(!1)}})()},[t,e]);const l=async c=>{t&&(await fm(t,c),e("/stats"))};return r?p.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:p.jsx("p",{className:"text-center text-slate-600",children:" ..."})}):s||!n?p.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:[p.jsx("p",{className:"text-center text-red-600",children:s||"   ."}),p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{onClick:()=>e("/stats"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:" "})})]}):p.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold",children:" "}),p.jsx("button",{onClick:()=>e("/stats"),className:"px-4 py-2 text-slate-600 hover:text-slate-800 underline",children:""})]}),p.jsx(pm,{initial:{items:n},onSubmit:l,onChange:c=>a(c)})]})};function WS(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=WS(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function bt(){for(var t,e,n=0,a="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=WS(t))&&(a&&(a+=" "),a+=e);return a}const KS=6048e5,lA=864e5,Wd=6e4,Kd=36e5,cA=1e3,Gb=Symbol.for("constructDateFrom");function xe(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Gb in t?t[Gb](e):t instanceof Date?new t.constructor(e):new Date(e)}function F(t,e){return xe(e||t,t)}function An(t,e,n){const a=F(t,n==null?void 0:n.in);return isNaN(e)?xe((n==null?void 0:n.in)||t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Rn(t,e,n){const a=F(t,n==null?void 0:n.in);if(isNaN(e))return xe(t,NaN);if(!e)return a;const r=a.getDate(),i=xe(t,a.getTime());i.setMonth(a.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(a.setFullYear(i.getFullYear(),i.getMonth(),r),a)}function GS(t,e,n){return xe(t,+F(t)+e)}function uA(t,e,n){return GS(t,e*Kd)}let dA={};function Ai(){return dA}function $a(t,e){var o,l,c,u;const n=Ai(),a=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=F(t,e==null?void 0:e.in),i=r.getDay(),s=(i<a?7:0)+i-a;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r}function Ls(t,e){return $a(t,{...e,weekStartsOn:1})}function QS(t,e){const n=F(t,e==null?void 0:e.in),a=n.getFullYear(),r=xe(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=Ls(r),s=xe(n,0);s.setFullYear(a,0,4),s.setHours(0,0,0,0);const o=Ls(s);return n.getTime()>=i.getTime()?a+1:n.getTime()>=o.getTime()?a:a-1}function Ju(t){const e=F(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function qa(t,...e){const n=xe.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function xi(t,e){const n=F(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Ps(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e),i=xi(a),s=xi(r),o=+i-Ju(i),l=+s-Ju(s);return Math.round((o-l)/lA)}function hA(t,e){const n=QS(t,e),a=xe(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Ls(a)}function Lp(t,e,n){const a=F(t,n==null?void 0:n.in);return a.setTime(a.getTime()+e*Wd),a}function gm(t,e,n){return Rn(t,e*3,n)}function fA(t,e,n){return GS(t,e*1e3)}function Zu(t,e,n){return An(t,e*7,n)}function Ra(t,e,n){return Rn(t,e*12,n)}function Qb(t,e){let n,a=e==null?void 0:e.in;return t.forEach(r=>{!a&&typeof r=="object"&&(a=xe.bind(null,r));const i=F(r,a);(!n||n<i||isNaN(+i))&&(n=i)}),xe(a,n||NaN)}function Xb(t,e){let n,a=e==null?void 0:e.in;return t.forEach(r=>{!a&&typeof r=="object"&&(a=xe.bind(null,r));const i=F(r,a);(!n||n>i||isNaN(+i))&&(n=i)}),xe(a,n||NaN)}function pA(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e);return+xi(a)==+xi(r)}function Na(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ed(t){return!(!Na(t)&&typeof t!="number"||isNaN(+F(t)))}function td(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e),i=a.getFullYear()-r.getFullYear(),s=a.getMonth()-r.getMonth();return i*12+s}function hi(t,e){const n=F(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function nd(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e),i=a.getFullYear()-r.getFullYear(),s=hi(a)-hi(r);return i*4+s}function ad(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e);return a.getFullYear()-r.getFullYear()}function gA(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e),i=Jb(a,r),s=Math.abs(Ps(a,r));a.setDate(a.getDate()-i*s);const o=+(Jb(a,r)===-i),l=i*(s-o);return l===0?0:l}function Jb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function XS(t,e){const n=F(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function JS(t,e){const n=F(t,e==null?void 0:e.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function Pp(t,e){const n=F(t,e==null?void 0:e.in),a=n.getMonth(),r=a-a%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function ZS(t,e){const n=F(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ek(t,e){const n=F(t,e==null?void 0:e.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function Gd(t,e){const n=F(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mA(t,e){var o,l;const n=Ai(),a=n.weekStartsOn??((l=(o=n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,r=F(t,e==null?void 0:e.in),i=r.getDay(),s=(i<a?-7:0)+6-(i-a);return r.setDate(r.getDate()+s),r.setHours(23,59,59,999),r}const bA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vA=(t,e,n)=>{let a;const r=bA[t];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function nf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_A={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wA={date:nf({formats:yA,defaultWidth:"full"}),time:nf({formats:_A,defaultWidth:"full"}),dateTime:nf({formats:xA,defaultWidth:"full"})},SA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kA=(t,e,n,a)=>SA[t];function go(t){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;r=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const DA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AA=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},RA={ordinalNumber:AA,era:go({values:DA,defaultWidth:"wide"}),quarter:go({values:EA,defaultWidth:"wide",argumentCallback:t=>t-1}),month:go({values:CA,defaultWidth:"wide"}),day:go({values:TA,defaultWidth:"wide"}),dayPeriod:go({values:MA,defaultWidth:"wide",formattingValues:OA,defaultFormattingWidth:"wide"})};function mo(t){return(e,n={})=>{const a=n.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const s=i[0],o=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?jA(o,d=>d.test(s)):NA(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function NA(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jA(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function LA(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const r=a[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(r.length);return{value:s,rest:o}}}const PA=/^(\d+)(th|st|nd|rd)?/i,zA=/\d+/i,BA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HA={any:[/^b/i,/^(a|c)/i]},UA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IA={any:[/1/i,/2/i,/3/i,/4/i]},YA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$A={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KA={ordinalNumber:LA({matchPattern:PA,parsePattern:zA,valueCallback:t=>parseInt(t,10)}),era:mo({matchPatterns:BA,defaultMatchWidth:"wide",parsePatterns:HA,defaultParseWidth:"any"}),quarter:mo({matchPatterns:UA,defaultMatchWidth:"wide",parsePatterns:IA,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mo({matchPatterns:YA,defaultMatchWidth:"wide",parsePatterns:$A,defaultParseWidth:"any"}),day:mo({matchPatterns:FA,defaultMatchWidth:"wide",parsePatterns:qA,defaultParseWidth:"any"}),dayPeriod:mo({matchPatterns:VA,defaultMatchWidth:"any",parsePatterns:WA,defaultParseWidth:"any"})},tk={code:"en-US",formatDistance:vA,formatLong:wA,formatRelative:kA,localize:RA,match:KA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GA(t,e){const n=F(t,e==null?void 0:e.in);return Ps(n,Gd(n))+1}function mm(t,e){const n=F(t,e==null?void 0:e.in),a=+Ls(n)-+hA(n);return Math.round(a/KS)+1}function bm(t,e){var u,d,h,f;const n=F(t,e==null?void 0:e.in),a=n.getFullYear(),r=Ai(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,s=xe((e==null?void 0:e.in)||t,0);s.setFullYear(a+1,0,i),s.setHours(0,0,0,0);const o=$a(s,e),l=xe((e==null?void 0:e.in)||t,0);l.setFullYear(a,0,i),l.setHours(0,0,0,0);const c=$a(l,e);return+n>=+o?a+1:+n>=+c?a:a-1}function QA(t,e){var o,l,c,u;const n=Ai(),a=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,r=bm(t,e),i=xe((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),$a(i,e)}function nk(t,e){const n=F(t,e==null?void 0:e.in),a=+$a(n,e)-+QA(n,e);return Math.round(a/KS)+1}function ve(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Qa={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return ve(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ve(n+1,2)},d(t,e){return ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ve(t.getHours()%12||12,e.length)},H(t,e){return ve(t.getHours(),e.length)},m(t,e){return ve(t.getMinutes(),e.length)},s(t,e){return ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return ve(r,e.length)}},Yi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zb={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return Qa.y(t,e)},Y:function(t,e,n,a){const r=bm(t,a),i=r>0?r:1-r;if(e==="YY"){const s=i%100;return ve(s,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ve(i,e.length)},R:function(t,e){const n=QS(t);return ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return ve(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return ve(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return ve(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Qa.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return ve(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const r=nk(t,a);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):ve(r,e.length)},I:function(t,e,n){const a=mm(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):ve(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qa.d(t,e)},D:function(t,e,n){const a=GA(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ve(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ve(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ve(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),r=a===0?7:a;switch(e){case"i":return String(r);case"ii":return ve(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let r;switch(a===12?r=Yi.noon:a===0?r=Yi.midnight:r=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let r;switch(a>=17?r=Yi.evening:a>=12?r=Yi.afternoon:a>=4?r=Yi.morning:r=Yi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Qa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qa.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ve(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):ve(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qa.s(t,e)},S:function(t,e){return Qa.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return tv(a);case"XXXX":case"XX":return Jr(a);case"XXXXX":case"XXX":default:return Jr(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return tv(a);case"xxxx":case"xx":return Jr(a);case"xxxxx":case"xxx":default:return Jr(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ev(a,":");case"OOOO":default:return"GMT"+Jr(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ev(a,":");case"zzzz":default:return"GMT"+Jr(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return ve(a,e.length)},T:function(t,e,n){return ve(+t,e.length)}};function ev(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=Math.trunc(a/60),i=a%60;return i===0?n+String(r):n+String(r)+e+ve(i,2)}function tv(t,e){return t%60===0?(t>0?"-":"+")+ve(Math.abs(t)/60,2):Jr(t,e)}function Jr(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=ve(Math.trunc(a/60),2),i=ve(a%60,2);return n+r+e+i}const nv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ak=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},XA=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return nv(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",nv(a,e)).replace("{{time}}",ak(r,e))},zp={p:ak,P:XA},JA=/^D+$/,ZA=/^Y+$/,eR=["D","DD","YY","YYYY"];function tR(t){return JA.test(t)}function nR(t){return ZA.test(t)}function aR(t,e,n){const a=rR(t,e,n);if(console.warn(a),eR.includes(t))throw new RangeError(a)}function rR(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oR=/^'([^]*?)'?$/,lR=/''/g,cR=/[a-zA-Z]/;function av(t,e,n){var u,d,h,f,v,y,_,g;const a=Ai(),r=(n==null?void 0:n.locale)??a.locale??tk,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??a.weekStartsOn??((g=(_=a.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??0,o=F(t,n==null?void 0:n.in);if(!ed(o))throw new RangeError("Invalid time value");let l=e.match(sR).map(m=>{const b=m[0];if(b==="p"||b==="P"){const x=zp[b];return x(m,r.formatLong)}return m}).join("").match(iR).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:uR(m)};if(Zb[b])return{isToken:!0,value:m};if(b.match(cR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:r};return l.map(m=>{if(!m.isToken)return m.value;const b=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&nR(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&tR(b))&&aR(b,e,String(t));const x=Zb[b[0]];return x(o,b,r.localize,c)}).join("")}function uR(t){const e=t.match(oR);return e?e[1].replace(lR,"'"):t}function rv(t,e){return F(t,e==null?void 0:e.in).getDate()}function dR(t,e){return F(t,e==null?void 0:e.in).getDay()}function hR(t,e){const n=F(t,e==null?void 0:e.in),a=n.getFullYear(),r=n.getMonth(),i=xe(n,0);return i.setFullYear(a,r+1,0),i.setHours(0,0,0,0),i.getDate()}function fR(){return Object.assign({},Ai())}function ja(t,e){return F(t,e==null?void 0:e.in).getHours()}function pR(t,e){const n=F(t,e==null?void 0:e.in).getDay();return n===0?7:n}function La(t,e){return F(t,e==null?void 0:e.in).getMinutes()}function St(t,e){return F(t,e==null?void 0:e.in).getMonth()}function Sr(t){return F(t).getSeconds()}function Bp(t){return+F(t)}function Z(t,e){return F(t,e==null?void 0:e.in).getFullYear()}function Ar(t,e){return+F(t)>+F(e)}function Qn(t,e){return+F(t)<+F(e)}function gR(t,e){return+F(t)==+F(e)}function mR(t,e){const n=bR(e)?new e(0):xe(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function bR(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const vR=10;class rk{constructor(){P(this,"subPriority",0)}validate(e,n){return!0}}class yR extends rk{constructor(e,n,a,r,i){super(),this.value=e,this.validateValue=n,this.setValue=a,this.priority=r,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,a){return this.setValue(e,n,this.value,a)}}class _R extends rk{constructor(n,a){super();P(this,"priority",vR);P(this,"subPriority",-1);this.context=n||(r=>xe(a,r))}set(n,a){return a.timestampIsSet?n:xe(n,mR(n,this.context))}}class pe{run(e,n,a,r){const i=this.parse(e,n,a,r);return i?{setter:new yR(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,a){return!0}}class xR extends pe{constructor(){super(...arguments);P(this,"priority",140);P(this,"incompatibleTokens",["R","u","t","T"])}parse(n,a,r){switch(a){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,a,r){return a.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const Ke={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},qn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ge(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ue(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Vn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:a*(r*Kd+i*Wd+s*cA),rest:e.slice(n[0].length)}}function ik(t){return Ue(Ke.anyDigitsSigned,t)}function Ve(t,e){switch(t){case 1:return Ue(Ke.singleDigit,e);case 2:return Ue(Ke.twoDigits,e);case 3:return Ue(Ke.threeDigits,e);case 4:return Ue(Ke.fourDigits,e);default:return Ue(new RegExp("^\\d{1,"+t+"}"),e)}}function rd(t,e){switch(t){case 1:return Ue(Ke.singleDigitSigned,e);case 2:return Ue(Ke.twoDigitsSigned,e);case 3:return Ue(Ke.threeDigitsSigned,e);case 4:return Ue(Ke.fourDigitsSigned,e);default:return Ue(new RegExp("^-?\\d{1,"+t+"}"),e)}}function vm(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sk(t,e){const n=e>0,a=n?e:1-e;let r;if(a<=50)r=t||100;else{const i=a+50,s=Math.trunc(i/100)*100,o=t>=i%100;r=t+s-(o?100:0)}return n?r:1-r}function ok(t){return t%400===0||t%4===0&&t%100!==0}class wR extends pe{constructor(){super(...arguments);P(this,"priority",130);P(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,a,r){const i=s=>({year:s,isTwoDigitYear:a==="yy"});switch(a){case"y":return Ge(Ve(4,n),i);case"yo":return Ge(r.ordinalNumber(n,{unit:"year"}),i);default:return Ge(Ve(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r){const i=n.getFullYear();if(r.isTwoDigitYear){const o=sk(r.year,i);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const s=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class SR extends pe{constructor(){super(...arguments);P(this,"priority",130);P(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,a,r){const i=s=>({year:s,isTwoDigitYear:a==="YY"});switch(a){case"Y":return Ge(Ve(4,n),i);case"Yo":return Ge(r.ordinalNumber(n,{unit:"year"}),i);default:return Ge(Ve(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r,i){const s=bm(n,i);if(r.isTwoDigitYear){const l=sk(r.year,s);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),$a(n,i)}const o=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(o,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),$a(n,i)}}class kR extends pe{constructor(){super(...arguments);P(this,"priority",130);P(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,a){return rd(a==="R"?4:a.length,n)}set(n,a,r){const i=xe(n,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Ls(i)}}class DR extends pe{constructor(){super(...arguments);P(this,"priority",130);P(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,a){return rd(a==="u"?4:a.length,n)}set(n,a,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class ER extends pe{constructor(){super(...arguments);P(this,"priority",120);P(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"Q":case"QQ":return Ve(a.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class CR extends pe{constructor(){super(...arguments);P(this,"priority",120);P(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"q":case"qq":return Ve(a.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class TR extends pe{constructor(){super(...arguments);P(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);P(this,"priority",110)}parse(n,a,r){const i=s=>s-1;switch(a){case"M":return Ge(Ue(Ke.month,n),i);case"MM":return Ge(Ve(2,n),i);case"Mo":return Ge(r.ordinalNumber(n,{unit:"month"}),i);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class MR extends pe{constructor(){super(...arguments);P(this,"priority",110);P(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,a,r){const i=s=>s-1;switch(a){case"L":return Ge(Ue(Ke.month,n),i);case"LL":return Ge(Ve(2,n),i);case"Lo":return Ge(r.ordinalNumber(n,{unit:"month"}),i);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function OR(t,e,n){const a=F(t,n==null?void 0:n.in),r=nk(a,n)-e;return a.setDate(a.getDate()-r*7),F(a,n==null?void 0:n.in)}class AR extends pe{constructor(){super(...arguments);P(this,"priority",100);P(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,a,r){switch(a){case"w":return Ue(Ke.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return Ve(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r,i){return $a(OR(n,r,i),i)}}function RR(t,e,n){const a=F(t,n==null?void 0:n.in),r=mm(a,n)-e;return a.setDate(a.getDate()-r*7),a}class NR extends pe{constructor(){super(...arguments);P(this,"priority",100);P(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,a,r){switch(a){case"I":return Ue(Ke.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return Ve(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r){return Ls(RR(n,r))}}const jR=[31,28,31,30,31,30,31,31,30,31,30,31],LR=[31,29,31,30,31,30,31,31,30,31,30,31];class PR extends pe{constructor(){super(...arguments);P(this,"priority",90);P(this,"subPriority",1);P(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"d":return Ue(Ke.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return Ve(a.length,n)}}validate(n,a){const r=n.getFullYear(),i=ok(r),s=n.getMonth();return i?a>=1&&a<=LR[s]:a>=1&&a<=jR[s]}set(n,a,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class zR extends pe{constructor(){super(...arguments);P(this,"priority",90);P(this,"subpriority",1);P(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,a,r){switch(a){case"D":case"DD":return Ue(Ke.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return Ve(a.length,n)}}validate(n,a){const r=n.getFullYear();return ok(r)?a>=1&&a<=366:a>=1&&a<=365}set(n,a,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function ym(t,e,n){var d,h,f,v;const a=Ai(),r=(n==null?void 0:n.weekStartsOn)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??a.weekStartsOn??((v=(f=a.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,i=F(t,n==null?void 0:n.in),s=i.getDay(),l=(e%7+7)%7,c=7-r,u=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return An(i,u,n)}class BR extends pe{constructor(){super(...arguments);P(this,"priority",90);P(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=ym(n,r,i),n.setHours(0,0,0,0),n}}class HR extends pe{constructor(){super(...arguments);P(this,"priority",90);P(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,a,r,i){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(a){case"e":case"ee":return Ge(Ve(a.length,n),s);case"eo":return Ge(r.ordinalNumber(n,{unit:"day"}),s);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=ym(n,r,i),n.setHours(0,0,0,0),n}}class UR extends pe{constructor(){super(...arguments);P(this,"priority",90);P(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,a,r,i){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(a){case"c":case"cc":return Ge(Ve(a.length,n),s);case"co":return Ge(r.ordinalNumber(n,{unit:"day"}),s);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=ym(n,r,i),n.setHours(0,0,0,0),n}}function IR(t,e,n){const a=F(t,n==null?void 0:n.in),r=pR(a,n),i=e-r;return An(a,i,n)}class YR extends pe{constructor(){super(...arguments);P(this,"priority",90);P(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,a,r){const i=s=>s===0?7:s;switch(a){case"i":case"ii":return Ve(a.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return Ge(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ge(r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ge(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ge(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,a){return a>=1&&a<=7}set(n,a,r){return n=IR(n,r),n.setHours(0,0,0,0),n}}class $R extends pe{constructor(){super(...arguments);P(this,"priority",80);P(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,a,r){switch(a){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(vm(r),0,0,0),n}}class FR extends pe{constructor(){super(...arguments);P(this,"priority",80);P(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,a,r){switch(a){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(vm(r),0,0,0),n}}class qR extends pe{constructor(){super(...arguments);P(this,"priority",80);P(this,"incompatibleTokens",["a","b","t","T"])}parse(n,a,r){switch(a){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(vm(r),0,0,0),n}}class VR extends pe{constructor(){super(...arguments);P(this,"priority",70);P(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,a,r){switch(a){case"h":return Ue(Ke.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return Ve(a.length,n)}}validate(n,a){return a>=1&&a<=12}set(n,a,r){const i=n.getHours()>=12;return i&&r<12?n.setHours(r+12,0,0,0):!i&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class WR extends pe{constructor(){super(...arguments);P(this,"priority",70);P(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,a,r){switch(a){case"H":return Ue(Ke.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return Ve(a.length,n)}}validate(n,a){return a>=0&&a<=23}set(n,a,r){return n.setHours(r,0,0,0),n}}class KR extends pe{constructor(){super(...arguments);P(this,"priority",70);P(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,a,r){switch(a){case"K":return Ue(Ke.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return Ve(a.length,n)}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class GR extends pe{constructor(){super(...arguments);P(this,"priority",70);P(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,a,r){switch(a){case"k":return Ue(Ke.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return Ve(a.length,n)}}validate(n,a){return a>=1&&a<=24}set(n,a,r){const i=r<=24?r%24:r;return n.setHours(i,0,0,0),n}}class QR extends pe{constructor(){super(...arguments);P(this,"priority",60);P(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"m":return Ue(Ke.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return Ve(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setMinutes(r,0,0),n}}class XR extends pe{constructor(){super(...arguments);P(this,"priority",50);P(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"s":return Ue(Ke.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return Ve(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setSeconds(r,0),n}}class JR extends pe{constructor(){super(...arguments);P(this,"priority",30);P(this,"incompatibleTokens",["t","T"])}parse(n,a){const r=i=>Math.trunc(i*Math.pow(10,-a.length+3));return Ge(Ve(a.length,n),r)}set(n,a,r){return n.setMilliseconds(r),n}}class ZR extends pe{constructor(){super(...arguments);P(this,"priority",10);P(this,"incompatibleTokens",["t","T","x"])}parse(n,a){switch(a){case"X":return Vn(qn.basicOptionalMinutes,n);case"XX":return Vn(qn.basic,n);case"XXXX":return Vn(qn.basicOptionalSeconds,n);case"XXXXX":return Vn(qn.extendedOptionalSeconds,n);case"XXX":default:return Vn(qn.extended,n)}}set(n,a,r){return a.timestampIsSet?n:xe(n,n.getTime()-Ju(n)-r)}}class eN extends pe{constructor(){super(...arguments);P(this,"priority",10);P(this,"incompatibleTokens",["t","T","X"])}parse(n,a){switch(a){case"x":return Vn(qn.basicOptionalMinutes,n);case"xx":return Vn(qn.basic,n);case"xxxx":return Vn(qn.basicOptionalSeconds,n);case"xxxxx":return Vn(qn.extendedOptionalSeconds,n);case"xxx":default:return Vn(qn.extended,n)}}set(n,a,r){return a.timestampIsSet?n:xe(n,n.getTime()-Ju(n)-r)}}class tN extends pe{constructor(){super(...arguments);P(this,"priority",40);P(this,"incompatibleTokens","*")}parse(n){return ik(n)}set(n,a,r){return[xe(n,r*1e3),{timestampIsSet:!0}]}}class nN extends pe{constructor(){super(...arguments);P(this,"priority",20);P(this,"incompatibleTokens","*")}parse(n){return ik(n)}set(n,a,r){return[xe(n,r),{timestampIsSet:!0}]}}const aN={G:new xR,y:new wR,Y:new SR,R:new kR,u:new DR,Q:new ER,q:new CR,M:new TR,L:new MR,w:new AR,I:new NR,d:new PR,D:new zR,E:new BR,e:new HR,c:new UR,i:new YR,a:new $R,b:new FR,B:new qR,h:new VR,H:new WR,K:new KR,k:new GR,m:new QR,s:new XR,S:new JR,X:new ZR,x:new eN,t:new tN,T:new nN},rN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sN=/^'([^]*?)'?$/,oN=/''/g,lN=/\S/,cN=/[a-zA-Z]/;function uN(t,e,n,a){var _,g,m,b,x,D,k,S;const r=()=>xe((a==null?void 0:a.in)||n,NaN),i=fR(),s=(a==null?void 0:a.locale)??i.locale??tk,o=(a==null?void 0:a.firstWeekContainsDate)??((g=(_=a==null?void 0:a.locale)==null?void 0:_.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(m=i.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,l=(a==null?void 0:a.weekStartsOn)??((D=(x=a==null?void 0:a.locale)==null?void 0:x.options)==null?void 0:D.weekStartsOn)??i.weekStartsOn??((S=(k=i.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??0;if(!e)return t?r():F(n,a==null?void 0:a.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:s},u=[new _R(a==null?void 0:a.in,n)],d=e.match(iN).map(E=>{const T=E[0];if(T in zp){const R=zp[T];return R(E,s.formatLong)}return E}).join("").match(rN),h=[];for(let E of d){const T=E[0],R=aN[T];if(R){const{incompatibleTokens:M}=R;if(Array.isArray(M)){const L=h.find(H=>M.includes(H.token)||H.token===T);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${E}\` at the same time`)}else if(R.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${E}\` and any other token at the same time`);h.push({token:T,fullToken:E});const C=R.run(t,E,s.match,c);if(!C)return r();u.push(C.setter),t=C.rest}else{if(T.match(cN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(E==="''"?E="'":T==="'"&&(E=dN(E)),t.indexOf(E)===0)t=t.slice(E.length);else return r()}}if(t.length>0&&lN.test(t))return r();const f=u.map(E=>E.priority).sort((E,T)=>T-E).filter((E,T,R)=>R.indexOf(E)===T).map(E=>u.filter(T=>T.priority===E).sort((T,R)=>R.subPriority-T.subPriority)).map(E=>E[0]);let v=F(n,a==null?void 0:a.in);if(isNaN(+v))return r();const y={};for(const E of f){if(!E.validate(v,c))return r();const T=E.set(v,y,c);Array.isArray(T)?(v=T[0],Object.assign(y,T[1])):v=T}return v}function dN(t){return t.match(sN)[1].replace(oN,"'")}function hN(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function fN(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e);return+Pp(a)==+Pp(r)}function pN(t,e,n){const[a,r]=qa(n==null?void 0:n.in,t,e);return a.getFullYear()===r.getFullYear()}function Sl(t,e,n){const a=+F(t,n==null?void 0:n.in),[r,i]=[+F(e.start,n==null?void 0:n.in),+F(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return a>=r&&a<=i}function gN(t,e,n){return An(t,-1,n)}function mN(t,e){const n=()=>xe(e==null?void 0:e.in,NaN),r=_N(t);let i;if(r.date){const c=xN(r.date,2);i=wN(c.restDateString,c.year)}if(!i||isNaN(+i))return n();const s=+i;let o=0,l;if(r.time&&(o=SN(r.time),isNaN(o)))return n();if(r.timezone){if(l=kN(r.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=F(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return F(s+o+l,e==null?void 0:e.in)}const xc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _N(t){const e={},n=t.split(xc.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],xc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(xc.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const r=xc.timezone.exec(a);r?(e.time=a.replace(r[1],""),e.timezone=r[1]):e.time=a}return e}function xN(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?r:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function wN(t,e){if(e===null)return new Date(NaN);const n=t.match(bN);if(!n)return new Date(NaN);const a=!!n[4],r=bo(n[1]),i=bo(n[2])-1,s=bo(n[3]),o=bo(n[4]),l=bo(n[5])-1;if(a)return MN(e,o,l)?DN(e,o,l):new Date(NaN);{const c=new Date(0);return!CN(e,i,s)||!TN(e,r)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(r,s)),c)}}function bo(t){return t?parseInt(t):1}function SN(t){const e=t.match(vN);if(!e)return NaN;const n=af(e[1]),a=af(e[2]),r=af(e[3]);return ON(n,a,r)?n*Kd+a*Wd+r*1e3:NaN}function af(t){return t&&parseFloat(t.replace(",","."))||0}function kN(t){if(t==="Z")return 0;const e=t.match(yN);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return AN(a,r)?n*(a*Kd+r*Wd):NaN}function DN(t,e,n){const a=new Date(0);a.setUTCFullYear(t,0,4);const r=a.getUTCDay()||7,i=(e-1)*7+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}const EN=[31,null,31,30,31,30,31,31,30,31,30,31];function lk(t){return t%400===0||t%4===0&&t%100!==0}function CN(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(EN[e]||(lk(t)?29:28))}function TN(t,e){return e>=1&&e<=(lk(t)?366:365)}function MN(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ON(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function AN(t,e){return e>=0&&e<=59}function Kt(t,e,n){const a=F(t,n==null?void 0:n.in),r=a.getFullYear(),i=a.getDate(),s=xe(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=hR(s);return a.setMonth(e,Math.min(i,o)),a}function ou(t,e,n){const a=F(t,n==null?void 0:n.in);return a.setHours(e),a}function lu(t,e,n){const a=F(t,n==null?void 0:n.in);return a.setMinutes(e),a}function Qi(t,e,n){const a=F(t,n==null?void 0:n.in),r=Math.trunc(a.getMonth()/3)+1,i=e-r;return Kt(a,a.getMonth()+i*3)}function cu(t,e,n){const a=F(t,n==null?void 0:n.in);return a.setSeconds(e),a}function Yn(t,e,n){const a=F(t,n==null?void 0:n.in);return isNaN(+a)?xe(t,NaN):(a.setFullYear(e),a)}function fi(t,e,n){return Rn(t,-e,n)}function ck(t,e,n){return gm(t,-1,n)}function iv(t,e,n){return Zu(t,-1,n)}function zs(t,e,n){return Ra(t,-e,n)}function Qd(){return typeof window<"u"}function no(t){return uk(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oa(t){var e;return(e=(uk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uk(t){return Qd()?t instanceof Node||t instanceof nn(t).Node:!1}function Tt(t){return Qd()?t instanceof Element||t instanceof nn(t).Element:!1}function ta(t){return Qd()?t instanceof HTMLElement||t instanceof nn(t).HTMLElement:!1}function sv(t){return!Qd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}const RN=new Set(["inline","contents"]);function Wl(t){const{overflow:e,overflowX:n,overflowY:a,display:r}=Sn(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!RN.has(r)}const NN=new Set(["table","td","th"]);function jN(t){return NN.has(no(t))}const LN=[":popover-open",":modal"];function Xd(t){return LN.some(e=>{try{return t.matches(e)}catch{return!1}})}const PN=["transform","translate","scale","rotate","perspective"],zN=["transform","translate","scale","rotate","perspective","filter"],BN=["paint","layout","strict","content"];function _m(t){const e=xm(),n=Tt(t)?Sn(t):t;return PN.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zN.some(a=>(n.willChange||"").includes(a))||BN.some(a=>(n.contain||"").includes(a))}function HN(t){let e=Rr(t);for(;ta(e)&&!Bs(e);){if(_m(e))return e;if(Xd(e))return null;e=Rr(e)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UN=new Set(["html","body","#document"]);function Bs(t){return UN.has(no(t))}function Sn(t){return nn(t).getComputedStyle(t)}function Jd(t){return Tt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rr(t){if(no(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sv(t)&&t.host||oa(t);return sv(e)?e.host:e}function dk(t){const e=Rr(t);return Bs(e)?t.ownerDocument?t.ownerDocument.body:t.body:ta(e)&&Wl(e)?e:dk(e)}function kl(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=dk(t),i=r===((a=t.ownerDocument)==null?void 0:a.body),s=nn(r);if(i){const o=Hp(s);return e.concat(s,s.visualViewport||[],Wl(r)?r:[],o&&n?kl(o):[])}return e.concat(r,kl(r,[],n))}function Hp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Hs=Math.min,pi=Math.max,id=Math.round,wc=Math.floor,Zn=t=>({x:t,y:t}),IN={left:"right",right:"left",bottom:"top",top:"bottom"},YN={start:"end",end:"start"};function $N(t,e,n){return pi(t,Hs(e,n))}function Zd(t,e){return typeof t=="function"?t(e):t}function Us(t){return t.split("-")[0]}function Kl(t){return t.split("-")[1]}function FN(t){return t==="x"?"y":"x"}function wm(t){return t==="y"?"height":"width"}const qN=new Set(["top","bottom"]);function ri(t){return qN.has(Us(t))?"y":"x"}function Sm(t){return FN(ri(t))}function VN(t,e,n){n===void 0&&(n=!1);const a=Kl(t),r=Sm(t),i=wm(r);let s=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=sd(s)),[s,sd(s)]}function WN(t){const e=sd(t);return[Up(t),e,Up(e)]}function Up(t){return t.replace(/start|end/g,e=>YN[e])}const ov=["left","right"],lv=["right","left"],KN=["top","bottom"],GN=["bottom","top"];function QN(t,e,n){switch(t){case"top":case"bottom":return n?e?lv:ov:e?ov:lv;case"left":case"right":return e?KN:GN;default:return[]}}function XN(t,e,n,a){const r=Kl(t);let i=QN(Us(t),n==="start",a);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Up)))),i}function sd(t){return t.replace(/left|right|bottom|top/g,e=>IN[e])}function JN(t){return{top:0,right:0,bottom:0,left:0,...t}}function hk(t){return typeof t!="number"?JN(t):{top:t,right:t,bottom:t,left:t}}function od(t){const{x:e,y:n,width:a,height:r}=t;return{width:a,height:r,top:n,left:e,right:e+a,bottom:n+r,x:e,y:n}}var ZN=typeof document<"u",ej=function(){},ld=ZN?w.useLayoutEffect:ej;const tj={...r_},nj=tj.useInsertionEffect,aj=nj||(t=>t());function rj(t){const e=w.useRef(()=>{});return aj(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e.current==null?void 0:e.current(...a)},[])}function cv(t,e,n){let{reference:a,floating:r}=t;const i=ri(e),s=Sm(e),o=wm(s),l=Us(e),c=i==="y",u=a.x+a.width/2-r.width/2,d=a.y+a.height/2-r.height/2,h=a[o]/2-r[o]/2;let f;switch(l){case"top":f={x:u,y:a.y-r.height};break;case"bottom":f={x:u,y:a.y+a.height};break;case"right":f={x:a.x+a.width,y:d};break;case"left":f={x:a.x-r.width,y:d};break;default:f={x:a.x,y:a.y}}switch(Kl(e)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1);break}return f}const ij=async(t,e,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=cv(c,a,l),h=a,f={},v=0;for(let y=0;y<o.length;y++){const{name:_,fn:g}=o[y],{x:m,y:b,data:x,reset:D}=await g({x:u,y:d,initialPlacement:a,placement:h,strategy:r,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});u=m??u,d=b??d,f={...f,[_]:{...f[_],...x}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(c=D.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):D.rects),{x:u,y:d}=cv(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}};async function sj(t,e){var n;e===void 0&&(e={});const{x:a,y:r,platform:i,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Zd(e,t),v=hk(f),_=o[h?d==="floating"?"reference":"floating":d],g=od(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:a,y:r,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:m,offsetParent:b,strategy:l}):m);return{top:(g.top-D.top+v.top)/x.y,bottom:(D.bottom-g.bottom+v.bottom)/x.y,left:(g.left-D.left+v.left)/x.x,right:(D.right-g.right+v.right)/x.x}}const oj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:r,rects:i,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Zd(t,e)||{};if(c==null)return{};const d=hk(u),h={x:n,y:a},f=Sm(r),v=wm(f),y=await s.getDimensions(c),_=f==="y",g=_?"top":"left",m=_?"bottom":"right",b=_?"clientHeight":"clientWidth",x=i.reference[v]+i.reference[f]-h[f]-i.floating[v],D=h[f]-i.reference[f],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=k?k[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(k)))&&(S=o.floating[b]||i.floating[v]);const E=x/2-D/2,T=S/2-y[v]/2-1,R=Hs(d[g],T),M=Hs(d[m],T),C=R,L=S-y[v]-M,H=S/2-y[v]/2+E,U=$N(C,H,L),O=!l.arrow&&Kl(r)!=null&&H!==U&&i.reference[v]/2-(H<C?R:M)-y[v]/2<0,A=O?H<C?H-C:H-L:0;return{[f]:h[f]+A,data:{[f]:U,centerOffset:H-U-A,...O&&{alignmentOffset:A}},reset:O}}}),lj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,..._}=Zd(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=Us(r),m=ri(o),b=Us(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=h||(b||!y?[sd(o)]:WN(o)),k=v!=="none";!h&&k&&D.push(...XN(o,y,v,x));const S=[o,...D],E=await sj(e,_),T=[];let R=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&T.push(E[g]),d){const H=VN(r,s,x);T.push(E[H[0]],E[H[1]])}if(R=[...R,{placement:r,overflows:T}],!T.every(H=>H<=0)){var M,C;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,U=S[H];if(U&&(!(d==="alignment"?m!==ri(U):!1)||R.every(N=>ri(N.placement)===m?N.overflows[0]>0:!0)))return{data:{index:H,overflows:R},reset:{placement:U}};let O=(C=R.filter(A=>A.overflows[0]<=0).sort((A,N)=>A.overflows[1]-N.overflows[1])[0])==null?void 0:C.placement;if(!O)switch(f){case"bestFit":{var L;const A=(L=R.filter(N=>{if(k){const B=ri(N.placement);return B===m||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,I)=>B+I,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:L[0];A&&(O=A);break}case"initialPlacement":O=o;break}if(r!==O)return{reset:{placement:O}}}return{}}}},cj=new Set(["left","top"]);async function uj(t,e){const{placement:n,platform:a,elements:r}=t,i=await(a.isRTL==null?void 0:a.isRTL(r.floating)),s=Us(n),o=Kl(n),l=ri(n)==="y",c=cj.has(s)?-1:1,u=i&&l?-1:1,d=Zd(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof v=="number"&&(f=o==="end"?v*-1:v),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const dj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:r,y:i,placement:s,middlewareData:o}=e,l=await uj(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(a=o.arrow)!=null&&a.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}};function fk(t){const e=Sn(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const r=ta(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:a,o=id(n)!==i||id(a)!==s;return o&&(n=i,a=s),{width:n,height:a,$:o}}function km(t){return Tt(t)?t:t.contextElement}function vs(t){const e=km(t);if(!ta(e))return Zn(1);const n=e.getBoundingClientRect(),{width:a,height:r,$:i}=fk(e);let s=(i?id(n.width):n.width)/a,o=(i?id(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const hj=Zn(0);function pk(t){const e=nn(t);return!xm()||!e.visualViewport?hj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function wi(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=km(t);let s=Zn(1);e&&(a?Tt(a)&&(s=vs(a)):s=vs(t));const o=fj(i,n,a)?pk(i):Zn(0);let l=(r.left+o.x)/s.x,c=(r.top+o.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const h=nn(i),f=a&&Tt(a)?nn(a):a;let v=h,y=Hp(v);for(;y&&a&&f!==v;){const _=vs(y),g=y.getBoundingClientRect(),m=Sn(y),b=g.left+(y.clientLeft+parseFloat(m.paddingLeft))*_.x,x=g.top+(y.clientTop+parseFloat(m.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=x,v=nn(y),y=Hp(v)}}return od({width:u,height:d,x:l,y:c})}function eh(t,e){const n=Jd(t).scrollLeft;return e?e.left+n:wi(oa(t)).left+n}function gk(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-eh(t,n),r=n.top+e.scrollTop;return{x:a,y:r}}function pj(t){let{elements:e,rect:n,offsetParent:a,strategy:r}=t;const i=r==="fixed",s=oa(a),o=e?Xd(e.floating):!1;if(a===s||o&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Zn(1);const u=Zn(0),d=ta(a);if((d||!d&&!i)&&((no(a)!=="body"||Wl(s))&&(l=Jd(a)),ta(a))){const f=wi(a);c=vs(a),u.x=f.x+a.clientLeft,u.y=f.y+a.clientTop}const h=s&&!d&&!i?gk(s,l):Zn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function gj(t){return Array.from(t.getClientRects())}function mj(t){const e=oa(t),n=Jd(t),a=t.ownerDocument.body,r=pi(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),i=pi(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let s=-n.scrollLeft+eh(t);const o=-n.scrollTop;return Sn(a).direction==="rtl"&&(s+=pi(e.clientWidth,a.clientWidth)-r),{width:r,height:i,x:s,y:o}}const uv=25;function bj(t,e){const n=nn(t),a=oa(t),r=n.visualViewport;let i=a.clientWidth,s=a.clientHeight,o=0,l=0;if(r){i=r.width,s=r.height;const u=xm();(!u||u&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}const c=eh(a);if(c<=0){const u=a.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(a.clientWidth-d.clientWidth-f);v<=uv&&(i-=v)}else c<=uv&&(i+=c);return{width:i,height:s,x:o,y:l}}const vj=new Set(["absolute","fixed"]);function yj(t,e){const n=wi(t,!0,e==="fixed"),a=n.top+t.clientTop,r=n.left+t.clientLeft,i=ta(t)?vs(t):Zn(1),s=t.clientWidth*i.x,o=t.clientHeight*i.y,l=r*i.x,c=a*i.y;return{width:s,height:o,x:l,y:c}}function dv(t,e,n){let a;if(e==="viewport")a=bj(t,n);else if(e==="document")a=mj(oa(t));else if(Tt(e))a=yj(e,n);else{const r=pk(t);a={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return od(a)}function mk(t,e){const n=Rr(t);return n===e||!Tt(n)||Bs(n)?!1:Sn(n).position==="fixed"||mk(n,e)}function _j(t,e){const n=e.get(t);if(n)return n;let a=kl(t,[],!1).filter(o=>Tt(o)&&no(o)!=="body"),r=null;const i=Sn(t).position==="fixed";let s=i?Rr(t):t;for(;Tt(s)&&!Bs(s);){const o=Sn(s),l=_m(s);!l&&o.position==="fixed"&&(r=null),(i?!l&&!r:!l&&o.position==="static"&&!!r&&vj.has(r.position)||Wl(s)&&!l&&mk(t,s))?a=a.filter(u=>u!==s):r=o,s=Rr(s)}return e.set(t,a),a}function xj(t){let{element:e,boundary:n,rootBoundary:a,strategy:r}=t;const s=[...n==="clippingAncestors"?Xd(e)?[]:_j(e,this._c):[].concat(n),a],o=s[0],l=s.reduce((c,u)=>{const d=dv(e,u,r);return c.top=pi(d.top,c.top),c.right=Hs(d.right,c.right),c.bottom=Hs(d.bottom,c.bottom),c.left=pi(d.left,c.left),c},dv(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wj(t){const{width:e,height:n}=fk(t);return{width:e,height:n}}function Sj(t,e,n){const a=ta(e),r=oa(e),i=n==="fixed",s=wi(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Zn(0);function c(){l.x=eh(r)}if(a||!a&&!i)if((no(e)!=="body"||Wl(r))&&(o=Jd(e)),a){const f=wi(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else r&&c();i&&!a&&r&&c();const u=r&&!a&&!i?gk(r,o):Zn(0),d=s.left+o.scrollLeft-l.x-u.x,h=s.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function rf(t){return Sn(t).position==="static"}function hv(t,e){if(!ta(t)||Sn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return oa(t)===n&&(n=n.ownerDocument.body),n}function bk(t,e){const n=nn(t);if(Xd(t))return n;if(!ta(t)){let r=Rr(t);for(;r&&!Bs(r);){if(Tt(r)&&!rf(r))return r;r=Rr(r)}return n}let a=hv(t,e);for(;a&&jN(a)&&rf(a);)a=hv(a,e);return a&&Bs(a)&&rf(a)&&!_m(a)?n:a||HN(t)||n}const kj=async function(t){const e=this.getOffsetParent||bk,n=this.getDimensions,a=await n(t.floating);return{reference:Sj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Dj(t){return Sn(t).direction==="rtl"}const Ej={convertOffsetParentRelativeRectToViewportRelativeRect:pj,getDocumentElement:oa,getClippingRect:xj,getOffsetParent:bk,getElementRects:kj,getClientRects:gj,getDimensions:wj,getScale:vs,isElement:Tt,isRTL:Dj};function vk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Cj(t,e){let n=null,a;const r=oa(t);function i(){var o;clearTimeout(a),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const v=wc(d),y=wc(r.clientWidth-(u+h)),_=wc(r.clientHeight-(d+f)),g=wc(u),b={rootMargin:-v+"px "+-y+"px "+-_+"px "+-g+"px",threshold:pi(0,Hs(1,l))||1};let x=!0;function D(k){const S=k[0].intersectionRatio;if(S!==l){if(!x)return s();S?s(!1,S):a=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!vk(c,t.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(D,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return s(!0),i}function Tj(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=a,c=km(t),u=r||i?[...c?kl(c):[],...kl(e)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const d=c&&o?Cj(c,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(g=>{let[m]=g;m&&m.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let v,y=l?wi(t):null;l&&_();function _(){const g=wi(t);y&&!vk(y,g)&&n(),y=g,v=requestAnimationFrame(_)}return n(),()=>{var g;u.forEach(m=>{r&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),d==null||d(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const Mj=dj,Oj=lj,fv=oj,Aj=(t,e,n)=>{const a=new Map,r={platform:Ej,...n},i={...r.platform,_c:a};return ij(t,e,{...r,platform:i})};var Rj=typeof document<"u",Nj=function(){},uu=Rj?w.useLayoutEffect:Nj;function cd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!cd(t[a],e[a]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,r[a]))return!1;for(a=n;a--!==0;){const i=r[a];if(!(i==="_owner"&&t.$$typeof)&&!cd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pv(t,e){const n=yk(t);return Math.round(e*n)/n}function sf(t){const e=w.useRef(t);return uu(()=>{e.current=t}),e}function jj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=w.useState(a);cd(h,a)||f(a);const[v,y]=w.useState(null),[_,g]=w.useState(null),m=w.useCallback(N=>{N!==k.current&&(k.current=N,y(N))},[]),b=w.useCallback(N=>{N!==S.current&&(S.current=N,g(N))},[]),x=i||v,D=s||_,k=w.useRef(null),S=w.useRef(null),E=w.useRef(u),T=l!=null,R=sf(l),M=sf(r),C=sf(c),L=w.useCallback(()=>{if(!k.current||!S.current)return;const N={placement:e,strategy:n,middleware:h};M.current&&(N.platform=M.current),Aj(k.current,S.current,N).then(B=>{const I={...B,isPositioned:C.current!==!1};H.current&&!cd(E.current,I)&&(E.current=I,rg.flushSync(()=>{d(I)}))})},[h,e,n,M,C]);uu(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(N=>({...N,isPositioned:!1})))},[c]);const H=w.useRef(!1);uu(()=>(H.current=!0,()=>{H.current=!1}),[]),uu(()=>{if(x&&(k.current=x),D&&(S.current=D),x&&D){if(R.current)return R.current(x,D,L);L()}},[x,D,L,R,T]);const U=w.useMemo(()=>({reference:k,floating:S,setReference:m,setFloating:b}),[m,b]),O=w.useMemo(()=>({reference:x,floating:D}),[x,D]),A=w.useMemo(()=>{const N={position:n,left:0,top:0};if(!O.floating)return N;const B=pv(O.floating,u.x),I=pv(O.floating,u.y);return o?{...N,transform:"translate("+B+"px, "+I+"px)",...yk(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:I}},[n,o,O.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:L,refs:U,elements:O,floatingStyles:A}),[u,L,U,O,A])}const Lj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:r}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?fv({element:a.current,padding:r}).fn(n):{}:a?fv({element:a,padding:r}).fn(n):{}}}},Pj=(t,e)=>({...Mj(t),options:[t,e]}),zj=(t,e)=>({...Oj(t),options:[t,e]}),Bj=(t,e)=>({...Lj(t),options:[t,e]}),Hj={...r_};let gv=!1,Uj=0;const mv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Uj++;function Ij(){const[t,e]=w.useState(()=>gv?mv():void 0);return ld(()=>{t==null&&e(mv())},[]),w.useEffect(()=>{gv=!0},[]),t}const Yj=Hj.useId,_k=Yj||Ij,$j=w.forwardRef(function(e,n){const{context:{placement:a,elements:{floating:r},middlewareData:{arrow:i,shift:s}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:f,style:{transform:v,...y}={},..._}=e,g=_k(),[m,b]=w.useState(!1);if(ld(()=>{if(!r)return;Sn(r).direction==="rtl"&&b(!0)},[r]),!r)return null;const[x,D]=a.split("-"),k=x==="top"||x==="bottom";let S=d;(k&&s!=null&&s.x||!k&&s!=null&&s.y)&&(S=null);const E=u*2,T=E/2,R=o/2*(c/-8+1),M=l/2*c/4,C=!!f,L=S&&D==="end"?"bottom":"top";let H=S&&D==="end"?"right":"left";S&&m&&(H=D==="end"?"left":"right");const U=(i==null?void 0:i.x)!=null?S||i.x:"",O=(i==null?void 0:i.y)!=null?S||i.y:"",A=f||"M0,0"+(" H"+o)+(" L"+(o-R)+","+(l-M))+(" Q"+o/2+","+l+" "+R+","+(l-M))+" Z",N={top:C?"rotate(180deg)":"",left:C?"rotate(90deg)":"rotate(-90deg)",bottom:C?"":"rotate(180deg)",right:C?"rotate(-90deg)":"rotate(90deg)"}[x];return p.jsxs("svg",{..._,"aria-hidden":!0,ref:n,width:C?o:o+E,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[H]:U,[L]:O,[x]:k||C?"100%":"calc(100% - "+E/2+"px)",transform:[N,v].filter(B=>!!B).join(" "),...y},children:[E>0&&p.jsx("path",{clipPath:"url(#"+g+")",fill:"none",stroke:h,strokeWidth:E+(f?0:1),d:A}),p.jsx("path",{stroke:E&&!f?_.fill:"none",d:A}),p.jsx("clipPath",{id:g,children:p.jsx("rect",{x:-T,y:T*(C?-1:1),width:o+E,height:o})})]})});function Fj(){const t=new Map;return{emit(e,n){var a;(a=t.get(e))==null||a.forEach(r=>r(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var a;(a=t.get(e))==null||a.delete(n)}}}const qj=w.createContext(null),Vj=w.createContext(null),Wj=()=>{var t;return((t=w.useContext(qj))==null?void 0:t.id)||null},Kj=()=>w.useContext(Vj);function Gj(t){const{open:e=!1,onOpenChange:n,elements:a}=t,r=_k(),i=w.useRef({}),[s]=w.useState(()=>Fj()),o=Wj()!=null,[l,c]=w.useState(a.reference),u=rj((f,v,y)=>{i.current.openEvent=f?v:void 0,s.emit("openchange",{open:f,event:v,reason:y,nested:o}),n==null||n(f,v,y)}),d=w.useMemo(()=>({setPositionReference:c}),[]),h=w.useMemo(()=>({reference:l||a.reference||null,floating:a.floating||null,domReference:a.reference}),[l,a.reference,a.floating]);return w.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:h,events:s,floatingId:r,refs:d}),[e,u,h,s,r,d])}function Qj(t){t===void 0&&(t={});const{nodeId:e}=t,n=Gj({...t,elements:{reference:null,floating:null,...t.elements}}),a=t.rootContext||n,r=a.elements,[i,s]=w.useState(null),[o,l]=w.useState(null),u=(r==null?void 0:r.domReference)||i,d=w.useRef(null),h=Kj();ld(()=>{u&&(d.current=u)},[u]);const f=jj({...t,elements:{...r,...o&&{reference:o}}}),v=w.useCallback(b=>{const x=Tt(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;l(x),f.refs.setReference(x)},[f.refs]),y=w.useCallback(b=>{(Tt(b)||b===null)&&(d.current=b,s(b)),(Tt(f.refs.reference.current)||f.refs.reference.current===null||b!==null&&!Tt(b))&&f.refs.setReference(b)},[f.refs]),_=w.useMemo(()=>({...f.refs,setReference:y,setPositionReference:v,domReference:d}),[f.refs,y,v]),g=w.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),m=w.useMemo(()=>({...f,...a,refs:_,elements:g,nodeId:e}),[f,_,g,e,a]);return ld(()=>{a.dataRef.current.floatingContext=m;const b=h==null?void 0:h.nodesRef.current.find(x=>x.id===e);b&&(b.context=m)}),w.useMemo(()=>({...f,context:m,refs:_,elements:g}),[f,_,g,m])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ip=function(e,n){return Ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])},Ip(e,n)};function _t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ip(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ae=function(){return ae=Object.assign||function(n){for(var a,r=1,i=arguments.length;r<i;r++){a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},ae.apply(this,arguments)};function Xn(t,e,n){if(n||arguments.length===2)for(var a=0,r=e.length,i;a<r;a++)(i||!(a in e))&&(i||(i=Array.prototype.slice.call(e,0,a)),i[a]=e[a]);return t.concat(i||Array.prototype.slice.call(e))}var Xj=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,a=t.showTime,r=a===void 0?!1:a,i=t.className,s=t.children,o=n?"Choose Time":"Choose Date".concat(r?" and Time":"");return j.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},s)},Jj=function(t,e){var n=w.useRef(null),a=w.useRef(t);a.current=t;var r=w.useCallback(function(i){var s,o=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;n.current&&!n.current.contains(o)&&(e&&o instanceof HTMLElement&&o.classList.contains(e)||(s=a.current)===null||s===void 0||s.call(a,i))},[e]);return w.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),n},th=function(t){var e=t.children,n=t.onClickOutside,a=t.className,r=t.containerRef,i=t.style,s=t.ignoreClass,o=Jj(n,s);return j.createElement("div",{className:a,style:i,ref:function(l){o.current=l,r&&(r.current=l)}},e)},$;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})($||($={}));function xk(){var t=typeof window<"u"?window:globalThis;return t}var Gl=12;function be(t){if(t==null)return new Date;var e=typeof t=="string"?mN(t):F(t);return nh(e)?e:new Date}function of(t,e,n,a,r){r===void 0&&(r=be());for(var i=Is(n)||Is(Dm()),s=Array.isArray(e)?e:[e],o=0,l=s;o<l.length;o++){var c=l[o],u=uN(t,c,r,{locale:i});if(nh(u)&&(!a||t===Le(u,c,n)))return u}return null}function nh(t,e){return ed(t)&&!Qn(t,new Date("1/1/1800"))}function Le(t,e,n){if(n==="en")return av(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=n?Is(n):void 0;return n&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),a=a||Is(Dm()),av(t,e,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Vt(t,e){var n=e.dateFormat,a=e.locale,r=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Le(t,r,a)||""}var wk=" - ";function Zj(t,e,n){if(!t&&!e)return"";var a=t?Vt(t,n):"",r=e?Vt(e,n):"",i=n.rangeSeparator||wk;return"".concat(a).concat(i).concat(r)}function e3(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Vt(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var a=Vt(t[1],e);return"".concat(n,", ").concat(a)}var r=t.length-1;return"".concat(n," (+").concat(r,")")}function lf(t,e){var n=e.hour,a=n===void 0?0:n,r=e.minute,i=r===void 0?0:r,s=e.second,o=s===void 0?0:s;return ou(lu(cu(t,o),i),a)}function t3(t){return mm(t)}function n3(t,e){return Le(t,"ddd",e)}function du(t){return xi(t)}function kr(t,e,n){var a=Is(e||Dm());return $a(t,{locale:a,weekStartsOn:n})}function Pa(t){return ZS(t)}function Ao(t){return Gd(t)}function bv(t){return Pp(t)}function vv(){return xi(be())}function yv(t){return XS(t)}function a3(t){return mA(t)}function r3(t){return JS(t)}function Fn(t,e){return t&&e?pN(t,e):!t&&!e}function Et(t,e){return t&&e?hN(t,e):!t&&!e}function ud(t,e){return t&&e?fN(t,e):!t&&!e}function ne(t,e){return t&&e?pA(t,e):!t&&!e}function ii(t,e){return t&&e?gR(t,e):!t&&!e}function Zr(t,e,n){var a,r=xi(e),i=XS(n);try{a=Sl(t,{start:r,end:i})}catch{a=!1}return a}function Dm(){var t=xk();return t.__localeId__}function Is(t){if(typeof t=="string"){var e=xk();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function i3(t,e,n){return e(Le(t,"EEEE",n))}function s3(t,e){return Le(t,"EEEEEE",e)}function o3(t,e){return Le(t,"EEE",e)}function Em(t,e){return Le(Kt(be(),t),"LLLL",e)}function Sk(t,e){return Le(Kt(be(),t),"LLL",e)}function l3(t,e){return Le(Qi(be(),t),"QQQ",e)}function pn(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.maxDate,i=n.excludeDates,s=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,c=n.filterDate,u=n.disabled;return u?!0:Ql(t,{minDate:a,maxDate:r})||i&&i.some(function(d){return d instanceof Date?ne(t,d):ne(t,d.date)})||s&&s.some(function(d){var h=d.start,f=d.end;return Sl(t,{start:h,end:f})})||o&&!o.some(function(d){return ne(t,d)})||l&&!l.some(function(d){var h=d.start,f=d.end;return Sl(t,{start:h,end:f})})||c&&!c(be(t))||!1}function Cm(t,e){var n=e===void 0?{}:e,a=n.excludeDates,r=n.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var s=i.start,o=i.end;return Sl(t,{start:s,end:o})}):a&&a.some(function(i){var s;return i instanceof Date?ne(t,i):ne(t,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function kk(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate;return Ql(t,{minDate:a?ZS(a):void 0,maxDate:r?JS(r):void 0})||(i==null?void 0:i.some(function(l){return Et(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Et(t,l)})||o&&!o(be(t))||!1}function Sc(t,e,n,a){var r=Z(t),i=St(t),s=Z(e),o=St(e),l=Z(a);return r===s&&r===l?i<=n&&n<=o:r<s?l===r&&i<=n||l===s&&o>=n||l<s&&l>r:!1}function c3(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.maxDate,i=n.excludeDates,s=n.includeDates;return Ql(t,{minDate:a,maxDate:r})||i&&i.some(function(o){return Et(o instanceof Date?o:o.date,t)})||s&&!s.some(function(o){return Et(o,t)})||!1}function kc(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate,l=n.disabled;return l?!0:Ql(t,{minDate:a,maxDate:r})||(i==null?void 0:i.some(function(c){return ud(t,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return ud(t,c)})||o&&!o(be(t))||!1}function Dc(t,e,n){if(!e||!n||!ed(e)||!ed(n))return!1;var a=Z(e),r=Z(n);return a<=t&&r>=t}function hu(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate,l=n.disabled;if(l)return!0;var c=new Date(t,0,1);return Ql(c,{minDate:a?Gd(a):void 0,maxDate:r?ek(r):void 0})||(i==null?void 0:i.some(function(u){return Fn(c,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Fn(c,u)})||o&&!o(be(c))||!1}function Ec(t,e,n,a){var r=Z(t),i=hi(t),s=Z(e),o=hi(e),l=Z(a);return r===s&&r===l?i<=n&&n<=o:r<s?l===r&&i<=n||l===s&&o>=n||l<s&&l>r:!1}function Ql(t,e){var n,a=e===void 0?{}:e,r=a.minDate,i=a.maxDate;return(n=r&&Ps(t,r)<0||i&&Ps(t,i)>0)!==null&&n!==void 0?n:!1}function _v(t,e){return e.some(function(n){return ja(n)===ja(t)&&La(n)===La(t)&&Sr(n)===Sr(t)})}function xv(t,e){var n=e===void 0?{}:e,a=n.excludeTimes,r=n.includeTimes,i=n.filterTime;return a&&_v(t,a)||r&&!_v(t,r)||i&&!i(t)||!1}function wv(t,e){var n=e.minTime,a=e.maxTime;if(!n||!a)throw new Error("Both minTime and maxTime props required");var r=be();r=ou(r,ja(t)),r=lu(r,La(t)),r=cu(r,Sr(t));var i=be();i=ou(i,ja(n)),i=lu(i,La(n)),i=cu(i,Sr(n));var s=be();s=ou(s,ja(a)),s=lu(s,La(a)),s=cu(s,Sr(a));var o;try{o=!Sl(r,{start:i,end:s})}catch{o=!1}return o}function Sv(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.includeDates,i=fi(t,1);return a&&td(a,i)>0||r&&r.every(function(s){return td(s,i)>0})||!1}function kv(t,e){var n=e===void 0?{}:e,a=n.maxDate,r=n.includeDates,i=Rn(t,1);return a&&td(i,a)>0||r&&r.every(function(s){return td(i,s)>0})||!1}function u3(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.includeDates,i=Gd(t),s=ck(i);return a&&nd(a,s)>0||r&&r.every(function(o){return nd(o,s)>0})||!1}function d3(t,e){var n=e===void 0?{}:e,a=n.maxDate,r=n.includeDates,i=ek(t),s=gm(i,1);return a&&nd(s,a)>0||r&&r.every(function(o){return nd(s,o)>0})||!1}function Dv(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.includeDates,i=zs(t,1);return a&&ad(a,i)>0||r&&r.every(function(s){return ad(s,i)>0})||!1}function h3(t,e){var n=e===void 0?{}:e,a=n.minDate,r=n.yearItemNumber,i=r===void 0?Gl:r,s=Ao(zs(t,i)),o=Da(s,i).endPeriod,l=a&&Z(a);return l&&l>o||!1}function Ev(t,e){var n=e===void 0?{}:e,a=n.maxDate,r=n.includeDates,i=Ra(t,1);return a&&ad(i,a)>0||r&&r.every(function(s){return ad(i,s)>0})||!1}function f3(t,e){var n=e===void 0?{}:e,a=n.maxDate,r=n.yearItemNumber,i=r===void 0?Gl:r,s=Ra(t,i),o=Da(s,i).startPeriod,l=a&&Z(a);return l&&l<o||!1}function Dk(t){var e=t.minDate,n=t.includeDates;if(n&&e){var a=n.filter(function(r){return Ps(r,e)>=0});return Xb(a)}else return n?Xb(n):e}function Ek(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var a=n.filter(function(r){return Ps(r,e)<=0});return Qb(a)}else return n?Qb(n):e}function Cv(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var a=new Map,r=0,i=t.length;r<i;r++){var s=t[r];if(Na(s)){var o=Le(s,"MM.dd.yyyy"),l=a.get(o)||[];l.includes(e)||(l.push(e),a.set(o,l))}else if(typeof s=="object"){var c=Object.keys(s),u=(n=c[0])!==null&&n!==void 0?n:"",d=s[u];if(typeof u=="string"&&Array.isArray(d))for(var h=0,f=d.length;h<f;h++){var v=d[h];if(v){var o=Le(v,"MM.dd.yyyy"),l=a.get(o)||[];l.includes(u)||(l.push(u),a.set(o,l))}}}}return a}function p3(t,e){return t.length!==e.length?!1:t.every(function(n,a){return n===e[a]})}function g3(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(a){var r=a.date,i=a.holidayName;if(Na(r)){var s=Le(r,"MM.dd.yyyy"),o=n.get(s)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===e&&p3(o.holidayNames,[i]))){o.className=e;var l=o.holidayNames;o.holidayNames=l?Xn(Xn([],l,!0),[i],!1):[i],n.set(s,o)}}}),n}function m3(t,e,n,a,r){for(var i=r.length,s=[],o=0;o<i;o++){var l=t,c=r[o];c&&(l=uA(l,ja(c)),l=Lp(l,La(c)),l=fA(l,Sr(c)));var u=Lp(t,(n+1)*a);Ar(l,e)&&Qn(l,u)&&c!=null&&s.push(c)}return s}function Tv(t){return t<10?"0".concat(t):"".concat(t)}function Da(t,e){e===void 0&&(e=Gl);var n=Math.ceil(Z(t)/e)*e,a=n-(e-1);return{startPeriod:a,endPeriod:n}}function b3(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Mv(t){var e=t.getSeconds(),n=t.getMilliseconds();return F(t.getTime()-e*1e3-n)}function v3(t,e){return Mv(t).getTime()===Mv(e).getTime()}function Ov(t){if(!Na(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function cf(t,e){if(!Na(t)||!Na(e))throw new Error("Invalid date received");var n=Ov(t),a=Ov(e);return Qn(n,a)}function Ck(t){return t.key===$.Space}var y3=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.inputRef=j.createRef(),a.onTimeChange=function(r){var i,s;a.setState({time:r});var o=a.props.date,l=o instanceof Date&&!isNaN(+o),c=l?o:new Date;if(r!=null&&r.includes(":")){var u=r.split(":"),d=u[0],h=u[1];c.setHours(Number(d)),c.setMinutes(Number(h))}(s=(i=a.props).onChange)===null||s===void 0||s.call(i,c)},a.renderTimeInput=function(){var r=a.state.time,i=a.props,s=i.date,o=i.timeString,l=i.customTimeInput;return l?w.cloneElement(l,{date:s,value:r,onChange:a.onTimeChange}):j.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var c;(c=a.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:r,onChange:function(c){a.onTimeChange(c.target.value||o)}})},a.state={time:a.props.timeString},a}return e.getDerivedStateFromProps=function(n,a){return n.timeString!==a.time?{time:n.timeString}:null},e.prototype.render=function(){return j.createElement("div",{className:"react-datepicker__input-time-container"},j.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),j.createElement("div",{className:"react-datepicker-time__input-container"},j.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(w.Component),_3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=w.createRef(),n.handleClick=function(a){!n.isDisabled()&&n.props.onClick&&n.props.onClick(a)},n.handleMouseEnter=function(a){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(a)},n.handleOnKeyDown=function(a){var r,i,s=a.key;s===$.Space&&(a.preventDefault(),a.key=$.Enter),(i=(r=n.props).handleOnKeyDown)===null||i===void 0||i.call(r,a)},n.isSameDay=function(a){return ne(n.props.day,a)},n.isKeyboardSelected=function(){var a;if(n.props.disabledKeyboardNavigation)return!1;var r=n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!r&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(a){return a===void 0&&(a=n.props.day),pn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return Cm(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ne(n.props.day,kr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(a){return n.props.showWeekPicker&&ne(a,kr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(a){return n.isSameDay(a)||n.isSameWeek(a)},n.getHighLightedClass=function(){var a=n.props,r=a.day,i=a.highlightDates;if(!i)return!1;var s=Le(r,"MM.dd.yyyy");return i.get(s)},n.getHolidaysClass=function(){var a,r=n.props,i=r.day,s=r.holidays;if(!s)return[void 0];var o=Le(i,"MM.dd.yyyy");return s.has(o)?[(a=s.get(o))===null||a===void 0?void 0:a.className]:[void 0]},n.isInRange=function(){var a=n.props,r=a.day,i=a.startDate,s=a.endDate;return!i||!s?!1:Zr(r,i,s)},n.isInSelectingRange=function(){var a,r=n.props,i=r.day,s=r.selectsStart,o=r.selectsEnd,l=r.selectsRange,c=r.selectsDisabledDaysInRange,u=r.startDate,d=r.swapRange,h=r.endDate,f=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;if(!(s||o||l)||!f||!c&&n.isDisabled())return!1;if(s&&h&&(Qn(f,h)||ii(f,h)))return Zr(i,f,h);if(o&&u&&(Ar(f,u)||ii(f,u)))return Zr(i,u,f);if(l&&u&&!h){if(ii(f,u)||Ar(f,u))return Zr(i,u,f);if(d&&Qn(f,u))return Zr(i,f,u)}return!1},n.isSelectingRangeStart=function(){var a;if(!n.isInSelectingRange())return!1;var r=n.props,i=r.day,s=r.startDate,o=r.selectsStart,l=r.swapRange,c=r.selectsRange,u=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return o?ne(i,u):c&&l&&s&&u?ne(i,Qn(u,s)?u:s):ne(i,s)},n.isSelectingRangeEnd=function(){var a;if(!n.isInSelectingRange())return!1;var r=n.props,i=r.day,s=r.endDate,o=r.selectsEnd,l=r.selectsRange,c=r.swapRange,u=r.startDate,d=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return o?ne(i,d):l&&c&&u&&d?ne(i,Qn(d,u)?u:d):l?ne(i,d):ne(i,s)},n.isRangeStart=function(){var a=n.props,r=a.day,i=a.startDate,s=a.endDate;return!i||!s?!1:ne(i,r)},n.isRangeEnd=function(){var a=n.props,r=a.day,i=a.startDate,s=a.endDate;return!i||!s?!1:ne(s,r)},n.isWeekend=function(){var a=dR(n.props.day);return a===0||a===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===St(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(St(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(be())},n.isSelected=function(){var a;return n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(r){return n.isSameDayOrWeek(r)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(a){var r=n.props.dayClassName?n.props.dayClassName(a):void 0;return bt("react-datepicker__day",r,"react-datepicker__day--"+n3(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var a=n.props,r=a.day,i=a.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,o=a.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,c=n.isDisabled()||n.isExcluded()?l:s;return"".concat(c," ").concat(Le(r,"PPPP",n.props.locale))},n.getTitle=function(){var a=n.props,r=a.day,i=a.holidays,s=i===void 0?new Map:i,o=a.excludeDates,l=Le(r,"MM.dd.yyyy"),c=[];return s.has(l)&&c.push.apply(c,s.get(l).holidayNames),n.isExcluded()&&c.push(o==null?void 0:o.filter(function(u){return u instanceof Date?ne(u,r):ne(u==null?void 0:u.date,r)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var a=n.props.selected,r=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(a)&&ne(r,a))?0:-1;return i},n.handleFocusDay=function(){var a;n.shouldFocusDay()&&((a=n.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(rv(n.props.day),n.props.day):rv(n.props.day)},n.render=function(){return j.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&j.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,a,r;return((a=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(w.Component),x3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=w.createRef(),n.handleClick=function(a){n.props.onClick&&n.props.onClick(a)},n.handleOnKeyDown=function(a){var r,i,s=a.key;s===$.Space&&(a.preventDefault(),a.key=$.Enter),(i=(r=n.props).handleOnKeyDown)===null||i===void 0||i.call(r,a)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ne(n.props.date,n.props.selected)&&ne(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ne(n.props.date,n.props.selected)&&ne(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(a){var r=!1;n.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&ne(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(r=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,a=n.weekNumber,r=n.isWeekDisabled,i=n.ariaLabelPrefix,s=i===void 0?e.defaultProps.ariaLabelPrefix:i,o=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!r,"react-datepicker__week-number--selected":!!o&&ne(this.props.date,this.props.selected)};return j.createElement("div",{ref:this.weekNumberEl,className:bt(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},e}(w.Component),w3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(a){return pn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(a,r){n.props.onDayClick&&n.props.onDayClick(a,r)},n.handleDayMouseEnter=function(a){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleWeekClick=function(a,r,i){for(var s,o,l,c=new Date(a),u=0;u<7;u++){var d=new Date(a);d.setDate(d.getDate()+u);var h=!n.isDisabled(d);if(h){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,r,i),n.props.showWeekPicker&&n.handleDayClick(c,i),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!1))},n.formatWeekNumber=function(a){return n.props.formatWeekNumber?n.props.formatWeekNumber(a):t3(a)},n.isWeekDisabled=function(){for(var a=n.startOfWeek(),r=An(a,6),i=new Date(a);i<=r;){if(!n.isDisabled(i))return!1;i=An(i,1)}return!0},n.renderDays=function(){var a=n.startOfWeek(),r=[],i=n.formatWeekNumber(a);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,a,i):void 0;r.push(j.createElement(x3,ae({key:"W"},e.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:a,onClick:s})))}return r.concat([0,1,2,3,4,5,6].map(function(o){var l=An(a,o);return j.createElement(_3,ae({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return kr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ne(n.startOfWeek(),n.props.selected)&&ne(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ne(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return j.createElement("div",{className:bt(n,a),role:"row"},this.renderDays())},e}(w.Component),vo,S3=6,ys={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},uf=(vo={},vo[ys.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},vo[ys.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},vo[ys.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},vo),Cc=1;function Av(t,e){return t?ys.FOUR_COLUMNS:e?ys.TWO_COLUMNS:ys.THREE_COLUMNS}var k3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Xn([],Array(12),!0).map(function(){return w.createRef()}),n.QUARTER_REFS=Xn([],Array(4),!0).map(function(){return w.createRef()}),n.isDisabled=function(a){return pn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(a){return Cm(a,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(a,r){var i,s;(s=(i=n.props).onDayClick)===null||s===void 0||s.call(i,a,r,n.props.orderInDisplay)},n.handleDayMouseEnter=function(a){var r,i;(i=(r=n.props).onDayMouseEnter)===null||i===void 0||i.call(r,a)},n.handleMouseLeave=function(){var a,r;(r=(a=n.props).onMouseLeave)===null||r===void 0||r.call(a)},n.isRangeStartMonth=function(a){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Et(Kt(i,a),s)},n.isRangeStartQuarter=function(a){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ud(Qi(i,a),s)},n.isRangeEndMonth=function(a){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Et(Kt(i,a),o)},n.isRangeEndQuarter=function(a){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ud(Qi(i,a),o)},n.isInSelectingRangeMonth=function(a){var r,i=n.props,s=i.day,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||l||c)||!h?!1:o&&d?Sc(h,d,a,s):l&&u||c&&u&&!d?Sc(u,h,a,s):!1},n.isSelectingMonthRangeStart=function(a){var r;if(!n.isInSelectingRangeMonth(a))return!1;var i=n.props,s=i.day,o=i.startDate,l=i.selectsStart,c=Kt(s,a),u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?Et(c,u):Et(c,o)},n.isSelectingMonthRangeEnd=function(a){var r;if(!n.isInSelectingRangeMonth(a))return!1;var i=n.props,s=i.day,o=i.endDate,l=i.selectsEnd,c=i.selectsRange,u=Kt(s,a),d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||c?Et(u,d):Et(u,o)},n.isInSelectingRangeQuarter=function(a){var r,i=n.props,s=i.day,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||l||c)||!h?!1:o&&d?Ec(h,d,a,s):l&&u||c&&u&&!d?Ec(u,h,a,s):!1},n.isWeekInMonth=function(a){var r=n.props.day,i=An(a,6);return Et(a,r)||Et(i,r)},n.isCurrentMonth=function(a,r){return Z(a)===Z(be())&&r===St(be())},n.isCurrentQuarter=function(a,r){return Z(a)===Z(be())&&r===hi(be())},n.isSelectedMonth=function(a,r,i){return St(i)===r&&Z(a)===Z(i)},n.isSelectMonthInList=function(a,r,i){return i.some(function(s){return n.isSelectedMonth(a,r,s)})},n.isSelectedQuarter=function(a,r,i){return hi(a)===r&&Z(a)===Z(i)},n.isMonthSelected=function(){var a=n.props,r=a.day,i=a.selected,s=a.selectedDates,o=a.selectsMultiple,l=St(r);return o?s==null?void 0:s.some(function(c){return n.isSelectedMonth(r,l,c)}):!!i&&n.isSelectedMonth(r,l,i)},n.renderWeeks=function(){for(var a=[],r=n.props.fixedHeight,i=0,s=!1,o=kr(Pa(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(v){return n.props.showWeekPicker?kr(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(v){return n.props.showWeekPicker?kr(v,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;a.push(j.createElement(w3,ae({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:o,month:St(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!s;){i++,o=Zu(o,1);var h=r&&i>=S3,f=!r&&!n.isWeekInMonth(o);if(h||f)if(n.props.peekNextMonth)s=!0;else break}return a},n.onMonthClick=function(a,r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayClick(Pa(o),a)},n.onMonthMouseEnter=function(a){var r=n.isMonthDisabledForLabelDate(a),i=r.isDisabled,s=r.labelDate;i||n.handleDayMouseEnter(Pa(s))},n.handleMonthNavigation=function(a,r){var i,s,o,l;(s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,r),(l=(o=n.MONTH_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(a,r,i){var s,o=n.props,l=o.selected,c=o.preSelection,u=o.setPreSelection,d=o.minDate,h=o.maxDate,f=o.showFourColumnMonthYearPicker,v=o.showTwoColumnMonthYearPicker;if(c){var y=Av(f,v),_=n.getVerticalOffset(y),g=(s=uf[y])===null||s===void 0?void 0:s.grid,m=function(S,E,T){var R,M,C=E,L=T;switch(S){case $.ArrowRight:C=Rn(E,Cc),L=T===11?0:T+Cc;break;case $.ArrowLeft:C=fi(E,Cc),L=T===0?11:T-Cc;break;case $.ArrowUp:C=fi(E,_),L=!((R=g==null?void 0:g[0])===null||R===void 0)&&R.includes(T)?T+12-_:T-_;break;case $.ArrowDown:C=Rn(E,_),L=!((M=g==null?void 0:g[g.length-1])===null||M===void 0)&&M.includes(T)?T-12+_:T+_;break}return{newCalculatedDate:C,newCalculatedMonth:L}},b=function(S,E,T){for(var R=40,M=S,C=!1,L=0,H=m(M,E,T),U=H.newCalculatedDate,O=H.newCalculatedMonth;!C;){if(L>=R){U=E,O=T;break}if(d&&U<d){M=$.ArrowRight;var A=m(M,U,O);U=A.newCalculatedDate,O=A.newCalculatedMonth}if(h&&U>h){M=$.ArrowLeft;var A=m(M,U,O);U=A.newCalculatedDate,O=A.newCalculatedMonth}if(c3(U,n.props)){var A=m(M,U,O);U=A.newCalculatedDate,O=A.newCalculatedMonth}else C=!0;L++}return{newCalculatedDate:U,newCalculatedMonth:O}};if(r===$.Enter){n.isMonthDisabled(i)||(n.onMonthClick(a,i),u==null||u(l));return}var x=b(r,c,i),D=x.newCalculatedDate,k=x.newCalculatedMonth;switch(r){case $.ArrowRight:case $.ArrowLeft:case $.ArrowUp:case $.ArrowDown:n.handleMonthNavigation(k,D);break}}},n.getVerticalOffset=function(a){var r,i;return(i=(r=uf[a])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(a,r){var i=n.props,s=i.disabledKeyboardNavigation,o=i.handleOnMonthKeyDown,l=a.key;l!==$.Tab&&a.preventDefault(),s||n.handleKeyboardNavigation(a,l,r),o&&o(a)},n.onQuarterClick=function(a,r){var i=Qi(n.props.day,r);kc(i,n.props)||n.handleDayClick(bv(i),a)},n.onQuarterMouseEnter=function(a){var r=Qi(n.props.day,a);kc(r,n.props)||n.handleDayMouseEnter(bv(r))},n.handleQuarterNavigation=function(a,r){var i,s,o,l;n.isDisabled(r)||n.isExcluded(r)||((s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,r),(l=(o=n.QUARTER_REFS[a-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(a,r){var i,s,o=a.key;if(!n.props.disabledKeyboardNavigation)switch(o){case $.Enter:n.onQuarterClick(a,r),(s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,n.props.selected);break;case $.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===4?1:r+1,gm(n.props.preSelection,1));break;case $.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===1?4:r-1,ck(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(a){var r,i=n.props,s=i.day,o=i.disabled,l=i.minDate,c=i.maxDate,u=i.excludeDates,d=i.includeDates,h=Kt(s,a);return o?{isDisabled:!0,labelDate:Kt(s,a)}:{isDisabled:(r=(l||c||u||d)&&kk(h,n.props))!==null&&r!==void 0?r:!1,labelDate:h}},n.isMonthDisabled=function(a){var r=n.isMonthDisabledForLabelDate(a).isDisabled;return r},n.getMonthClassNames=function(a){var r=n.props,i=r.day,s=r.startDate,o=r.endDate,l=r.preSelection,c=r.monthClassName,u=c?c(Kt(i,a)):void 0,d=n.getSelection();return bt("react-datepicker__month-text","react-datepicker__month-".concat(a),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(a),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(i,a,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(i,a,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":s&&o?Sc(s,o,a,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(a),"react-datepicker__month-text--range-end":n.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":n.isCurrentMonth(i,a)})},n.getTabIndex=function(a){if(n.props.preSelection==null)return"-1";var r=St(n.props.preSelection),i=n.isMonthDisabledForLabelDate(r).isDisabled,s=a===r&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(a){if(n.props.preSelection==null)return"-1";var r=hi(n.props.preSelection),i=kc(n.props.day,n.props),s=a===r&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(a){var r=n.props,i=r.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,o=r.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,c=r.day,u=r.locale,d=Kt(c,a),h=n.isDisabled(d)||n.isExcluded(d)?l:s;return"".concat(h," ").concat(Le(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(a){var r=n.props,i=r.day,s=r.startDate,o=r.endDate,l=r.selected,c=r.minDate,u=r.maxDate,d=r.excludeDates,h=r.includeDates,f=r.filterDate,v=r.preSelection,y=r.disabledKeyboardNavigation,_=r.disabled,g=(c||u||d||h||f||_)&&kc(Qi(i,a),n.props);return bt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(i,a,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&v&&n.isSelectedQuarter(i,a,v)&&!g,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":s&&o?Ec(s,o,a,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,a)})},n.getMonthContent=function(a){var r=n.props,i=r.showFullMonthYearPicker,s=r.renderMonthContent,o=r.locale,l=r.day,c=Sk(a,o),u=Em(a,o);return s?s(a,c,u,l):i?u:c},n.getQuarterContent=function(a){var r,i=n.props,s=i.renderQuarterContent,o=i.locale,l=l3(a,o);return(r=s==null?void 0:s(a,l))!==null&&r!==void 0?r:l},n.renderMonths=function(){var a,r=n.props,i=r.showTwoColumnMonthYearPicker,s=r.showFourColumnMonthYearPicker,o=r.day,l=r.selected,c=(a=uf[Av(s,i)])===null||a===void 0?void 0:a.grid;return c==null?void 0:c.map(function(u,d){return j.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(h,f){return j.createElement("div",{ref:n.MONTH_REFS[h],key:f,onClick:function(v){n.onMonthClick(v,h)},onKeyDown:function(v){Ck(v)&&(v.preventDefault(),v.key=$.Enter),n.onMonthKeyDown(v,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(h)}:void 0,tabIndex:Number(n.getTabIndex(h)),className:n.getMonthClassNames(h),"aria-disabled":n.isMonthDisabled(h),role:"option","aria-label":n.getAriaLabel(h),"aria-current":n.isCurrentMonth(o,h)?"date":void 0,"aria-selected":l?n.isSelectedMonth(o,h,l):void 0},n.getMonthContent(h))}))})},n.renderQuarters=function(){var a=n.props,r=a.day,i=a.selected,s=[1,2,3,4];return j.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(o,l){return j.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,o)},onKeyDown:function(c){n.onQuarterKeyDown(c,o)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(o)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(o)}:void 0,className:n.getQuarterClassNames(o),"aria-selected":i?n.isSelectedQuarter(r,o,i):void 0,tabIndex:Number(n.getQuarterTabIndex(o)),"aria-current":n.isCurrentQuarter(r,o)?"date":void 0},n.getQuarterContent(o))}))},n.getClassNames=function(){var a=n.props,r=a.selectingDate,i=a.selectsStart,s=a.selectsEnd,o=a.showMonthYearPicker,l=a.showQuarterYearPicker,c=a.showWeekPicker;return bt("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(i||s)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,a=n.selected,r=n.selectedDates,i=n.selectsMultiple;if(i)return r;if(a)return[a]},e.prototype.render=function(){var n=this.props,a=n.showMonthYearPicker,r=n.showQuarterYearPicker,i=n.day,s=n.ariaLabelPrefix,o=s===void 0?"Month ":s,l=o?o.trim()+" ":"",c=a||r;return c?j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Le(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():this.renderQuarters()):j.createElement("div",{role:"table"},this.props.dayNamesHeader&&j.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Le(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e}(w.Component),D3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(a){return n.props.month===a},n.handleOptionKeyDown=function(a,r){var i;switch(r.key){case"Enter":r.preventDefault(),n.onChange(a);break;case"Escape":r.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{r.preventDefault();var s=(a+(r.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(i=n.monthOptionButtonsRef[s])===null||i===void 0||i.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(a,r){return j.createElement("div",{ref:function(i){n.monthOptionButtonsRef[r]=i,n.isSelectedMonth(r)&&(i==null||i.focus())},role:"button",tabIndex:0,className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:n.onChange.bind(n,r),onKeyDown:n.handleOptionKeyDown.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?j.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return j.createElement(th,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(w.Component),E3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(a){return a.map(function(r,i){return j.createElement("option",{key:r,value:i},r)})},n.renderSelectMode=function(a){return j.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(r){return n.onChange(parseInt(r.target.value))}},n.renderSelectOptions(a))},n.renderReadView=function(a,r){return j.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(a){return j.createElement(D3,ae({key:"dropdown"},n.props,{monthNames:a,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(a){var r=n.state.dropdownVisible,i=[n.renderReadView(!r,a)];return r&&i.unshift(n.renderDropdown(a)),i},n.onChange=function(a){n.toggleDropdown(),a!==n.props.month&&n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return Sk(i,n.props.locale)}:function(i){return Em(i,n.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(a);break;case"select":r=this.renderSelectMode(a);break}return j.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},e}(w.Component);function C3(t,e){for(var n=[],a=Pa(t),r=Pa(e);!Ar(a,r);)n.push(be(a)),a=Rn(a,1);return n}var T3=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(r){var i=Bp(r),s=Fn(a.props.date,r)&&Et(a.props.date,r);return j.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":s?"true":void 0},s?j.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Le(r,a.props.dateFormat,a.props.locale))})},a.onChange=function(r){return a.props.onChange(r)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:C3(a.props.minDate,a.props.maxDate)},a}return e.prototype.render=function(){var n=bt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return j.createElement(th,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(w.Component),M3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=Pa(n.props.minDate),r=Pa(n.props.maxDate),i=[];!Ar(a,r);){var s=Bp(a);i.push(j.createElement("option",{key:s,value:s},Le(a,n.props.dateFormat,n.props.locale))),a=Rn(a,1)}return i},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return j.createElement("select",{value:Bp(Pa(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){var r=Le(n.props.date,n.props.dateFormat,n.props.locale);return j.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return j.createElement(T3,ae({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,r=[n.renderReadView(!a)];return a&&r.unshift(n.renderDropdown()),r},n.onChange=function(a){n.toggleDropdown();var r=be(a);Fn(n.props.date,r)&&Et(n.props.date,r)||n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(w.Component),O3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,r,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((r=(a=n.header)===null||a===void 0?void 0:a.clientHeight)!==null&&r!==void 0?r:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(a){var r,i;(n.props.minTime||n.props.maxTime)&&wv(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&xv(a,n.props)||(i=(r=n.props).onChange)===null||i===void 0||i.call(r,a)},n.isSelectedTime=function(a){return n.props.selected&&v3(n.props.selected,a)},n.isDisabledTime=function(a){return(n.props.minTime||n.props.maxTime)&&wv(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&xv(a,n.props)},n.liClasses=function(a){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(a):void 0];return n.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(ja(a)*3600+La(a)*60+Sr(a))%(((r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(a,r){var i,s;a.key===$.Space&&(a.preventDefault(),a.key=$.Enter),(a.key===$.ArrowUp||a.key===$.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===$.ArrowDown||a.key===$.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===$.Enter&&n.handleClick(r),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,a)},n.renderTimes=function(){for(var a,r=[],i=typeof n.props.format=="string"?n.props.format:"p",s=(a=n.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals,o=n.props.selected||n.props.openToDate||be(),l=du(o),c=n.props.injectTimes&&n.props.injectTimes.sort(function(_,g){return _.getTime()-g.getTime()}),u=60*b3(o),d=u/s,h=0;h<d;h++){var f=Lp(l,h*s);if(r.push(f),c){var v=m3(l,f,h,s,c);r=r.concat(v)}}var y=r.reduce(function(_,g){return g.getTime()<=o.getTime()?g:_},r[0]);return r.map(function(_){return j.createElement("li",{key:_.valueOf(),onClick:n.handleClick.bind(n,_),className:n.liClasses(_),ref:function(g){_===y&&(n.centerLi=g)},onKeyDown:function(g){n.handleOnKeyDown(g,_)},tabIndex:_===y?0:-1,role:"option","aria-selected":n.isSelectedTime(_)?"true":void 0,"aria-disabled":n.isDisabledTime(_)?"true":void 0},Le(_,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?j.createElement(j.Fragment,null):j.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){n.header=a}},j.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(a))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,a,r=this.state.height;return j.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),j.createElement("div",{className:"react-datepicker__time"},j.createElement("div",{className:"react-datepicker__time-box"},j.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,a){return a.offsetTop-(n/2-a.clientHeight/2)},e}(w.Component),Rv=3,A3=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.YEAR_REFS=Xn([],Array(a.props.yearItemNumber),!0).map(function(){return w.createRef()}),a.isDisabled=function(r){return pn(r,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(r){return Cm(r,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var r;return(r=a.props.selectingDate)!==null&&r!==void 0?r:a.props.preSelection},a.updateFocusOnPaginate=function(r){var i=function(){var s,o;(o=(s=a.YEAR_REFS[r])===null||s===void 0?void 0:s.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(r,i){a.props.onDayClick&&a.props.onDayClick(r,i)},a.handleYearNavigation=function(r,i){var s,o,l,c,u=a.props,d=u.date,h=u.yearItemNumber;if(!(d===void 0||h===void 0)){var f=Da(d,h).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((o=(s=a.props).setPreSelection)===null||o===void 0||o.call(s,i),r-f<0?a.updateFocusOnPaginate(h-(f-r)):r-f>=h?a.updateFocusOnPaginate(Math.abs(h-(r-f))):(c=(l=a.YEAR_REFS[r-f])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},a.isSameDay=function(r,i){return ne(r,i)},a.isCurrentYear=function(r){return r===Z(be())},a.isRangeStart=function(r){return a.props.startDate&&a.props.endDate&&Fn(Yn(be(),r),a.props.startDate)},a.isRangeEnd=function(r){return a.props.startDate&&a.props.endDate&&Fn(Yn(be(),r),a.props.endDate)},a.isInRange=function(r){return Dc(r,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(r){var i=a.props,s=i.selectsStart,o=i.selectsEnd,l=i.selectsRange,c=i.startDate,u=i.endDate;return!(s||o||l)||!a.selectingDate()?!1:s&&u?Dc(r,a.selectingDate(),u):o&&c||l&&c&&!u?Dc(r,c,a.selectingDate()):!1},a.isSelectingRangeStart=function(r){var i;if(!a.isInSelectingRange(r))return!1;var s=a.props,o=s.startDate,l=s.selectsStart,c=Yn(be(),r);return l?Fn(c,(i=a.selectingDate())!==null&&i!==void 0?i:null):Fn(c,o??null)},a.isSelectingRangeEnd=function(r){var i;if(!a.isInSelectingRange(r))return!1;var s=a.props,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=Yn(be(),r);return l||c?Fn(u,(i=a.selectingDate())!==null&&i!==void 0?i:null):Fn(u,o??null)},a.isKeyboardSelected=function(r){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var i=a.props,s=i.minDate,o=i.maxDate,l=i.excludeDates,c=i.includeDates,u=i.filterDate,d=i.selected,h=Ao(Yn(a.props.date,r)),f=(s||o||l||c||u)&&hu(r,a.props),v=!!d&&ne(h,Ao(d)),y=ne(h,Ao(a.props.preSelection));return!a.props.inline&&!v&&y&&!f}},a.isSelectedYear=function(r){var i=a.props,s=i.selectsMultiple,o=i.selected,l=i.selectedDates;return s?l==null?void 0:l.some(function(c){return r===Z(c)}):!!o&&r===Z(o)},a.onYearClick=function(r,i){var s=a.props.date;s!==void 0&&a.handleYearClick(Ao(Yn(s,i)),r)},a.onYearKeyDown=function(r,i){var s,o,l=r.key,c=a.props,u=c.date,d=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==$.Tab&&r.preventDefault(),!a.props.disabledKeyboardNavigation)switch(l){case $.Enter:if(a.props.selected==null)break;a.onYearClick(r,i),(o=(s=a.props).setPreSelection)===null||o===void 0||o.call(s,a.props.selected);break;case $.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,Ra(a.props.preSelection,1));break;case $.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,zs(a.props.preSelection,1));break;case $.ArrowUp:{if(u===void 0||d===void 0||a.props.preSelection==null)break;var f=Da(u,d).startPeriod,v=Rv,y=i-v;if(y<f){var _=d%v;i>=f&&i<f+_?v=_:v+=_,y=i-v}a.handleYearNavigation(y,zs(a.props.preSelection,v));break}case $.ArrowDown:{if(u===void 0||d===void 0||a.props.preSelection==null)break;var g=Da(u,d).endPeriod,v=Rv,y=i+v;if(y>g){var _=d%v;i<=g&&i>g-_?v=_:v+=_,y=i+v}a.handleYearNavigation(y,Ra(a.props.preSelection,v));break}}h&&h(r)},a.getYearClassNames=function(r){var i=a.props,s=i.date,o=i.disabled,l=i.minDate,c=i.maxDate,u=i.excludeDates,d=i.includeDates,h=i.filterDate,f=i.yearClassName;return bt("react-datepicker__year-text","react-datepicker__year-".concat(r),s?f==null?void 0:f(Yn(s,r)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(r),"react-datepicker__year-text--disabled":(l||c||u||d||h||o)&&hu(r,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(r),"react-datepicker__year-text--range-start":a.isRangeStart(r),"react-datepicker__year-text--range-end":a.isRangeEnd(r),"react-datepicker__year-text--in-range":a.isInRange(r),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(r),"react-datepicker__year-text--today":a.isCurrentYear(r)})},a.getYearTabIndex=function(r){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=Z(a.props.preSelection),s=hu(r,a.props);return r===i&&!s?"0":"-1"},a.getYearContent=function(r){return a.props.renderYearContent?a.props.renderYearContent(r):r},a}return e.prototype.render=function(){var n=this,a=[],r=this.props,i=r.date,s=r.yearItemNumber,o=r.onYearMouseEnter,l=r.onYearMouseLeave;if(i===void 0)return null;for(var c=Da(i,s),u=c.startPeriod,d=c.endPeriod,h=function(y){a.push(j.createElement("div",{ref:f.YEAR_REFS[y-u],onClick:function(_){n.onYearClick(_,y)},onKeyDown:function(_){Ck(_)&&(_.preventDefault(),_.key=$.Enter),n.onYearKeyDown(_,y)},tabIndex:Number(f.getYearTabIndex(y)),className:f.getYearClassNames(y),onMouseEnter:f.props.usePointerEvent?void 0:function(_){return o(_,y)},onPointerEnter:f.props.usePointerEvent?function(_){return o(_,y)}:void 0,onMouseLeave:f.props.usePointerEvent?void 0:function(_){return l(_,y)},onPointerLeave:f.props.usePointerEvent?function(_){return l(_,y)}:void 0,key:y,"aria-current":f.isCurrentYear(y)?"date":void 0},f.getYearContent(y)))},f=this,v=u;v<=d;v++)h(v);return j.createElement("div",{className:"react-datepicker__year"},j.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},e}(w.Component);function R3(t,e,n,a){for(var r=[],i=0;i<2*e+1;i++){var s=t+e-i,o=!0;n&&(o=Z(n)<=s),a&&o&&(o=Z(a)>=s),o&&r.push(s)}return r}var N3=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(o,l){var c;switch(l.key){case"Enter":l.preventDefault(),a.onChange(o);break;case"Escape":l.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var u=o+(l.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[u]&&((c=a.yearOptionButtonsRef[u])===null||c===void 0||c.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var o=a.props.year,l=a.state.yearsList.map(function(d){return j.createElement("div",{ref:function(h){a.yearOptionButtonsRef[d]=h,d===o&&(h==null||h.focus())},role:"button",tabIndex:0,className:o===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:a.onChange.bind(a,d),onKeyDown:a.handleOptionKeyDown.bind(a,d),"aria-selected":o===d?"true":void 0},o===d?j.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),c=a.props.minDate?Z(a.props.minDate):null,u=a.props.maxDate?Z(a.props.maxDate):null;return(!u||!a.state.yearsList.find(function(d){return d===u}))&&l.unshift(j.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!a.state.yearsList.find(function(d){return d===c}))&&l.push(j.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},a.onChange=function(o){a.props.onChange(o)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(o){var l=a.state.yearsList.map(function(c){return c+o});a.setState({yearsList:l})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var r=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,s=r||(i?10:5);return a.state={yearsList:R3(a.props.year,s,a.props.minDate,a.props.maxDate)},a.dropdownRef=w.createRef(),a}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var a=n.children?Array.from(n.children):null,r=a?a.find(function(i){return i.ariaSelected}):null;n.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=bt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return j.createElement(th,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(w.Component),j3=function(t){_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=n.props.minDate?Z(n.props.minDate):1900,r=n.props.maxDate?Z(n.props.maxDate):2100,i=[],s=a;s<=r;s++)i.push(j.createElement("option",{key:s,value:s},s));return i},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return j.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){return j.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return j.createElement(N3,ae({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,r=[n.renderReadView(!a)];return a&&r.unshift(n.renderDropdown()),r},n.onChange=function(a){n.toggleDropdown(),a!==n.props.year&&n.props.onChange(a)},n.toggleDropdown=function(a){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,a)})},n.handleYearChange=function(a,r){var i;(i=n.onSelect)===null||i===void 0||i.call(n,a,r),n.setOpen()},n.onSelect=function(a,r){var i,s;(s=(i=n.props).onSelect)===null||s===void 0||s.call(i,a,r)},n.setOpen=function(){var a,r;(r=(a=n.props).setOpen)===null||r===void 0||r.call(a,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(w.Component),L3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Tk="react-datepicker-ignore-onclickoutside",P3=function(t){var e=(t.className||"").split(/\s+/);return L3.some(function(n){return e.indexOf(n)>=0})},z3=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(r){a.props.onClickOutside(r)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(r){var i,s;P3(r.target)&&((s=(i=a.props).onDropdownFocus)===null||s===void 0||s.call(i,r))},a.getDateInView=function(){var r=a.props,i=r.preSelection,s=r.selected,o=r.openToDate,l=Dk(a.props),c=Ek(a.props),u=be(),d=o||s||i;return d||(l&&Qn(u,l)?l:c&&Ar(u,c)?c:u)},a.increaseMonth=function(){a.setState(function(r){var i=r.date;return{date:Rn(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(r){var i=r.date;return{date:fi(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(r,i,s){a.props.onSelect(r,i,s),a.props.setPreSelection&&a.props.setPreSelection(r)},a.handleDayMouseEnter=function(r){a.setState({selectingDate:r}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(r)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(r,i){a.setState({selectingDate:Yn(be(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(r,i)},a.handleYearMouseLeave=function(r,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(r,i)},a.handleYearChange=function(r){var i,s,o,l;(s=(i=a.props).onYearChange)===null||s===void 0||s.call(i,r),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(r),(l=(o=a.props).setOpen)===null||l===void 0||l.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(r)},a.getEnabledPreSelectionDateForMonth=function(r){if(!pn(r,a.props))return r;for(var i=Pa(r),s=r3(r),o=gA(s,i),l=null,c=0;c<=o;c++){var u=An(i,c);if(!pn(u,a.props)){l=u;break}}return l},a.handleMonthChange=function(r){var i,s,o,l=(i=a.getEnabledPreSelectionDateForMonth(r))!==null&&i!==void 0?i:r;a.handleCustomMonthChange(l),a.props.adjustDateOnChange&&(a.props.onSelect(l),(o=(s=a.props).setOpen)===null||o===void 0||o.call(s,!0)),a.props.setPreSelection&&a.props.setPreSelection(l)},a.handleCustomMonthChange=function(r){var i,s;(s=(i=a.props).onMonthChange)===null||s===void 0||s.call(i,r),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(r){a.handleYearChange(r),a.handleMonthChange(r)},a.changeYear=function(r){a.setState(function(i){var s=i.date;return{date:Yn(s,Number(r))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(r){a.setState(function(i){var s=i.date;return{date:Kt(s,Number(r))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(r){a.setState(function(i){var s=i.date;return{date:Yn(Kt(s,St(r)),Z(r))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(r){r===void 0&&(r=a.state.date);var i=a.props.disabled,s=kr(r,a.props.locale,a.props.calendarStartDay),o=[];return a.props.showWeekNumbers&&o.push(j.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},j.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),j.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=An(s,l),u=a.formatWeekday(c,a.props.locale),d=a.props.weekDayClassName?a.props.weekDayClassName(c):void 0;return j.createElement("div",{key:l,role:"columnheader",className:bt("react-datepicker__day-name",d,i?"react-datepicker__day-name--disabled":"")},j.createElement("span",{className:"react-datepicker__sr-only"},Le(c,"EEEE",a.props.locale)),j.createElement("span",{"aria-hidden":"true"},u))}))},a.formatWeekday=function(r,i){return a.props.formatWeekDay?i3(r,a.props.formatWeekDay,i):a.props.useWeekdaysShort?o3(r,i):s3(r,i)},a.decreaseYear=function(){a.setState(function(r){var i,s=r.date;return{date:zs(s,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var r,i,s;if(!a.props.renderCustomHeader){var o=(r=a.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,l=a.props.showPreviousMonths?o-1:0,c=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:l,u=fi(a.state.date,c),d;switch(!0){case a.props.disabled:d=!0;break;case a.props.showMonthYearPicker:d=Dv(a.state.date,a.props);break;case a.props.showYearPicker:d=h3(a.state.date,a.props);break;case a.props.showQuarterYearPicker:d=u3(a.state.date,a.props);break;default:d=Sv(u,a.props);break}if(!(!((s=a.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&d||a.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(v=a.decreaseYear),d&&a.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),v=void 0);var y=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,_=a.props,g=_.previousMonthButtonLabel,m=g===void 0?e.defaultProps.previousMonthButtonLabel:g,b=_.previousYearButtonLabel,x=b===void 0?e.defaultProps.previousYearButtonLabel:b,D=a.props,k=D.previousMonthAriaLabel,S=k===void 0?typeof m=="string"?m:"Previous Month":k,E=D.previousYearAriaLabel,T=E===void 0?typeof x=="string"?x:"Previous Year":E;return j.createElement("button",{type:"button",className:f.join(" "),onClick:v,onKeyDown:a.props.handleOnKeyDown,"aria-label":y?T:S},j.createElement("span",{className:h.join(" ")},y?x:m))}}},a.increaseYear=function(){a.setState(function(r){var i,s=r.date;return{date:Ra(s,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var r;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.disabled:i=!0;break;case a.props.showMonthYearPicker:i=Ev(a.state.date,a.props);break;case a.props.showYearPicker:i=f3(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=d3(a.state.date,a.props);break;default:i=kv(a.state.date,a.props);break}if(!(!((r=a.props.forceShowMonthNavigation)!==null&&r!==void 0?r:e.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(l=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,u=a.props,d=u.nextMonthButtonLabel,h=d===void 0?e.defaultProps.nextMonthButtonLabel:d,f=u.nextYearButtonLabel,v=f===void 0?e.defaultProps.nextYearButtonLabel:f,y=a.props,_=y.nextMonthAriaLabel,g=_===void 0?typeof h=="string"?h:"Next Month":_,m=y.nextYearAriaLabel,b=m===void 0?typeof v=="string"?v:"Next Year":m;return j.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:a.props.handleOnKeyDown,"aria-label":c?b:g},j.createElement("span",{className:o.join(" ")},c?v:h))}}},a.renderCurrentMonth=function(r){r===void 0&&(r=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),j.createElement("h2",{className:i.join(" ")},Le(r,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showYearDropdown||r))return j.createElement(j3,ae({},e.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Z(a.state.date)}))},a.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showMonthDropdown||r))return j.createElement(E3,ae({},e.defaultProps,a.props,{month:St(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!a.props.showMonthYearDropdown||r))return j.createElement(M3,ae({},e.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(r){a.props.onSelect(vv(),r),a.props.setPreSelection&&a.props.setPreSelection(vv())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return j.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(r){return j.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(r))},a.renderDefaultHeader=function(r){var i=r.monthDate,s=r.i;return j.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),j.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(s!==0),a.renderMonthYearDropdown(s!==0),a.renderYearDropdown(s!==0)))},a.renderCustomHeader=function(r){var i,s,o=r.monthDate,l=r.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var c=a.props,u=c.showYearPicker,d=c.yearItemNumber,h;if(u){var f=Da(o,d),v=f.startPeriod,y=f.endPeriod;h={startYear:v,endYear:y}}var _=Sv(a.state.date,a.props),g=kv(a.state.date,a.props),m=Dv(a.state.date,a.props),b=Ev(a.state.date,a.props);return j.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(s=(i=a.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,ae(ae(ae({},a.state),u&&{visibleYearsRange:h}),{customHeaderCount:l,monthDate:o,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:_,nextMonthButtonDisabled:g,prevYearButtonDisabled:m,nextYearButtonDisabled:b})))},a.renderYearHeader=function(r){var i=r.monthDate,s=a.props,o=s.showYearPicker,l=s.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=Da(i,c),d=u.startPeriod,h=u.endPeriod;return j.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(d," - ").concat(h):Z(i))},a.renderHeader=function(r){var i=r.monthDate,s=r.i,o=s===void 0?0:s,l={monthDate:i,i:o};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(l);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(l);default:return a.renderDefaultHeader(l)}},a.renderMonths=function(){var r,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var s=[],o=(r=a.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,l=a.props.showPreviousMonths?o-1:0,c=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Ra(a.state.date,l):fi(a.state.date,l),u=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:l,d=0;d<o;++d){var h=d-u+l,f=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Ra(c,h):Rn(c,h),v="month-".concat(d),y=d<o-1,_=d>0;s.push(j.createElement("div",{key:v,ref:function(g){a.monthContainer=g??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:f,i:d}),j.createElement(k3,ae({},e.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:f,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:d,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:_,dayNamesHeader:a.renderDayNamesHeader(f)}))))}return s}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return j.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),j.createElement(A3,ae({},e.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return j.createElement(O3,ae({},e.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var r=a.props.selected?new Date(a.props.selected):void 0,i=r&&nh(r)&&!!a.props.selected,s=i?"".concat(Tv(r.getHours()),":").concat(Tv(r.getMinutes())):"";if(a.props.showTimeInput)return j.createElement(y3,ae({},e.defaultProps,a.props,{date:r,timeString:s,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var r,i=Da(a.state.date,(r=a.props.yearItemNumber)!==null&&r!==void 0?r:e.defaultProps.yearItemNumber),s=i.startPeriod,o=i.endPeriod,l;return a.props.showYearPicker?l="".concat(s," - ").concat(o):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?l=Z(a.state.date):l="".concat(Em(St(a.state.date),a.props.locale)," ").concat(Z(a.state.date)),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&l)},a.renderChildren=function(){if(a.props.children)return j.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=w.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Tk,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Gl}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var a=this;if(this.props.preSelection&&(!ne(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var r=!Et(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!ne(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||Xj;return j.createElement(th,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},j.createElement("div",{style:{display:"contents"},ref:this.containerRef},j.createElement(n,{className:bt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(w.Component),B3=function(t){var e=t.icon,n=t.className,a=n===void 0?"":n,r=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return j.createElement("i",{className:"".concat(i," ").concat(e," ").concat(a),"aria-hidden":"true",onClick:r});if(j.isValidElement(e)){var s=e;return j.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(a),onClick:function(o){typeof s.props.onClick=="function"&&s.props.onClick(o),typeof r=="function"&&r(o)}})}return j.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},j.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Mk=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return dD.createPortal(this.props.children,this.el)},e}(w.Component),H3="[tabindex], a, button, input, select, textarea",U3=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},Ok=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.getTabChildren=function(){var r;return Array.prototype.slice.call((r=a.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(H3),1,-1).filter(U3)},a.handleFocusStart=function(){var r=a.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},a.handleFocusEnd=function(){var r=a.getTabChildren();r&&r.length>1&&r[0].focus()},a.tabLoopRef=w.createRef(),a}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?j.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},j.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,j.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(w.Component);function I3(t){function e(n){var a,r=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=w.useRef(null),s=Qj(ae({open:!r,whileElementsMounted:Tj,placement:n.popperPlacement,middleware:Xn([zj({padding:15}),Pj(10),Bj({element:i})],(a=n.popperModifiers)!==null&&a!==void 0?a:[],!0)},n.popperProps)),o=ae(ae({},n),{hidePopper:r,popperProps:ae(ae({},s),{arrowRef:i})});return j.createElement(t,ae({},o))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Y3=function(t){var e=t.className,n=t.wrapperClassName,a=t.hidePopper,r=a===void 0?!0:a,i=t.popperComponent,s=t.targetComponent,o=t.enableTabLoop,l=t.popperOnKeyDown,c=t.portalId,u=t.portalHost,d=t.popperProps,h=t.showArrow,f=void 0;if(!r){var v=bt("react-datepicker-popper",e);f=j.createElement(Ok,{enableTabLoop:o},j.createElement("div",{ref:d.refs.setFloating,style:d.floatingStyles,className:v,"data-placement":d.placement,onKeyDown:l},i,h&&j.createElement($j,{ref:d.arrowRef,context:d.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(f=w.createElement(t.popperContainer,{},f)),c&&!r&&(f=j.createElement(Mk,{portalId:c,portalHost:u},f));var y=bt("react-datepicker-wrapper",n);return j.createElement(j.Fragment,null,j.createElement("div",{ref:d.refs.setReference,className:y},s),f)},$3=I3(Y3);function F3(t,e){return t&&e?St(t)!==St(e)||Z(t)!==Z(e):t!==e}var df="Date input not valid.",Nv=function(t){_t(e,t);function e(n){var a=t.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:be()},a.modifyHolidays=function(){var r;return(r=a.props.holidays)===null||r===void 0?void 0:r.reduce(function(i,s){var o=new Date(s.date);return nh(o)?Xn(Xn([],i,!0),[ae(ae({},s),{date:o})],!1):i},[])},a.calcInitialState=function(){var r,i=a.getPreSelection(),s=Dk(a.props),o=Ek(a.props),l=s&&Qn(i,du(s))?s:o&&Ar(i,yv(o))?o:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&r!==void 0?r:l,highlightDates:Cv(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var r,i=a.props,s=i.locale,o=i.startDate,l=i.endDate,c=i.rangeSeparator,u=i.selected,d=i.selectedDates,h=i.selectsMultiple,f=i.selectsRange,v=i.value,y=(r=a.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,_=a.state.inputValue;return typeof v=="string"?v:typeof _=="string"?_:f?Zj(o,l,{dateFormat:y,locale:s,rangeSeparator:c}):h?e3(d??[],{dateFormat:y,locale:s}):Vt(u,{dateFormat:y,locale:s})},a.resetHiddenStatus=function(){a.setState(ae(ae({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(ae(ae({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var r,i;(i=(r=a.input)===null||r===void 0?void 0:r.focus)===null||i===void 0||i.call(r,{preventScroll:!0})},a.setBlur=function(){var r,i;(i=(r=a.input)===null||r===void 0?void 0:r.blur)===null||i===void 0||i.call(r),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(r,i){i===void 0&&(i=!1),a.setState({open:r,preSelection:r&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:hf},function(){r||a.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return Na(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(r){var i,s,o=a.state.wasHidden,l=o?a.state.open:!0;o&&a.resetHiddenStatus(),a.state.preventFocus||((s=(i=a.props).onFocus)===null||s===void 0||s.call(i,r),l&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(ae(ae({},a.state),{inputValue:null}))},a.handleBlur=function(r){var i,s;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((s=(i=a.props).onBlur)===null||s===void 0||s.call(i,r)),a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(r){var i,s;a.props.inline||a.setOpen(!1),(s=(i=a.props).onClickOutside)===null||s===void 0||s.call(i,r),a.props.withPortal&&r.preventDefault()},a.handleChange=function(){for(var r,i,s,o,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=c[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,c),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){a.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:q3});var h=a.props,f=h.selectsRange,v=h.startDate,y=h.endDate,_=(r=a.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,g=(i=a.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,m=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(f){var b=a.props.rangeSeparator,x=b.trim(),D=m.split(_.includes(x)?b:x,2).map(function(L){return L.trim()}),k=D[0],S=D[1],E=of(k??"",_,a.props.locale,g),T=E?of(S??"",_,a.props.locale,g):null,R=(v==null?void 0:v.getTime())!==(E==null?void 0:E.getTime()),M=(y==null?void 0:y.getTime())!==(T==null?void 0:T.getTime());if(!R&&!M||E&&pn(E,a.props)||T&&pn(T,a.props))return;(o=(s=a.props).onChange)===null||o===void 0||o.call(s,[E,T],d)}else{var C=of(m,_,a.props.locale,g,(l=a.props.selected)!==null&&l!==void 0?l:void 0);(C||!m)&&a.setSelected(C,d,!0)}}},a.handleSelect=function(r,i,s){var o;if(!a.props.readOnly){var l=a.props,c=l.selectsRange,u=l.startDate,d=l.endDate,h=l.locale,f=l.swapRange,v=(o=a.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,y=!c||u&&!d&&(f||!cf(r,u));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&y&&a.sendFocusBackToInput(),a.props.onChangeRaw){var _=Vt(r,{dateFormat:v,locale:h});a.props.onChangeRaw(i,{date:r,formattedDate:_})}a.setSelected(r,i,!1,s),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(r):y&&a.setOpen(!1)}},a.setSelected=function(r,i,s,o){var l,c,u=r;if(a.props.showYearPicker){if(u!==null&&hu(Z(u),a.props))return}else if(a.props.showMonthYearPicker){if(u!==null&&kk(u,a.props))return}else if(u!==null&&pn(u,a.props))return;var d=a.props,h=d.onChange,f=d.selectsRange,v=d.startDate,y=d.endDate,_=d.selectsMultiple,g=d.selectedDates,m=d.minTime,b=d.swapRange;if(!ii(a.props.selected,u)||a.props.allowSameDay||f||_)if(u!==null&&(a.props.selected&&(!s||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(u=lf(u,{hour:ja(a.props.selected),minute:La(a.props.selected),second:Sr(a.props.selected)})),!s&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&m&&(u=lf(u,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),a.props.inline||a.setState({preSelection:u}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:o})),f){var x=!v&&!y,D=v&&!y,k=!v&&!!y,S=v&&y;x?h==null||h([u,null],i):D?u===null?h==null||h([null,null],i):cf(u,v)?b?h==null||h([u,v],i):h==null||h([u,null],i):h==null||h([v,u],i):k&&(u&&cf(u,y)?h==null||h([u,y],i):h==null||h([u,null],i)),S&&(h==null||h([u,null],i))}else if(_){if(u!==null)if(!(g!=null&&g.length))h==null||h([u],i);else{var E=g.some(function(R){return ne(R,u)});if(E){var T=g.filter(function(R){return!ne(R,u)});h==null||h(T,i)}else h==null||h(Xn(Xn([],g,!0),[u],!1),i)}}else h==null||h(u,i);s||((c=(l=a.props).onSelect)===null||c===void 0||c.call(l,u,i),a.setState({inputValue:null}))},a.setPreSelection=function(r){if(!a.props.readOnly){var i=Na(a.props.minDate),s=Na(a.props.maxDate),o=!0;if(r){var l=du(r);if(i&&s)o=Zr(r,a.props.minDate,a.props.maxDate);else if(i){var c=du(a.props.minDate);o=Ar(r,c)||ii(l,c)}else if(s){var u=yv(a.props.maxDate);o=Qn(r,u)||ii(l,u)}}o&&a.setState({preSelection:r})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(r){var i,s;if(!(a.props.selectsRange||a.props.selectsMultiple)){var o=a.props.selected?a.props.selected:a.getPreSelection(),l=a.props.selected?r:lf(o,{hour:ja(r),minute:La(r)});a.setState({preSelection:l}),(s=(i=a.props).onChange)===null||s===void 0||s.call(i,l),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var r,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(r=a.props).onInputClick)===null||i===void 0||i.call(r)},a.onInputKeyDown=function(r){var i,s,o,l,c,u;(s=(i=a.props).onKeyDown)===null||s===void 0||s.call(i,r);var d=r.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(d===$.ArrowDown||d===$.ArrowUp||d===$.Enter)&&((o=a.onInputClick)===null||o===void 0||o.call(a));return}if(a.state.open){if(d===$.ArrowDown||d===$.ArrowUp){r.preventDefault();var h=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((l=a.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(h);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var v=be(a.state.preSelection);d===$.Enter?(r.preventDefault(),r.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===hf?(a.handleSelect(v,r),!a.props.shouldCloseOnSelect&&a.setPreSelection(v)):a.setOpen(!1)):d===$.Escape?(r.preventDefault(),r.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):d===$.Tab&&a.setOpen(!1),a.inputOk()||(u=(c=a.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:df})}},a.onPortalKeyDown=function(r){var i=r.key;i===$.Escape&&(r.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(r){var i,s,o,l,c,u,d=a.props,h=d.minDate,f=d.maxDate,v=d.disabledKeyboardNavigation,y=d.showWeekPicker,_=d.shouldCloseOnSelect,g=d.locale,m=d.calendarStartDay,b=d.adjustDateOnChange,x=d.inline;if((s=(i=a.props).onKeyDown)===null||s===void 0||s.call(i,r),!v){var D=r.key,k=r.shiftKey,S=be(a.state.preSelection),E=function(U,O){var A=O;switch(U){case $.ArrowRight:A=y?Zu(O,1):An(O,1);break;case $.ArrowLeft:A=y?iv(O):gN(O);break;case $.ArrowUp:A=iv(O);break;case $.ArrowDown:A=Zu(O,1);break;case $.PageUp:A=k?zs(O,1):fi(O,1);break;case $.PageDown:A=k?Ra(O,1):Rn(O,1);break;case $.Home:A=kr(O,g,m);break;case $.End:A=a3(O);break}return A},T=function(U,O){for(var A=40,N=U,B=!1,I=0,q=E(U,O);!B;){if(I>=A){q=O;break}h&&q<h&&(N=$.ArrowRight,q=pn(h,a.props)?E(N,q):h),f&&q>f&&(N=$.ArrowLeft,q=pn(f,a.props)?E(N,q):f),pn(q,a.props)?((N===$.PageUp||N===$.Home)&&(N=$.ArrowRight),(N===$.PageDown||N===$.End)&&(N=$.ArrowLeft),q=E(N,q)):B=!0,I++}return q};if(D===$.Enter){r.preventDefault(),a.handleSelect(S,r),!_&&a.setPreSelection(S);return}else if(D===$.Escape){r.preventDefault(),a.setOpen(!1),a.inputOk()||(l=(o=a.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:df});return}var R=null;switch(D){case $.ArrowLeft:case $.ArrowRight:case $.ArrowUp:case $.ArrowDown:case $.PageUp:case $.PageDown:case $.Home:case $.End:R=T(D,S);break}if(!R){(u=(c=a.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:df});return}if(r.preventDefault(),a.setState({lastPreSelectChange:hf}),b&&a.setSelected(R),a.setPreSelection(R),x){var M=St(S),C=St(R),L=Z(S),H=Z(R);M!==C||L!==H?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(r){var i=r.key;i===$.Escape&&(r.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),a.sendFocusBackToInput();var i=a.props,s=i.selectsRange,o=i.onChange;s?o==null||o([null,null],r):o==null||o(null,r),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(r){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(r)&&a.setOpen(!1)},a.renderCalendar=function(){var r,i;return!a.props.inline&&!a.isCalendarOpen()?null:j.createElement(z3,ae({showMonthYearDropdown:void 0,ref:function(s){a.calendar=s}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(r=a.props.dateFormatCalendar)!==null&&r!==void 0?r:e.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:g3(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var r,i=a.props.locale,s=(r=a.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,o=a.props.showTimeInput||a.props.showTimeSelect,l=o?"PPPPp":"PPPP",c;return a.props.selectsRange?c="Selected start date: ".concat(Vt(a.props.startDate,{dateFormat:l,locale:i}),". ").concat(a.props.endDate?"End date: "+Vt(a.props.endDate,{dateFormat:l,locale:i}):""):a.props.showTimeSelectOnly?c="Selected time: ".concat(Vt(a.props.selected,{dateFormat:s,locale:i})):a.props.showYearPicker?c="Selected year: ".concat(Vt(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?c="Selected month: ".concat(Vt(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?c="Selected quarter: ".concat(Vt(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):c="Selected date: ".concat(Vt(a.props.selected,{dateFormat:l,locale:i})),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},a.renderDateInput=function(){var r,i,s=bt(a.props.className,(r={},r[a.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=a.state.open,r)),o=a.props.customInput||j.createElement("input",{type:"text"}),l=a.props.customInputRef||"ref";return w.cloneElement(o,(i={},i[l]=function(c){a.input=c},i.value=a.getInputValue(),i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=bt(o.props.className,s),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var r=a.props,i=r.isClearable,s=r.disabled,o=r.selected,l=r.startDate,c=r.endDate,u=r.clearButtonTitle,d=r.clearButtonClassName,h=d===void 0?"":d,f=r.ariaLabelClose,v=f===void 0?"Close":f,y=r.selectedDates,_=r.readOnly;return i&&!_&&(o!=null||l!=null||c!=null||y!=null&&y.length)?j.createElement("button",{type:"button",className:bt("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":v,onClick:a.onClearClick,title:u,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Tk,readOnly:!1,rangeSeparator:wk,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Gl,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,a){var r,i,s,o;n.inline&&F3(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Cv(this.props.highlightDates)}),!a.focused&&!ii(n.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(r=this.props).onCalendarOpen)===null||i===void 0||i.call(r)),a.open===!0&&this.state.open===!1&&((o=(s=this.props).onCalendarClose)===null||o===void 0||o.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,a=n.showIcon,r=n.icon,i=n.calendarIconClassname,s=n.calendarIconClassName,o=n.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),j.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&j.createElement(B3,ae({icon:r,className:bt(s,!s&&i,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var a=this.state.open?j.createElement(Ok,{enableTabLoop:this.props.enableTabLoop},j.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(a=j.createElement(Mk,ae({portalId:this.props.portalId},this.props),a)),j.createElement("div",null,this.renderInputContainer(),a)}return j.createElement($3,ae({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(w.Component),q3="input",hf="navigate";async function V3(t,e,n="ko"){const a=await Mt();let r=W.from("labels").select(`
      classification,
      is_correct,
      user_mark,
      problems!inner (
        session_id,
        sessions!inner (
          user_id,
          created_at
        )
      )
    `).eq("problems.sessions.user_id",a).not("user_mark","is",null);if(t&&(r=r.gte("problems.sessions.created_at",t.toISOString())),e){const b=new Date(e);b.setHours(23,59,59,999),r=r.lte("problems.sessions.created_at",b.toISOString())}const{data:i,error:s}=await r;if(s)throw s;const o=new Map,{data:l,error:c}=await W.from("taxonomy").select("depth1, depth2, depth3, depth4, depth1_en, depth2_en, depth3_en, depth4_en");if(c)throw c;const u=new Set,d=new Set,h=new Set,f=new Set,v=new Map,y=new Map,_=new Map,g=new Map;for(const b of l||[])b.depth1&&u.add(b.depth1),b.depth2&&d.add(b.depth2),b.depth3&&h.add(b.depth3),b.depth4&&f.add(b.depth4),b.depth1&&b.depth1_en&&v.set(b.depth1,b.depth1_en),b.depth2&&b.depth2_en&&y.set(b.depth2,b.depth2_en),b.depth3&&b.depth3_en&&_.set(b.depth3,b.depth3_en),b.depth4&&b.depth4_en&&g.set(b.depth4,b.depth4_en);const m=(b,x)=>b&&(n==="en"&&x.get(b)||b);for(const b of i||[]){const x=b.classification||{},D=x["1Depth"]||"",k=x["2Depth"]||"",S=x["3Depth"]||"",E=x["4Depth"]||"",T=u.has(D)?D:"",R=d.has(k)?k:"",M=h.has(S)?S:"",C=f.has(E)?E:"",L=T?m(T,v):null,H=R?m(R,y):null,U=M?m(M,_):null,O=C?m(C,g):null,A=`${L||""}_${H||""}_${U||""}_${O||""}`;o.has(A)||o.set(A,{depth1:L,depth2:H,depth3:U,depth4:O,correct_count:0,incorrect_count:0,total_count:0});const N=o.get(A);b.user_mark!==null&&b.user_mark!==void 0&&(N.total_count++,b.is_correct?N.correct_count++:N.incorrect_count++)}return Array.from(o.values())}async function W3(t,e,n="ko"){var D,k,S,E,T,R,M,C,L,H,U,O;const a=await Mt(),{data:r,error:i}=await W.from("taxonomy").select("depth1, depth2, depth3, depth4, depth1_en, depth2_en, depth3_en, depth4_en");if(i)throw i;const s=new Set,o=new Set,l=new Set,c=new Set,u=new Map,d=new Map,h=new Map,f=new Map;for(const A of r||[])A.depth1&&(s.add(A.depth1),A.depth1_en&&u.set(A.depth1,A.depth1_en)),A.depth2&&(o.add(A.depth2),A.depth2_en&&d.set(A.depth2,A.depth2_en)),A.depth3&&(l.add(A.depth3),A.depth3_en&&h.set(A.depth3,A.depth3_en)),A.depth4&&(c.add(A.depth4),A.depth4_en&&f.set(A.depth4,A.depth4_en));const v=(A,N)=>n==="en"&&A&&N.has(A)&&N.get(A)||A;let y=W.from("labels").select(`
      classification,
      is_correct,
      user_mark,
      problems!inner (
        session_id,
        sessions!inner (
          user_id,
          created_at
        )
      )
    `).eq("problems.sessions.user_id",a).not("user_mark","is",null);if(t&&(y=y.gte("problems.sessions.created_at",t.toISOString())),e){const A=new Date(e);A.setHours(23,59,59,999),y=y.lte("problems.sessions.created_at",A.toISOString())}const{data:_,error:g}=await y;if(g)throw g;const m=new Map;for(const A of _||[]){const N=A.classification||{},B=N["1Depth"]||"",I=N["2Depth"]||"",q=N["3Depth"]||"",Te=N["4Depth"]||"",ge=s.has(B)?B:"",de=o.has(I)?I:"",ze=l.has(q)?q:"",Ye=c.has(Te)?Te:"",Xe=v(ge,u),on=v(de,d),la=v(ze,h),Jl=v(Ye,f),Ur=ge,Ri=ge&&de?`${ge}_${de}`:"",Va=ge&&de&&ze?`${ge}_${de}_${ze}`:"",Ni=ge&&de&&ze&&Ye?`${ge}_${de}_${ze}_${Ye}`:"";if(Xe){m.has(Ur)||m.set(Ur,{depth1:Xe,correct_count:0,incorrect_count:0,total_count:0,children:[],sessionIds:[]});const Me=m.get(Ur);A.user_mark!==null&&A.user_mark!==void 0&&(Me.total_count++,A.is_correct?Me.correct_count++:Me.incorrect_count++,(D=A.problems)!=null&&D.session_id&&!((k=Me.sessionIds)!=null&&k.includes(A.problems.session_id))&&((S=Me.sessionIds)==null||S.push(A.problems.session_id)))}if(Xe&&on&&Ri){m.has(Ri)||m.set(Ri,{depth1:Xe,depth2:on,correct_count:0,incorrect_count:0,total_count:0,children:[],sessionIds:[]});const Me=m.get(Ri);A.user_mark!==null&&A.user_mark!==void 0&&(Me.total_count++,A.is_correct?Me.correct_count++:Me.incorrect_count++,(E=A.problems)!=null&&E.session_id&&!((T=Me.sessionIds)!=null&&T.includes(A.problems.session_id))&&((R=Me.sessionIds)==null||R.push(A.problems.session_id)))}if(Xe&&on&&la&&Va){m.has(Va)||m.set(Va,{depth1:Xe,depth2:on,depth3:la,correct_count:0,incorrect_count:0,total_count:0,children:[],sessionIds:[]});const Me=m.get(Va);A.user_mark!==null&&A.user_mark!==void 0&&(Me.total_count++,A.is_correct?Me.correct_count++:Me.incorrect_count++,(M=A.problems)!=null&&M.session_id&&!((C=Me.sessionIds)!=null&&C.includes(A.problems.session_id))&&((L=Me.sessionIds)==null||L.push(A.problems.session_id)))}if(Xe&&on&&la&&Jl&&Ni){m.has(Ni)||m.set(Ni,{depth1:Xe,depth2:on,depth3:la,depth4:Jl,correct_count:0,incorrect_count:0,total_count:0,children:[],sessionIds:[]});const Me=m.get(Ni);A.user_mark!==null&&A.user_mark!==void 0&&(Me.total_count++,A.is_correct?Me.correct_count++:Me.incorrect_count++,(H=A.problems)!=null&&H.session_id&&!((U=Me.sessionIds)!=null&&U.includes(A.problems.session_id))&&((O=Me.sessionIds)==null||O.push(A.problems.session_id)))}}const b=[],x=new Map;for(const[A,N]of m)x.set(A,N);for(const[A,N]of m)if(A.includes("_")){const B=A.split("_");if(B.length===2){const I=B[0],q=x.get(I);q&&(q.children||(q.children=[]),q.children.push(N))}else if(B.length===3){const I=B.slice(0,2).join("_"),q=x.get(I);q&&(q.children||(q.children=[]),q.children.push(N))}else if(B.length===4){const I=B.slice(0,3).join("_"),q=x.get(I);q&&(q.children||(q.children=[]),q.children.push(N))}}else b.push(N);return b}const Ak=({node:t,level:e,onImageClick:n,onNumberClick:a,selectedNodes:r,onNodeSelect:i,onQuestionClick:s})=>{var m;const[o,l]=w.useState(!1),c=t.children&&t.children.length>0,u=e*20,h=(b=>`${b.depth1||""}_${b.depth2||""}_${b.depth3||""}_${b.depth4||""}`)(t),f=(r==null?void 0:r.has(h))||!1,v=b=>{const x=[];if(b.children)for(const D of b.children)x.push(D),x.push(...v(D));return x},y=()=>{c&&l(!o)},_=b=>{n&&b.length>0&&n(b)},g=b=>{b.stopPropagation();const x=b.target.checked;i&&(x?(i(t,!0),v(t).forEach(k=>i(k,!0))):(i(t,!1),v(t).forEach(k=>i(k,!1))))};return p.jsxs(p.Fragment,{children:[p.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900/50 cursor-pointer font-semibold",onClick:y,style:{paddingLeft:"0px"},children:[p.jsx("td",{className:"p-2",style:{paddingLeft:`${u+8}px`},children:p.jsxs("div",{className:"flex items-center gap-2",children:[i&&p.jsx("input",{type:"checkbox",checked:f,onChange:g,onClick:b=>b.stopPropagation(),className:"w-4 h-4 cursor-pointer"}),c&&p.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:o?"":""}),p.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:t.depth4||t.depth3||t.depth2||t.depth1}),t.depth4&&!c&&s&&p.jsx("button",{onClick:b=>{b.stopPropagation(),s(t)},className:"ml-2 w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-300 dark:hover:bg-slate-600 flex items-center justify-center text-sm font-bold transition-colors",title:"  ",children:"?"})]})}),p.jsx("td",{className:"p-2",children:p.jsx("button",{onClick:b=>{b.stopPropagation(),a?a(t,!0):_(t.sessionIds||[])},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline transition-colors",disabled:!t.sessionIds||t.sessionIds.length===0,children:t.correct_count})}),p.jsx("td",{className:"p-2",children:p.jsx("button",{onClick:b=>{b.stopPropagation(),a?a(t,!1):_(t.sessionIds||[])},className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:underline transition-colors",disabled:!t.sessionIds||t.sessionIds.length===0,children:t.incorrect_count})}),p.jsx("td",{className:"p-2",children:t.total_count>0?p.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[(t.correct_count/t.total_count*100).toFixed(1),"%"]}):p.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"-"})})]}),o&&c&&((m=t.children)==null?void 0:m.map((b,x)=>p.jsx(Ak,{node:b,level:e+1,onImageClick:n,onNumberClick:a,selectedNodes:r,onNodeSelect:i,onQuestionClick:s},`${b.depth1}-${b.depth2}-${b.depth3}-${b.depth4}-${x}`)))]})},K3=({data:t,onImageClick:e,onNumberClick:n,selectedNodes:a,onNodeSelect:r,onQuestionClick:i})=>{const{language:s}=kt(),o=jn(s);return p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-800",children:[p.jsx("th",{className:"p-2 text-slate-800 dark:text-slate-200",children:o.stats.category}),p.jsx("th",{className:"p-2 text-slate-800 dark:text-slate-200",children:o.stats.correct}),p.jsx("th",{className:"p-2 text-slate-800 dark:text-slate-200",children:o.stats.incorrect}),p.jsx("th",{className:"p-2 text-slate-800 dark:text-slate-200",children:o.stats.accuracy})]})}),p.jsx("tbody",{children:t.map((l,c)=>p.jsx(Ak,{node:l,level:0,onImageClick:e,onNumberClick:n,selectedNodes:a,onNodeSelect:r,onQuestionClick:i},`${l.depth1}-${c}`))})]})})},Rk=({imageUrl:t})=>{const{language:e}=kt();return p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700 mb-6",children:p.jsxs("div",{className:"flex items-start gap-6",children:[p.jsx("img",{src:t,alt:e==="ko"?" ":"Problem Image",className:"w-24 h-24 object-cover rounded border border-slate-300 dark:border-slate-600 flex-shrink-0"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 dark:border-indigo-400"}),p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:e==="ko"?"AI  ...":"AI Analyzing..."})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e==="ko"?"  .  .":"Analyzing the image. Please wait a moment."})]})]})})},Nk=({sessionId:t,imageUrl:e,onSave:n})=>{const{language:a}=kt(),r=jn(a),i=zr(),[s,o]=w.useState([]),[l,c]=w.useState({}),[u,d]=w.useState(!1),[h,f]=w.useState(!0);w.useEffect(()=>{v()},[t]);const v=async()=>{try{f(!0);const g=await hm(t);o(g);const m={};g.forEach(b=>{const x=b.___;x==="O"||x==="X"?m[`${b.index}`]=x:m[`${b.index}`]=b.AI__===""?"O":"X"}),c(m)}catch(g){console.error("Failed to load problems:",g)}finally{f(!1)}},y=(g,m)=>{c(b=>({...b,[`${g}`]:m}))},_=async()=>{if(s.length===0){alert("  .");return}const g=s.map(m=>({...m,___:l[`${m.index}`]||m.___}));try{d(!0),await fm(t,g),alert(" !  ."),n==null||n()}catch(m){console.error("Failed to save labels:",m),alert("   .")}finally{d(!1)}};return h?p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700 mb-6",children:p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),p.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"  ..."})]})}):p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700 mb-6",children:[p.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[p.jsx("img",{src:e,alt:a==="ko"?" ":"Problem Image",className:"w-24 h-24 object-cover rounded border border-slate-300 dark:border-slate-600 flex-shrink-0"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:a==="ko"?"AI  ":"AI Analysis Complete"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a==="ko"?`AI   ${s.length}  .`:`Please review and verify ${s.length} problem(s) analyzed by AI.`})]})]}),p.jsx("div",{className:"space-y-4 mb-6",children:s.map(g=>{var x;const m=l[`${g.index}`]||"O",b=g.AI__;return p.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 bg-slate-50 dark:bg-slate-900/50",children:p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsxs("span",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:["Q",g.index+1]}),b&&p.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300",children:["AI: ",b]})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium mb-2",children:g..text}),g._&&g._.length>0&&p.jsx("ul",{className:"list-disc list-inside text-sm text-slate-600 dark:text-slate-400 space-y-1",children:g._.map((D,k)=>p.jsx("li",{children:D.text},k))})]}),((x=g.__)==null?void 0:x.text)&&p.jsxs("div",{className:"mb-3",children:[p.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:" : "}),p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:g.__.text})]}),g.__&&p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[g.__["1Depth"],g.__["2Depth"],g.__["3Depth"],g.__["4Depth"]].filter(Boolean).join(" > ")})]}),p.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[p.jsx("button",{onClick:()=>y(g.index,"O"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="O"?"bg-blue-600 dark:bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:r.labeling.correct}),p.jsx("button",{onClick:()=>y(g.index,"X"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="X"?"bg-red-600 dark:bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:r.labeling.incorrect})]})]})},g.index)})}),p.jsxs("div",{className:"flex gap-3 justify-end",children:[p.jsx("button",{onClick:()=>i(`/session/${t}`),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:r.labeling.viewDetails}),p.jsx("button",{onClick:_,disabled:u,className:"px-6 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-lg font-semibold hover:bg-indigo-700 dark:hover:bg-indigo-600 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:u?r.labeling.saving:r.labeling.finalSave})]})]})},jv=({problem:t,index:e,problemId:n,onNext:a,isActive:r=!0,mode:i="practice",onResult:s,result:o})=>{var H;const{language:l}=kt(),c=jn(l),[u,d]=w.useState(null),[h,f]=w.useState(0),[v,y]=w.useState(!1),_=w.useRef(null),g=w.useRef(null),[m,b]=w.useState(!1),[x,D]=w.useState(!1);w.useEffect(()=>{if(i==="practice"&&r&&!v&&n)return _.current=Date.now(),g.current=window.setInterval(()=>{if(_.current){const U=Math.floor((Date.now()-_.current)/1e3);f(U)}},1e3),J2(n).catch(console.error),()=>{g.current&&clearInterval(g.current)}},[r,v,n,i]),w.useEffect(()=>{i==="practice"&&(d(null),y(!1),f(0),b(!1),D(!1),_.current=null,g.current&&(clearInterval(g.current),g.current=null))},[n,i]);const k=t.correct_answer_index!==void 0?t.correct_answer_index:t.choices.findIndex(U=>U.is_correct),S=i==="review"?(o==null?void 0:o.selectedIndex)??null:u,E=i==="review"?(o==null?void 0:o.isCorrect)??!1:u!==null&&(t.correct_answer_index!==void 0?u===t.correct_answer_index:(H=t.choices[u])==null?void 0:H.is_correct),T=w.useMemo(()=>i==="review"?(o==null?void 0:o.timeSpentSeconds)??0:h,[i,o==null?void 0:o.timeSpentSeconds,h]),R=U=>{const O=Math.floor(U/60),A=U%60;return`${O}:${A.toString().padStart(2,"0")}`},M=async U=>{if(i!=="practice"||u!==null||v)return;d(U),y(!0),g.current&&(clearInterval(g.current),g.current=null);const O=Date.now(),A=_.current?Math.max(0,Math.floor((O-_.current)/1e3)):h;f(A);const N=U===k;if(!m&&n)try{await Z2(n,N,A),b(!0)}catch(B){console.error("Error saving problem solving time:",B)}s==null||s({selectedIndex:U,isCorrect:N,timeSpentSeconds:A}),!x&&a&&(D(!0),window.setTimeout(()=>{try{a()}catch(B){console.error("Error advancing to next problem:",B)}},200))};if(i==="practice"&&!r)return null;const C=(U,O)=>{if(i==="review"){const N=S===O,I=S!==null&&O===k;return p.jsx("div",{className:`w-full text-left p-3 rounded-lg border-2 transition-all ${N?E?"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-900/30 text-green-800 dark:text-green-200":"border-red-500 dark:border-red-400 bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200":I?"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-900/30 text-green-800 dark:text-green-200":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[String.fromCharCode(65+O),"."]}),p.jsx("span",{children:U.text}),S!==null&&p.jsxs(p.Fragment,{children:[N&&E&&p.jsx("span",{className:"ml-auto text-green-600 dark:text-green-400 font-bold",children:""}),N&&!E&&p.jsx("span",{className:"ml-auto text-red-600 dark:text-red-400 font-bold",children:""}),I&&!N&&p.jsx("span",{className:"ml-auto text-green-600 dark:text-green-400 font-bold",children:c.practice.answer})]})]})},O)}const A=u===O;return p.jsx("button",{onClick:()=>M(O),disabled:u!==null,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${u===null?"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 hover:border-indigo-500 dark:hover:border-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer":A?"border-indigo-500 dark:border-indigo-400 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-200":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 opacity-60 cursor-not-allowed"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:`font-semibold ${u===null?"text-slate-600 dark:text-slate-400":""}`,children:[String.fromCharCode(65+O),"."]}),p.jsx("span",{children:U.text})]})},O)},L=w.useMemo(()=>{if(i!=="review"||S===null)return null;const U=t.wrong_explanations??t.wrong_explanation??{};return p.jsxs("div",{className:"mt-4 space-y-3",children:[t.explanation&&p.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg",children:[p.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:[" ",c.practice.explanation,":"]}),p.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:t.explanation})]}),t.wrong_explanations&&S!==null&&p.jsxs("div",{className:`p-4 border rounded-lg ${E?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800"}`,children:[p.jsx("p",{className:`text-sm font-semibold mb-2 ${E?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:E?` ${c.practice.selectedAnswer}:`:` ${c.practice.wrongExplanation}:`}),p.jsx("p",{className:`text-sm ${E?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:U[S.toString()]||(E?t.explanation:c.practice.noExplanation)})]})]})},[i,t.explanation,t.wrong_explanations,E,S,c.practice.explanation,c.practice.noExplanation,c.practice.selectedAnswer,c.practice.wrongExplanation]);return p.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 bg-slate-50/50 dark:bg-slate-900/30",children:[p.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[p.jsxs("span",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:[c.practice.problem," ",e+1]}),T>0&&p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[c.practice.timeSpent,": ",R(T)]}),t.classification&&p.jsxs("span",{className:"ml-2 text-xs text-slate-500 dark:text-slate-400",children:["(",t.classification.depth1,t.classification.depth2&&` > ${t.classification.depth2}`,t.classification.depth3&&` > ${t.classification.depth3}`,t.classification.depth4&&` > ${t.classification.depth4}`,")"]})]}),p.jsxs("div",{className:"text-slate-700 dark:text-slate-300 mb-4",children:[p.jsx("p",{className:"font-medium mb-3 text-lg",children:t.stem}),p.jsx("div",{className:"space-y-2",children:t.choices.map((U,O)=>C(U,O))})]}),i==="practice"&&v&&p.jsx("p",{className:"mt-4 text-sm text-slate-600 dark:text-slate-300",children:c.practice.answerLocked}),i==="review"&&L]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Xl(t){return t+.5|0}const dr=(t,e,n)=>Math.max(Math.min(t,n),e);function Ro(t){return dr(Xl(t*2.55),0,255)}function Dr(t){return dr(Xl(t*255),0,255)}function _a(t){return dr(Xl(t/2.55)/100,0,1)}function Lv(t){return dr(Xl(t*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yp=[..."0123456789ABCDEF"],G3=t=>Yp[t&15],Q3=t=>Yp[(t&240)>>4]+Yp[t&15],Tc=t=>(t&240)>>4===(t&15),X3=t=>Tc(t.r)&&Tc(t.g)&&Tc(t.b)&&Tc(t.a);function J3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ln[t[1]]*17,g:255&ln[t[2]]*17,b:255&ln[t[3]]*17,a:e===5?ln[t[4]]*17:255}:(e===7||e===9)&&(n={r:ln[t[1]]<<4|ln[t[2]],g:ln[t[3]]<<4|ln[t[4]],b:ln[t[5]]<<4|ln[t[6]],a:e===9?ln[t[7]]<<4|ln[t[8]]:255})),n}const Z3=(t,e)=>t<255?e(t):"";function eL(t){var e=X3(t)?G3:Q3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Z3(t.a,e):void 0}const tL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jk(t,e,n){const a=e*Math.min(n,1-n),r=(i,s=(i+t/30)%12)=>n-a*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function nL(t,e,n){const a=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function aL(t,e,n){const a=jk(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)a[r]*=1-e-n,a[r]+=e;return a}function rL(t,e,n,a,r){return t===r?(e-n)/a+(e<n?6:0):e===r?(n-t)/a+2:(t-e)/a+4}function Tm(t){const n=t.r/255,a=t.g/255,r=t.b/255,i=Math.max(n,a,r),s=Math.min(n,a,r),o=(i+s)/2;let l,c,u;return i!==s&&(u=i-s,c=o>.5?u/(2-i-s):u/(i+s),l=rL(n,a,r,u,i),l=l*60+.5),[l|0,c||0,o]}function Mm(t,e,n,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,a)).map(Dr)}function Om(t,e,n){return Mm(jk,t,e,n)}function iL(t,e,n){return Mm(aL,t,e,n)}function sL(t,e,n){return Mm(nL,t,e,n)}function Lk(t){return(t%360+360)%360}function oL(t){const e=tL.exec(t);let n=255,a;if(!e)return;e[5]!==a&&(n=e[6]?Ro(+e[5]):Dr(+e[5]));const r=Lk(+e[2]),i=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?a=iL(r,i,s):e[1]==="hsv"?a=sL(r,i,s):a=Om(r,i,s),{r:a[0],g:a[1],b:a[2],a:n}}function lL(t,e){var n=Tm(t);n[0]=Lk(n[0]+e),n=Om(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cL(t){if(!t)return;const e=Tm(t),n=e[0],a=Lv(e[1]),r=Lv(e[2]);return t.a<255?`hsla(${n}, ${a}%, ${r}%, ${_a(t.a)})`:`hsl(${n}, ${a}%, ${r}%)`}const Pv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uL(){const t={},e=Object.keys(zv),n=Object.keys(Pv);let a,r,i,s,o;for(a=0;a<e.length;a++){for(s=o=e[a],r=0;r<n.length;r++)i=n[r],o=o.replace(i,Pv[i]);i=parseInt(zv[s],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let Mc;function dL(t){Mc||(Mc=uL(),Mc.transparent=[0,0,0,0]);const e=Mc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fL(t){const e=hL.exec(t);let n=255,a,r,i;if(e){if(e[7]!==a){const s=+e[7];n=e[8]?Ro(s):dr(s*255,0,255)}return a=+e[1],r=+e[3],i=+e[5],a=255&(e[2]?Ro(a):dr(a,0,255)),r=255&(e[4]?Ro(r):dr(r,0,255)),i=255&(e[6]?Ro(i):dr(i,0,255)),{r:a,g:r,b:i,a:n}}}function pL(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ff=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,$i=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function gL(t,e,n){const a=$i(_a(t.r)),r=$i(_a(t.g)),i=$i(_a(t.b));return{r:Dr(ff(a+n*($i(_a(e.r))-a))),g:Dr(ff(r+n*($i(_a(e.g))-r))),b:Dr(ff(i+n*($i(_a(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Oc(t,e,n){if(t){let a=Tm(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*n,e===0?360:1)),a=Om(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function Pk(t,e){return t&&Object.assign(e||{},t)}function Bv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Dr(t[3]))):(e=Pk(t,{r:0,g:0,b:0,a:1}),e.a=Dr(e.a)),e}function mL(t){return t.charAt(0)==="r"?fL(t):oL(t)}class Dl{constructor(e){if(e instanceof Dl)return e;const n=typeof e;let a;n==="object"?a=Bv(e):n==="string"&&(a=J3(e)||dL(e)||mL(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Pk(this._rgb);return e&&(e.a=_a(e.a)),e}set rgb(e){this._rgb=Bv(e)}rgbString(){return this._valid?pL(this._rgb):void 0}hexString(){return this._valid?eL(this._rgb):void 0}hslString(){return this._valid?cL(this._rgb):void 0}mix(e,n){if(e){const a=this.rgb,r=e.rgb;let i;const s=n===i?.5:n,o=2*s-1,l=a.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,a.r=255&c*a.r+i*r.r+.5,a.g=255&c*a.g+i*r.g+.5,a.b=255&c*a.b+i*r.b+.5,a.a=s*a.a+(1-s)*r.a,this.rgb=a}return this}interpolate(e,n){return e&&(this._rgb=gL(this._rgb,e._rgb,n)),this}clone(){return new Dl(this.rgb)}alpha(e){return this._rgb.a=Dr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Xl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Oc(this._rgb,2,e),this}darken(e){return Oc(this._rgb,2,-e),this}saturate(e){return Oc(this._rgb,1,e),this}desaturate(e){return Oc(this._rgb,1,-e),this}rotate(e){return lL(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pa(){}const bL=(()=>{let t=0;return()=>t++})();function ue(t){return t==null}function at(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function le(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function kn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Bn(t,e){return kn(t)?t:e}function oe(t,e){return typeof t>"u"?e:t}const vL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,zk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function De(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function me(t,e,n,a){let r,i,s;if(at(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(le(t))for(s=Object.keys(t),i=s.length,r=0;r<i;r++)e.call(n,t[s[r]],s[r])}function dd(t,e){let n,a,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function hd(t){if(at(t))return t.map(hd);if(le(t)){const e=Object.create(null),n=Object.keys(t),a=n.length;let r=0;for(;r<a;++r)e[n[r]]=hd(t[n[r]]);return e}return t}function Bk(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yL(t,e,n,a){if(!Bk(t))return;const r=e[t],i=n[t];le(r)&&le(i)?na(r,i,a):e[t]=hd(i)}function na(t,e,n){const a=at(e)?e:[e],r=a.length;if(!le(t))return t;n=n||{};const i=n.merger||yL;let s;for(let o=0;o<r;++o){if(s=a[o],!le(s))continue;const l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)i(l[c],t,s,n)}return t}function el(t,e){return na(t,e,{merger:_L})}function _L(t,e,n){if(!Bk(t))return;const a=e[t],r=n[t];le(a)&&le(r)?el(a,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=hd(r))}const Hv={"":t=>t,x:t=>t.x,y:t=>t.y};function xL(t){const e=t.split("."),n=[];let a="";for(const r of e)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function wL(t){const e=xL(t);return n=>{for(const a of e){if(a==="")break;n=n&&n[a]}return n}}function Si(t,e){return(Hv[e]||(Hv[e]=wL(e)))(t)}function Am(t){return t.charAt(0).toUpperCase()+t.slice(1)}const El=t=>typeof t<"u",Nr=t=>typeof t=="function",Uv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function SL(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ee=Math.PI,it=2*Ee,fd=Number.POSITIVE_INFINITY,kL=Ee/180,lt=Ee/2,Fr=Ee/4,Iv=Ee*2/3,Hk=Math.log10,Er=Math.sign;function fu(t,e,n){return Math.abs(t-e)<n}function Yv(t){const e=Math.round(t);t=fu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Hk(t))),a=t/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function DL(t){const e=[],n=Math.sqrt(t);let a;for(a=1;a<n;a++)t%a===0&&(e.push(a),e.push(t/a));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function EL(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function pd(t){return!EL(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CL(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TL(t,e,n){let a,r,i;for(a=0,r=t.length;a<r;a++)i=t[a][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ea(t){return t*(Ee/180)}function ML(t){return t*(180/Ee)}function $v(t){if(!kn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Uk(t,e){const n=e.x-t.x,a=e.y-t.y,r=Math.sqrt(n*n+a*a);let i=Math.atan2(a,n);return i<-.5*Ee&&(i+=it),{angle:i,distance:r}}function OL(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $n(t){return(t%it+it)%it}function gd(t,e,n,a){const r=$n(t),i=$n(e),s=$n(n),o=$n(i-r),l=$n(s-r),c=$n(r-i),u=$n(r-s);return r===i||r===s||a&&i===s||o>l&&c<u}function Ut(t,e,n){return Math.max(e,Math.min(n,t))}function AL(t){return Ut(t,-32768,32767)}function si(t,e,n,a=1e-6){return t>=Math.min(e,n)-a&&t<=Math.max(e,n)+a}function Rm(t,e,n){n=n||(s=>t[s]<e);let a=t.length-1,r=0,i;for(;a-r>1;)i=r+a>>1,n(i)?r=i:a=i;return{lo:r,hi:a}}const $p=(t,e,n,a)=>Rm(t,n,a?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),RL=(t,e,n)=>Rm(t,n,a=>t[a][e]>=n);function NL(t,e,n){let a=0,r=t.length;for(;a<r&&t[a]<e;)a++;for(;r>a&&t[r-1]>n;)r--;return a>0||r<t.length?t.slice(a,r):t}const Ik=["push","pop","shift","splice","unshift"];function jL(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ik.forEach(n=>{const a="_onData"+Am(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const s=r.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[a]=="function"&&o[a](...i)}),s}})})}function Fv(t,e){const n=t._chartjs;if(!n)return;const a=n.listeners,r=a.indexOf(e);r!==-1&&a.splice(r,1),!(a.length>0)&&(Ik.forEach(i=>{delete t[i]}),delete t._chartjs)}function Yk(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $k=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Fk(t,e){let n=[],a=!1;return function(...r){n=r,a||(a=!0,$k.call(window,()=>{a=!1,t.apply(e,n)}))}}function LL(t,e){let n;return function(...a){return e?(clearTimeout(n),n=setTimeout(t,e,a)):t.apply(this,a),e}}const Nm=t=>t==="start"?"left":t==="end"?"right":"center",wt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,PL=(t,e,n,a)=>t===(a?"left":"right")?n:t==="center"?(e+n)/2:e,Ac=t=>t===0||t===1,qv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*it/n)),Vv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*it/n)+1,tl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*lt)+1,easeOutSine:t=>Math.sin(t*lt),easeInOutSine:t=>-.5*(Math.cos(Ee*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ac(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ac(t)?t:qv(t,.075,.3),easeOutElastic:t=>Ac(t)?t:Vv(t,.075,.3),easeInOutElastic(t){return Ac(t)?t:t<.5?.5*qv(t*2,.1125,.45):.5+.5*Vv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tl.easeInBounce(t*2)*.5:tl.easeOutBounce(t*2-1)*.5+.5};function qk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Wv(t){return qk(t)?t:new Dl(t)}function pf(t){return qk(t)?t:new Dl(t).saturate(.5).darken(.1).hexString()}const zL=["x","y","borderWidth","radius","tension"],BL=["color","borderColor","backgroundColor"];function HL(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:BL},numbers:{type:"number",properties:zL}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function UL(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Kv=new Map;function IL(t,e){e=e||{};const n=t+JSON.stringify(e);let a=Kv.get(n);return a||(a=new Intl.NumberFormat(t,e),Kv.set(n,a)),a}function jm(t,e,n){return IL(e,n).format(t)}const YL={values(t){return at(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const a=this.chart.options.locale;let r,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=$L(t,n)}const s=Hk(Math.abs(i)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),jm(t,a,l)}};function $L(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Vk={formatters:YL};function FL(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ki=Object.create(null),Fp=Object.create(null);function nl(t,e){if(!e)return t;const n=e.split(".");for(let a=0,r=n.length;a<r;++a){const i=n[a];t=t[i]||(t[i]=Object.create(null))}return t}function gf(t,e,n){return typeof e=="string"?na(nl(t,e),n):na(nl(t,""),e)}class qL{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>pf(r.backgroundColor),this.hoverBorderColor=(a,r)=>pf(r.borderColor),this.hoverColor=(a,r)=>pf(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return gf(this,e,n)}get(e){return nl(this,e)}describe(e,n){return gf(Fp,e,n)}override(e,n){return gf(ki,e,n)}route(e,n,a,r){const i=nl(this,e),s=nl(this,a),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=s[r];return le(l)?Object.assign({},c,l):oe(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var qe=new qL({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[HL,UL,FL]);function VL(t){return!t||ue(t.size)||ue(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Gv(t,e,n,a,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>a&&(a=i),a}function qr(t,e,n){const a=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*a)/a+r}function Qv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function qp(t,e,n,a){Wk(t,e,n,a,null)}function Wk(t,e,n,a,r){let i,s,o,l,c,u,d,h;const f=e.pointStyle,v=e.rotation,y=e.radius;let _=(v||0)*kL;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,a),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,a,r/2,y,0,0,it):t.arc(n,a,y,0,it),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(_)*u,a-Math.cos(_)*y),_+=Iv,t.lineTo(n+Math.sin(_)*u,a-Math.cos(_)*y),_+=Iv,t.lineTo(n+Math.sin(_)*u,a-Math.cos(_)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,s=Math.cos(_+Fr)*l,d=Math.cos(_+Fr)*(r?r/2-c:l),o=Math.sin(_+Fr)*l,h=Math.sin(_+Fr)*(r?r/2-c:l),t.arc(n-d,a-o,c,_-Ee,_-lt),t.arc(n+h,a-s,c,_-lt,_),t.arc(n+d,a+o,c,_,_+lt),t.arc(n-h,a+s,c,_+lt,_+Ee),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*y,u=r?r/2:l,t.rect(n-u,a-l,2*u,2*l);break}_+=Fr;case"rectRot":d=Math.cos(_)*(r?r/2:y),s=Math.cos(_)*y,o=Math.sin(_)*y,h=Math.sin(_)*(r?r/2:y),t.moveTo(n-d,a-o),t.lineTo(n+h,a-s),t.lineTo(n+d,a+o),t.lineTo(n-h,a+s),t.closePath();break;case"crossRot":_+=Fr;case"cross":d=Math.cos(_)*(r?r/2:y),s=Math.cos(_)*y,o=Math.sin(_)*y,h=Math.sin(_)*(r?r/2:y),t.moveTo(n-d,a-o),t.lineTo(n+d,a+o),t.moveTo(n+h,a-s),t.lineTo(n-h,a+s);break;case"star":d=Math.cos(_)*(r?r/2:y),s=Math.cos(_)*y,o=Math.sin(_)*y,h=Math.sin(_)*(r?r/2:y),t.moveTo(n-d,a-o),t.lineTo(n+d,a+o),t.moveTo(n+h,a-s),t.lineTo(n-h,a+s),_+=Fr,d=Math.cos(_)*(r?r/2:y),s=Math.cos(_)*y,o=Math.sin(_)*y,h=Math.sin(_)*(r?r/2:y),t.moveTo(n-d,a-o),t.lineTo(n+d,a+o),t.moveTo(n+h,a-s),t.lineTo(n-h,a+s);break;case"line":s=r?r/2:Math.cos(_)*y,o=Math.sin(_)*y,t.moveTo(n-s,a-o),t.lineTo(n+s,a+o);break;case"dash":t.moveTo(n,a),t.lineTo(n+Math.cos(_)*(r?r/2:y),a+Math.sin(_)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Lm(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Pm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zm(t){t.restore()}function WL(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ue(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KL(t,e,n,a,r){if(r.strikethrough||r.underline){const i=t.measureText(a),s=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(o,u),t.stroke()}}function GL(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Cl(t,e,n,a,r,i={}){const s=at(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,WL(t,i),l=0;l<s.length;++l)c=s[l],i.backdrop&&GL(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ue(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,a,i.maxWidth)),t.fillText(c,n,a,i.maxWidth),KL(t,n,a,c,i),a+=Number(r.lineHeight);t.restore()}function md(t,e){const{x:n,y:a,w:r,h:i,radius:s}=e;t.arc(n+s.topLeft,a+s.topLeft,s.topLeft,1.5*Ee,Ee,!0),t.lineTo(n,a+i-s.bottomLeft),t.arc(n+s.bottomLeft,a+i-s.bottomLeft,s.bottomLeft,Ee,lt,!0),t.lineTo(n+r-s.bottomRight,a+i),t.arc(n+r-s.bottomRight,a+i-s.bottomRight,s.bottomRight,lt,0,!0),t.lineTo(n+r,a+s.topRight),t.arc(n+r-s.topRight,a+s.topRight,s.topRight,0,-lt,!0),t.lineTo(n+s.topLeft,a)}const QL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JL(t,e){const n=(""+t).match(QL);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const ZL=t=>+t||0;function Bm(t,e){const n={},a=le(e),r=a?Object.keys(e):e,i=le(t)?a?s=>oe(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of r)n[s]=ZL(i(s));return n}function Kk(t){return Bm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function _s(t){return Bm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(t){const e=Kk(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vt(t,e){t=t||{},e=e||qe.font;let n=oe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let a=oe(t.style,e.style);a&&!(""+a).match(XL)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:oe(t.family,e.family),lineHeight:JL(oe(t.lineHeight,e.lineHeight),n),size:n,style:a,weight:oe(t.weight,e.weight),string:""};return r.string=VL(r),r}function Be(t,e,n,a){let r,i,s;for(r=0,i=t.length;r<i;++r)if(s=t[r],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e)),n!==void 0&&at(s)&&(s=s[n%s.length]),s!==void 0))return s}function eP(t,e,n){const{min:a,max:r}=t,i=zk(e,(r-a)/2),s=(o,l)=>n&&o===0?0:o+l;return{min:s(a,-Math.abs(i)),max:s(r,i)}}function ao(t,e){return Object.assign(Object.create(t),e)}function Hm(t,e=[""],n,a,r=()=>t[0]){const i=n||t;typeof a>"u"&&(a=Jk("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:a,_getTarget:r,override:o=>Hm([o,...t],e,i,a)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return Qk(o,l,()=>lP(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return Jv(o).includes(l)},ownKeys(o){return Jv(o)},set(o,l,c){const u=o._storage||(o._storage=r());return o[l]=u[l]=c,delete o._keys,!0}})}function Ys(t,e,n,a){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Gk(t,a),setContext:i=>Ys(t,i,n,a),override:i=>Ys(t.override(i),e,n,a)};return new Proxy(r,{deleteProperty(i,s){return delete i[s],delete t[s],!0},get(i,s,o){return Qk(i,s,()=>nP(i,s,o))},getOwnPropertyDescriptor(i,s){return i._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(i,s,o){return t[s]=o,delete i[s],!0}})}function Gk(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:a=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:a,isScriptable:Nr(n)?n:()=>n,isIndexable:Nr(a)?a:()=>a}}const tP=(t,e)=>t?t+Am(e):e,Um=(t,e)=>le(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Qk(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=n();return t[e]=a,a}function nP(t,e,n){const{_proxy:a,_context:r,_subProxy:i,_descriptors:s}=t;let o=a[e];return Nr(o)&&s.isScriptable(e)&&(o=aP(e,o,t,n)),at(o)&&o.length&&(o=rP(e,o,t,s.isIndexable)),Um(e,o)&&(o=Ys(o,r,i&&i[e],s)),o}function aP(t,e,n,a){const{_proxy:r,_context:i,_subProxy:s,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,s||a);return o.delete(t),Um(t,l)&&(l=Im(r._scopes,r,t,l)),l}function rP(t,e,n,a){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;if(typeof i.index<"u"&&a(t))return e[i.index%e.length];if(le(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Im(c,r,t,u);e.push(Ys(d,i,s&&s[t],o))}}return e}function Xk(t,e,n){return Nr(t)?t(e,n):t}const iP=(t,e)=>t===!0?e:typeof t=="string"?Si(e,t):void 0;function sP(t,e,n,a,r){for(const i of e){const s=iP(n,i);if(s){t.add(s);const o=Xk(s._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==a)return o}else if(s===!1&&typeof a<"u"&&n!==a)return null}return!1}function Im(t,e,n,a){const r=e._rootScopes,i=Xk(e._fallback,n,a),s=[...t,...r],o=new Set;o.add(a);let l=Xv(o,s,n,i||n,a);return l===null||typeof i<"u"&&i!==n&&(l=Xv(o,s,i,l,a),l===null)?!1:Hm(Array.from(o),[""],r,i,()=>oP(e,n,a))}function Xv(t,e,n,a,r){for(;n;)n=sP(t,e,n,a,r);return n}function oP(t,e,n){const a=t._getTarget();e in a||(a[e]={});const r=a[e];return at(r)&&le(n)?n:r||{}}function lP(t,e,n,a){let r;for(const i of e)if(r=Jk(tP(i,t),n),typeof r<"u")return Um(t,r)?Im(n,a,t,r):r}function Jk(t,e){for(const n of e){if(!n)continue;const a=n[t];if(typeof a<"u")return a}}function Jv(t){let e=t._keys;return e||(e=t._keys=cP(t._scopes)),e}function cP(t){const e=new Set;for(const n of t)for(const a of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(a);return Array.from(e)}function Ym(){return typeof window<"u"&&typeof document<"u"}function $m(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bd(t,e,n){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[n])):a=t,a}const ah=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function uP(t,e){return ah(t).getPropertyValue(e)}const dP=["top","right","bottom","left"];function gi(t,e,n){const a={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=dP[r];a[i]=parseFloat(t[e+"-"+i+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const hP=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function fP(t,e){const n=t.touches,a=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=a;let s=!1,o,l;if(hP(r,i,t.target))o=r,l=i;else{const c=e.getBoundingClientRect();o=a.clientX-c.left,l=a.clientY-c.top,s=!0}return{x:o,y:l,box:s}}function ei(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:a}=e,r=ah(n),i=r.boxSizing==="border-box",s=gi(r,"padding"),o=gi(r,"border","width"),{x:l,y:c,box:u}=fP(t,n),d=s.left+(u&&o.left),h=s.top+(u&&o.top);let{width:f,height:v}=e;return i&&(f-=s.width+o.width,v-=s.height+o.height),{x:Math.round((l-d)/f*n.width/a),y:Math.round((c-h)/v*n.height/a)}}function pP(t,e,n){let a,r;if(e===void 0||n===void 0){const i=t&&$m(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const s=i.getBoundingClientRect(),o=ah(i),l=gi(o,"border","width"),c=gi(o,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,a=bd(o.maxWidth,i,"clientWidth"),r=bd(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:a||fd,maxHeight:r||fd}}const hr=t=>Math.round(t*10)/10;function gP(t,e,n,a){const r=ah(t),i=gi(r,"margin"),s=bd(r.maxWidth,t,"clientWidth")||fd,o=bd(r.maxHeight,t,"clientHeight")||fd,l=pP(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=gi(r,"border","width"),f=gi(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,a?c/a:u-i.height),c=hr(Math.min(c,s,l.maxWidth)),u=hr(Math.min(u,o,l.maxHeight)),c&&!u&&(u=hr(c/2)),(e!==void 0||n!==void 0)&&a&&l.height&&u>l.height&&(u=l.height,c=hr(Math.floor(u*a))),{width:c,height:u}}function Zv(t,e,n){const a=e||1,r=hr(t.height*a),i=hr(t.width*a);t.height=hr(t.height),t.width=hr(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||s.height!==r||s.width!==i?(t.currentDevicePixelRatio=a,s.height=r,s.width=i,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const mP=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ym()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ey(t,e){const n=uP(t,e),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}const bP=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},vP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xs(t,e,n){return t?bP(e,n):vP()}function Zk(t,e){let n,a;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=a)}function e1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Rc(t,e,n){return t.options.clip?t[n]:e[n]}function yP(t,e){const{xScale:n,yScale:a}=t;return n&&a?{left:Rc(n,e,"left"),right:Rc(n,e,"right"),top:Rc(a,e,"top"),bottom:Rc(a,e,"bottom")}:e}function _P(t,e){const n=e._clip;if(n.disabled)return!1;const a=yP(e,t.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:a.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,a,r){const i=n.listeners[r],s=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(a-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=$k.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const i=a.items;let s=i.length-1,o=!1,l;for(;s>=0;--s)l=i[s],l._active?(l._total>a.duration&&(a.duration=l._total),l.tick(e),o=!0):(i[s]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,a,e,"progress")),i.length||(a.running=!1,this._notify(r,a,e,"complete"),a.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let a=n.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,a)),a}listen(e,n,a){this._getAnims(e).listeners[n].push(a)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const a=n.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ma=new xP;const ty="transparent",wP={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const a=Wv(t||ty),r=a.valid&&Wv(e||ty);return r&&r.valid?r.mix(a,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class SP{constructor(e,n,a,r){const i=n[a];r=Be([e.to,r,i,e.from]);const s=Be([e.from,i,r]);this._active=!0,this._fn=e.fn||wP[e.type||typeof s],this._easing=tl[e.easing]||tl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=a,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,a){if(this._active){this._notify(!1);const r=this._target[this._prop],i=a-this._start,s=this._duration-i;this._start=a,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Be([e.to,n,r,e.from]),this._from=Be([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,a=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let l;if(this._active=i!==o&&(s||n<a),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/a%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,a)=>{e.push({res:n,rej:a})})}_notify(e){const n=e?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][n]()}}class t1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!le(e))return;const n=Object.keys(qe.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!le(i))return;const s={};for(const o of n)s[o]=i[o];(at(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!a.has(o))&&a.set(o,s)})})}_animateOptions(e,n){const a=n.options,r=DP(e,a);if(!r)return[];const i=this._createAnimations(r,a);return a.$shared&&kP(e.options.$animations,a).then(()=>{e.options=a},()=>{}),i}_createAnimations(e,n){const a=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(n),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const h=a.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=d=new SP(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const a=this._createAnimations(e,n);if(a.length)return ma.add(this._chart,a),!0}}function kP(t,e){const n=[],a=Object.keys(e);for(let r=0;r<a.length;r++){const i=t[a[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function DP(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ny(t,e){const n=t&&t.options||{},a=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:a?i:r,end:a?r:i}}function EP(t,e,n){if(n===!1)return!1;const a=ny(t,n),r=ny(e,n);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function CP(t){let e,n,a,r;return le(t)?(e=t.top,n=t.right,a=t.bottom,r=t.left):e=n=a=r=t,{top:e,right:n,bottom:a,left:r,disabled:t===!1}}function n1(t,e){const n=[],a=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=a.length;r<i;++r)n.push(a[r].index);return n}function ay(t,e,n,a={}){const r=t.keys,i=a.mode==="single";let s,o,l,c;if(e===null)return;let u=!1;for(s=0,o=r.length;s<o;++s){if(l=+r[s],l===n){if(u=!0,a.all)continue;break}c=t.values[l],kn(c)&&(i||e===0||Er(e)===Er(c))&&(e+=c)}return!u&&!a.all?0:e}function TP(t,e){const{iScale:n,vScale:a}=e,r=n.axis==="x"?"x":"y",i=a.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],o[l]={[r]:u,[i]:t[u]};return o}function mf(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function MP(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function OP(t){const{min:e,max:n,minDefined:a,maxDefined:r}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function AP(t,e,n){const a=t[e]||(t[e]={});return a[n]||(a[n]={})}function ry(t,e,n,a){for(const r of e.getMatchingVisibleMetas(a).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function iy(t,e){const{chart:n,_cachedMeta:a}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:s,index:o}=a,l=i.axis,c=s.axis,u=MP(i,s,a),d=e.length;let h;for(let f=0;f<d;++f){const v=e[f],{[l]:y,[c]:_}=v,g=v._stacks||(v._stacks={});h=g[c]=AP(r,u,y),h[o]=_,h._top=ry(h,s,!0,a.type),h._bottom=ry(h,s,!1,a.type);const m=h._visualValues||(h._visualValues={});m[o]=_}}function bf(t,e){const n=t.scales;return Object.keys(n).filter(a=>n[a].axis===e).shift()}function RP(t,e){return ao(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NP(t,e,n){return ao(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function yo(t,e){const n=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[a]===void 0||i[a][n]===void 0)return;delete i[a][n],i[a]._visualValues!==void 0&&i[a]._visualValues[n]!==void 0&&delete i[a]._visualValues[n]}}}const vf=t=>t==="reset"||t==="none",sy=(t,e)=>e?t:Object.assign({},t),jP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:n1(n,!0),values:null};class ws{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,a=this.getDataset(),r=(d,h,f,v)=>d==="x"?h:d==="r"?v:f,i=n.xAxisID=oe(a.xAxisID,bf(e,"x")),s=n.yAxisID=oe(a.yAxisID,bf(e,"y")),o=n.rAxisID=oe(a.rAxisID,bf(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,i,s,o),u=n.vAxisID=r(l,s,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Fv(this._data,this),e._stacked&&yo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),a=this._data;if(le(n)){const r=this._cachedMeta;this._data=TP(n,r)}else if(a!==n){if(a){Fv(a,this);const r=this._cachedMeta;yo(r),r._parsed=[]}n&&Object.isExtensible(n)&&jL(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,a=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=mf(n.vScale,n),n.stack!==a.stack&&(r=!0,yo(n),n.stack=a.stack),this._resyncElements(e),(r||i!==n._stacked)&&(iy(this,n._parsed),n._stacked=mf(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:a,_data:r}=this,{iScale:i,_stacked:s}=a,o=i.axis;let l=e===0&&n===r.length?!0:a._sorted,c=e>0&&a._parsed[e-1],u,d,h;if(this._parsing===!1)a._parsed=r,a._sorted=!0,h=r;else{at(r[e])?h=this.parseArrayData(a,r,e,n):le(r[e])?h=this.parseObjectData(a,r,e,n):h=this.parsePrimitiveData(a,r,e,n);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<n;++u)a._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);a._sorted=l}s&&iy(this,h)}parsePrimitiveData(e,n,a,r){const{iScale:i,vScale:s}=e,o=i.axis,l=s.axis,c=i.getLabels(),u=i===s,d=new Array(r);let h,f,v;for(h=0,f=r;h<f;++h)v=h+a,d[h]={[o]:u||i.parse(c[v],v),[l]:s.parse(n[v],v)};return d}parseArrayData(e,n,a,r){const{xScale:i,yScale:s}=e,o=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+a,d=n[u],o[l]={x:i.parse(d[0],u),y:s.parse(d[1],u)};return o}parseObjectData(e,n,a,r){const{xScale:i,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,h,f;for(u=0,d=r;u<d;++u)h=u+a,f=n[h],c[u]={x:i.parse(Si(f,o),h),y:s.parse(Si(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,a){const r=this.chart,i=this._cachedMeta,s=n[e.axis],o={keys:n1(r,!0),values:n._stacks[e.axis]._visualValues};return ay(o,s,i.index,{mode:a})}updateRangeFromParsed(e,n,a,r){const i=a[n.axis];let s=i===null?NaN:i;const o=r&&a._stacks[n.axis];r&&o&&(r.values=o,s=ay(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const a=this._cachedMeta,r=a._parsed,i=a._sorted&&e===a.iScale,s=r.length,o=this._getOtherScale(e),l=jP(n,a,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=OP(o);let h,f;function v(){f=r[h];const y=f[o.axis];return!kn(f[e.axis])||u>y||d<y}for(h=0;h<s&&!(!v()&&(this.updateRangeFromParsed(c,e,f,l),i));++h);if(i){for(h=s-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,a=[];let r,i,s;for(r=0,i=n.length;r<i;++r)s=n[r][e.axis],kn(s)&&a.push(s);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,a=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:a?""+a.getLabelForValue(i[a.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=CP(oe(this.options.clip,EP(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,a=this._cachedMeta,r=a.data||[],i=n.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let u;for(a.dataset&&a.dataset.draw(e,i,o,l),u=o;u<o+l;++u){const d=r[u];d.hidden||(d.active&&c?s.push(d):d.draw(e,i))}for(u=0;u<s.length;++u)s[u].draw(e,i)}getStyle(e,n){const a=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,n,a){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];i=s.$context||(s.$context=NP(this.getContext(),e,s)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=RP(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=a,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",a){const r=n==="active",i=this._cachedDataOpts,s=e+"-"+n,o=i[s],l=this.enableOptionSharing&&El(a);if(o)return sy(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(qe.elements[e]),v=()=>this.getContext(a,r,n),y=c.resolveNamedOptions(h,f,v,d);return y.$shared&&(y.$shared=l,i[s]=Object.freeze(sy(y,l))),y}_resolveAnimations(e,n,a){const r=this.chart,i=this._cachedDataOpts,s=`animation-${n}`,o=i[s];if(o)return o;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,a,n))}const c=new t1(r,l&&l.animations);return l&&l._cacheable&&(i[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||vf(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const a=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(a),s=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,a),{sharedOptions:i,includeOptions:s}}updateElement(e,n,a,r){vf(r)?Object.assign(e,a):this._resolveAnimations(n,r).update(e,a)}updateSharedOptions(e,n,a){e&&!vf(n)&&this._resolveAnimations(void 0,n).update(e,a)}_setStyle(e,n,a,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,a,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,n,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,a=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=a.length,i=n.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,a=!0){const r=this._cachedMeta,i=r.data,s=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=s;o--)c[o]=c[o-n]};for(l(i),o=e;o<s;++o)i[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),a&&this.updateElements(i,e,n,"reset")}updateElements(e,n,a,r){}_removeElements(e,n){const a=this._cachedMeta;if(this._parsing){const r=a._parsed.splice(e,n);a._stacked&&yo(a,r)}a.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,a,r]=e;this[n](a,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}P(ws,"defaults",{}),P(ws,"datasetElementType",null),P(ws,"dataElementType",null);function LP(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let a=[];for(let r=0,i=n.length;r<i;r++)a=a.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=Yk(a.sort((r,i)=>r-i))}return t._cache.$bar}function PP(t){const e=t.iScale,n=LP(e,t.type);let a=e._length,r,i,s,o;const l=()=>{s===32767||s===-32768||(El(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=e.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)s=e.getPixelForTick(r),l();return a}function zP(t,e,n,a){const r=n.barThickness;let i,s;return ue(r)?(i=e.min*n.categoryPercentage,s=n.barPercentage):(i=r*a,s=1),{chunk:i/a,ratio:s,start:e.pixels[t]-i/2}}function BP(t,e,n,a){const r=e.pixels,i=r[t];let s=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;s===null&&(s=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-s);const c=i-(i-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/a,ratio:n.barPercentage,start:c}}function HP(t,e,n,a){const r=n.parse(t[0],a),i=n.parse(t[1],a),s=Math.min(r,i),o=Math.max(r,i);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:i,min:s,max:o}}function a1(t,e,n,a){return at(t)?HP(t,e,n,a):e[n.axis]=n.parse(t,a),e}function oy(t,e,n,a){const r=t.iScale,i=t.vScale,s=r.getLabels(),o=r===i,l=[];let c,u,d,h;for(c=n,u=n+a;c<u;++c)h=e[c],d={},d[r.axis]=o||r.parse(s[c],c),l.push(a1(h,d,i,c));return l}function yf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function UP(t,e,n){return t!==0?Er(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function IP(t){let e,n,a,r,i;return t.horizontal?(e=t.base>t.x,n="left",a="right"):(e=t.base<t.y,n="bottom",a="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:a,reverse:e,top:r,bottom:i}}function YP(t,e,n,a){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:o,reverse:l,top:c,bottom:u}=IP(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===a?r=c:(n._bottom||0)===a?r=u:(i[ly(u,s,o,l)]=!0,r=c)),i[ly(r,s,o,l)]=!0,t.borderSkipped=i}function ly(t,e,n,a){return a?(t=$P(t,e,n),t=cy(t,n,e)):t=cy(t,e,n),t}function $P(t,e,n){return t===e?n:t===n?e:t}function cy(t,e,n){return t==="start"?e:t==="end"?n:t}function FP(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class pu extends ws{parsePrimitiveData(e,n,a,r){return oy(e,n,a,r)}parseArrayData(e,n,a,r){return oy(e,n,a,r)}parseObjectData(e,n,a,r){const{iScale:i,vScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,u=s.axis==="x"?o:l,d=[];let h,f,v,y;for(h=a,f=a+r;h<f;++h)y=n[h],v={},v[i.axis]=i.parse(Si(y,c),h),d.push(a1(Si(y,u),v,s,h));return d}updateRangeFromParsed(e,n,a,r){super.updateRangeFromParsed(e,n,a,r);const i=a._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:a,vScale:r}=n,i=this.getParsed(e),s=i._custom,o=yf(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+a.getLabelForValue(i[a.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,a,r){const i=r==="reset",{index:s,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r);for(let f=n;f<n+a;f++){const v=this.getParsed(f),y=i||ue(v[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),g=(v._stacks||{})[o.axis],m={horizontal:c,base:y.base,enableBorderRadius:!g||yf(v._custom)||s===g._top||s===g._bottom,x:c?y.head:_.center,y:c?_.center:y.head,height:c?_.size:Math.abs(y.size),width:c?Math.abs(y.size):_.size};h&&(m.options=d||this.resolveDataElementOptions(f,e[f].active?"active":r));const b=m.options||e[f].options;YP(m,b,g,s),FP(m,b,u.ratio),this.updateElement(e[f],f,m,r)}}_getStacks(e,n){const{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=a.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[a.axis],c=u=>{const d=u._parsed.find(f=>f[a.axis]===l),h=d&&d[u.vScale.axis];if(ue(h)||isNaN(h))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((i===!1||s.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&s.push(u.stack),u.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[oe(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,a){const r=this._getStacks(e,a),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,a=n.iScale,r=[];let i,s;for(i=0,s=n.data.length;i<s;++i)r.push(a.getPixelForValue(this.getParsed(i)[a.axis],i));const o=e.barThickness;return{min:o||PP(n),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:a,index:r},options:{base:i,minBarLength:s}}=this,o=i||0,l=this.getParsed(e),c=l._custom,u=yf(c);let d=l[n.axis],h=0,f=a?this.applyStack(n,l,a):d,v,y;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Er(d)!==Er(c.barEnd)&&(h=0),h+=d);const _=!ue(i)&&!u?i:h;let g=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(h+f):v=g,y=v-g,Math.abs(y)<s){y=UP(y,n,o)*s,d===o&&(g-=y/2);const m=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),x=Math.min(m,b),D=Math.max(m,b);g=Math.max(Math.min(g,D),x),v=g+y,a&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(v)-n.getValueForPixel(g))}if(g===n.getPixelForValue(o)){const m=Er(y)*n.getLineWidthForValue(o)/2;g+=m,y-=m}return{size:y,base:g,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const a=n.scale,r=this.options,i=r.skipNull,s=oe(r.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?BP(e,n,r,u*c):zP(e,n,r,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(oe(h,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;o=d.start+d.chunk*v+d.chunk/2,l=Math.min(s,d.chunk*d.ratio)}else o=a.getPixelForValue(this.getParsed(e)[a.axis],e),l=Math.min(s,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,a=e.data,r=a.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!a[i].hidden&&a[i].draw(this._ctx)}}P(pu,"id","bar"),P(pu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),P(pu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function qP(t,e,n){let a=1,r=1,i=0,s=0;if(e<it){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(b,x,D)=>gd(b,o,l,!0)?1:Math.max(x,x*n,D,D*n),v=(b,x,D)=>gd(b,o,l,!0)?-1:Math.min(x,x*n,D,D*n),y=f(0,c,d),_=f(lt,u,h),g=v(Ee,c,d),m=v(Ee+lt,u,h);a=(y-g)/2,r=(_-m)/2,i=-(y+g)/2,s=-(_+m)/2}return{ratioX:a,ratioY:r,offsetX:i,offsetY:s}}class No extends ws{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const a=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=a;else{let i=l=>+a[l];if(le(a[e])){const{key:l="value"}=this._parsing;i=c=>+Si(a[c],l)}let s,o;for(s=e,o=e+n;s<o;++s)r._parsed[s]=i(s)}}_getRotation(){return Ea(this.options.rotation-90)}_getCircumference(){return Ea(this.options.circumference)}_getRotationExtents(){let e=it,n=-it;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const r=this.chart.getDatasetMeta(a).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+s)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:a}=n,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(a.width,a.height)-s)/2,0),l=Math.min(vL(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:v,offsetY:y}=qP(d,u,l),_=(a.width-s)/h,g=(a.height-s)/f,m=Math.max(Math.min(_,g)/2,0),b=zk(this.options.radius,m),x=Math.max(b*l,0),D=(b-x)/this._getVisibleDatasetWeightTotal();this.offsetX=v*b,this.offsetY=y*b,r.total=this.calculateTotal(),this.outerRadius=b-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const a=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/it)}updateElements(e,n,a,r){const i=r==="reset",s=this.chart,o=s.chartArea,c=s.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=i&&c.animateScale,f=h?0:this.innerRadius,v=h?0:this.outerRadius,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,r);let g=this._getRotation(),m;for(m=0;m<n;++m)g+=this._circumference(m,i);for(m=n;m<n+a;++m){const b=this._circumference(m,i),x=e[m],D={x:u+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+b,circumference:b,outerRadius:v,innerRadius:f};_&&(D.options=y||this.resolveDataElementOptions(m,x.active?"active":r)),g+=b,this.updateElement(x,m,D,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let a=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(a+=Math.abs(i))}return a}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?it*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,a=this.chart,r=a.data.labels||[],i=jm(n._parsed[e],a.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const a=this.chart;let r,i,s,o,l;if(!e){for(r=0,i=a.data.datasets.length;r<i;++r)if(a.isDatasetVisible(r)){s=a.getDatasetMeta(r),e=s.data,o=s.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=o.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let a=0,r=e.length;a<r;++a){const i=this.resolveDataElementOptions(a);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(n+=this._getRingWeight(a));return n}_getRingWeight(e){return Math.max(oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}P(No,"id","doughnut"),P(No,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),P(No,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),P(No,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:a,textAlign:r,color:i,useBorderRadius:s,borderRadius:o}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:r,pointStyle:a,borderRadius:s&&(o||d.borderRadius),index:c}}):[]}},onClick(e,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}}});function Vr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fm{constructor(e){P(this,"options");this.options=e||{}}static override(e){Object.assign(Fm.prototype,e)}init(){}formats(){return Vr()}parse(){return Vr()}format(){return Vr()}add(){return Vr()}diff(){return Vr()}startOf(){return Vr()}endOf(){return Vr()}}var VP={_date:Fm};function WP(t,e,n,a){const{controller:r,data:i,_sorted:s}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&i.length){const c=o._reversePixels?RL:$p;if(a){if(r._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(i,e,n-d),f=c(i,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(y=>!ue(y[d.axis]));u.lo-=Math.max(0,f);const v=h.slice(u.hi).findIndex(y=>!ue(y[d.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function rh(t,e,n,a,r){const i=t.getSortedVisibleDatasetMetas(),s=n[e];for(let o=0,l=i.length;o<l;++o){const{index:c,data:u}=i[o],{lo:d,hi:h}=WP(i[o],e,s,r);for(let f=d;f<=h;++f){const v=u[f];v.skip||a(v,c,f)}}}function KP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(a,r){const i=e?Math.abs(a.x-r.x):0,s=n?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}function _f(t,e,n,a,r){const i=[];return!r&&!t.isPointInArea(e)||rh(t,n,e,function(o,l,c){!r&&!Lm(o,t.chartArea,0)||o.inRange(e.x,e.y,a)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function GP(t,e,n,a){let r=[];function i(s,o,l){const{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],a),{angle:d}=Uk(s,{x:e.x,y:e.y});gd(d,c,u)&&r.push({element:s,datasetIndex:o,index:l})}return rh(t,n,e,i),r}function QP(t,e,n,a,r,i){let s=[];const o=KP(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,r);if(a&&!f)return;const v=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(v))&&!f)return;const _=o(e,v);_<l?(s=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&s.push({element:u,datasetIndex:d,index:h})}return rh(t,n,e,c),s}function xf(t,e,n,a,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!a?GP(t,e,n,r):QP(t,e,n,a,r,i)}function uy(t,e,n,a,r){const i=[],s=n==="x"?"inXRange":"inYRange";let o=!1;return rh(t,n,e,(l,c,u)=>{l[s]&&l[s](e[n],r)&&(i.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,r))}),a&&!o?[]:i}var XP={modes:{index(t,e,n,a){const r=ei(e,t),i=n.axis||"x",s=n.includeInvisible||!1,o=n.intersect?_f(t,r,i,a,s):xf(t,r,i,!1,a,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,a){const r=ei(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;let o=n.intersect?_f(t,r,i,a,s):xf(t,r,i,!1,a,s);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,a){const r=ei(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;return _f(t,r,i,a,s)},nearest(t,e,n,a){const r=ei(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;return xf(t,r,i,n.intersect,a,s)},x(t,e,n,a){const r=ei(e,t);return uy(t,r,"x",n.intersect,a)},y(t,e,n,a){const r=ei(e,t);return uy(t,r,"y",n.intersect,a)}}};const r1=["left","top","right","bottom"];function _o(t,e){return t.filter(n=>n.pos===e)}function dy(t,e){return t.filter(n=>r1.indexOf(n.pos)===-1&&n.box.axis===e)}function xo(t,e){return t.sort((n,a)=>{const r=e?a:n,i=e?n:a;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function JP(t){const e=[];let n,a,r,i,s,o;for(n=0,a=(t||[]).length;n<a;++n)r=t[n],{position:i,options:{stack:s,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&i+s,stackWeight:o});return e}function ZP(t){const e={};for(const n of t){const{stack:a,pos:r,stackWeight:i}=n;if(!a||!r1.includes(r))continue;const s=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}function e4(t,e){const n=ZP(t),{vBoxMaxWidth:a,hBoxMaxHeight:r}=e;let i,s,o;for(i=0,s=t.length;i<s;++i){o=t[i];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*a:l&&e.availableWidth,o.height=r):(o.width=a,o.height=u?u*r:l&&e.availableHeight)}return n}function t4(t){const e=JP(t),n=xo(e.filter(c=>c.box.fullSize),!0),a=xo(_o(e,"left"),!0),r=xo(_o(e,"right")),i=xo(_o(e,"top"),!0),s=xo(_o(e,"bottom")),o=dy(e,"x"),l=dy(e,"y");return{fullSize:n,leftAndTop:a.concat(i),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:_o(e,"chartArea"),vertical:a.concat(r).concat(l),horizontal:i.concat(s).concat(o)}}function hy(t,e,n,a){return Math.max(t[n],e[n])+Math.max(t[a],e[a])}function i1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function n4(t,e,n,a){const{pos:r,box:i}=n,s=t.maxPadding;if(!le(r)){n.size&&(t[r]-=n.size);const d=a[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[r]+=n.size}i.getPadding&&i1(s,i.getPadding());const o=Math.max(0,e.outerWidth-hy(s,t,"left","right")),l=Math.max(0,e.outerHeight-hy(s,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function a4(t){const e=t.maxPadding;function n(a){const r=Math.max(e[a]-t[a],0);return t[a]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function r4(t,e){const n=e.maxPadding;function a(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{i[s]=Math.max(e[s],n[s])}),i}return a(t?["left","right"]:["top","bottom"])}function jo(t,e,n,a){const r=[];let i,s,o,l,c,u;for(i=0,s=t.length,c=0;i<s;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,r4(o.horizontal,e));const{same:d,other:h}=n4(e,n,o,a);c|=d&&r.length,u=u||h,l.fullSize||r.push(o)}return c&&jo(r,e,n,a)||u}function Nc(t,e,n,a,r){t.top=n,t.left=e,t.right=e+a,t.bottom=n+r,t.width=a,t.height=r}function fy(t,e,n,a){const r=n.padding;let{x:i,y:s}=e;for(const o of t){const l=o.box,c=a[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;El(c.start)&&(s=c.start),l.fullSize?Nc(l,r.left,s,n.outerWidth-r.right-r.left,h):Nc(l,e.left+c.placed,s,d,h),c.start=s,c.placed+=d,s=l.bottom}else{const d=e.h*u,h=c.size||l.width;El(c.start)&&(i=c.start),l.fullSize?Nc(l,i,r.top,h,n.outerHeight-r.bottom-r.top):Nc(l,i,e.top+c.placed,h,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=s}var vn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,a){if(!t)return;const r=sn(t.options.layout.padding),i=Math.max(e-r.width,0),s=Math.max(n-r.height,0),o=t4(t.boxes),l=o.vertical,c=o.horizontal;me(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},r);i1(h,sn(a));const f=Object.assign({maxPadding:h,w:i,h:s,x:r.left,y:r.top},r),v=e4(l.concat(c),d);jo(o.fullSize,f,d,v),jo(l,f,d,v),jo(c,f,d,v)&&jo(l,f,d,v),a4(f),fy(o.leftAndTop,f,d,v),f.x+=f.w,f.y+=f.h,fy(o.rightAndBottom,f,d,v),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},me(o.chartArea,y=>{const _=y.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class s1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,a){}removeEventListener(e,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,a,r){return n=Math.max(0,n||e.width),a=a||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):a)}}isAttached(e){return!0}updateConfig(e){}}class i4 extends s1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gu="$chartjs",s4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},py=t=>t===null||t==="";function o4(t,e){const n=t.style,a=t.getAttribute("height"),r=t.getAttribute("width");if(t[gu]={initial:{height:a,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",py(r)){const i=ey(t,"width");i!==void 0&&(t.width=i)}if(py(a))if(t.style.height==="")t.height=t.width/(e||2);else{const i=ey(t,"height");i!==void 0&&(t.height=i)}return t}const o1=mP?{passive:!0}:!1;function l4(t,e,n){t&&t.addEventListener(e,n,o1)}function c4(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,o1)}function u4(t,e){const n=s4[t.type]||t.type,{x:a,y:r}=ei(t,e);return{type:n,chart:e,native:t,x:a!==void 0?a:null,y:r!==void 0?r:null}}function vd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function d4(t,e,n){const a=t.canvas,r=new MutationObserver(i=>{let s=!1;for(const o of i)s=s||vd(o.addedNodes,a),s=s&&!vd(o.removedNodes,a);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function h4(t,e,n){const a=t.canvas,r=new MutationObserver(i=>{let s=!1;for(const o of i)s=s||vd(o.removedNodes,a),s=s&&!vd(o.addedNodes,a);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Tl=new Map;let gy=0;function l1(){const t=window.devicePixelRatio;t!==gy&&(gy=t,Tl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function f4(t,e){Tl.size||window.addEventListener("resize",l1),Tl.set(t,e)}function p4(t){Tl.delete(t),Tl.size||window.removeEventListener("resize",l1)}function g4(t,e,n){const a=t.canvas,r=a&&$m(a);if(!r)return;const i=Fk((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),s=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return s.observe(r),f4(t,i),s}function wf(t,e,n){n&&n.disconnect(),e==="resize"&&p4(t)}function m4(t,e,n){const a=t.canvas,r=Fk(i=>{t.ctx!==null&&n(u4(i,t))},t);return l4(a,e,r),r}class b4 extends s1{acquireContext(e,n){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(o4(e,n),a):null}releaseContext(e){const n=e.canvas;if(!n[gu])return!1;const a=n[gu].initial;["height","width"].forEach(i=>{const s=a[i];ue(s)?n.removeAttribute(i):n.setAttribute(i,s)});const r=a.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[gu],!0}addEventListener(e,n,a){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),s={attach:d4,detach:h4,resize:g4}[n]||m4;r[n]=s(e,n,a)}removeEventListener(e,n){const a=e.$proxies||(e.$proxies={}),r=a[n];if(!r)return;({attach:wf,detach:wf,resize:wf}[n]||c4)(e,n,r),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,a,r){return gP(e,n,a,r)}isAttached(e){const n=e&&$m(e);return!!(n&&n.isConnected)}}function v4(t){return!Ym()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?i4:b4}var $c;let Hr=($c=class{constructor(){P(this,"x");P(this,"y");P(this,"active",!1);P(this,"options");P(this,"$animations")}tooltipPosition(e){const{x:n,y:a}=this.getProps(["x","y"],e);return{x:n,y:a}}hasValue(){return pd(this.x)&&pd(this.y)}getProps(e,n){const a=this.$animations;if(!n||!a)return this;const r={};return e.forEach(i=>{r[i]=a[i]&&a[i].active()?a[i]._to:this[i]}),r}},P($c,"defaults",{}),P($c,"defaultRoutes"),$c);function y4(t,e){const n=t.options.ticks,a=_4(t),r=Math.min(n.maxTicksLimit||a,a),i=n.major.enabled?w4(e):[],s=i.length,o=i[0],l=i[s-1],c=[];if(s>r)return S4(e,c,i,s/r),c;const u=x4(i,e,r);if(s>0){let d,h;const f=s>1?Math.round((l-o)/(s-1)):null;for(jc(e,c,u,ue(f)?0:o-f,o),d=0,h=s-1;d<h;d++)jc(e,c,u,i[d],i[d+1]);return jc(e,c,u,l,ue(f)?e.length:l+f),c}return jc(e,c,u),c}function _4(t){const e=t.options.offset,n=t._tickSize(),a=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(a,r))}function x4(t,e,n){const a=k4(t),r=e.length/n;if(!a)return Math.max(r,1);const i=DL(a);for(let s=0,o=i.length-1;s<o;s++){const l=i[s];if(l>r)return l}return Math.max(r,1)}function w4(t){const e=[];let n,a;for(n=0,a=t.length;n<a;n++)t[n].major&&e.push(n);return e}function S4(t,e,n,a){let r=0,i=n[0],s;for(a=Math.ceil(a),s=0;s<t.length;s++)s===i&&(e.push(t[s]),r++,i=n[r*a])}function jc(t,e,n,a,r){const i=oe(a,0),s=Math.min(oe(r,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-a,n=l/Math.floor(l/n)),u=i;u<0;)o++,u=Math.round(i+o*n);for(c=Math.max(i,0);c<s;c++)c===u&&(e.push(t[c]),o++,u=Math.round(i+o*n))}function k4(t){const e=t.length;let n,a;if(e<2)return!1;for(a=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==a)return!1;return a}const D4=t=>t==="left"?"right":t==="right"?"left":t,my=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,by=(t,e)=>Math.min(e||t,t);function vy(t,e){const n=[],a=t.length/e,r=t.length;let i=0;for(;i<r;i+=a)n.push(t[Math.floor(i)]);return n}function E4(t,e,n){const a=t.ticks.length,r=Math.min(e,a-1),i=t._startPixel,s=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(a===1?c=Math.max(l-i,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<i-o||l>s+o)))return l}function C4(t,e){me(t,n=>{const a=n.gc,r=a.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[a[i]];a.splice(0,r)}})}function wo(t){return t.drawTicks?t.tickLength:0}function yy(t,e){if(!t.display)return 0;const n=vt(t.font,e),a=sn(t.padding);return(at(t.text)?t.text.length:1)*n.lineHeight+a.height}function T4(t,e){return ao(t,{scale:e,type:"scale"})}function M4(t,e,n){return ao(t,{tick:n,index:e,type:"tick"})}function O4(t,e,n){let a=Nm(t);return(n&&e!=="right"||!n&&e==="right")&&(a=D4(a)),a}function A4(t,e,n,a){const{top:r,left:i,bottom:s,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,v;const y=s-r,_=o-i;if(t.isHorizontal()){if(f=wt(a,i,o),le(n)){const g=Object.keys(n)[0],m=n[g];v=u[g].getPixelForValue(m)+y-e}else n==="center"?v=(c.bottom+c.top)/2+y-e:v=my(t,n,e);h=o-i}else{if(le(n)){const g=Object.keys(n)[0],m=n[g];f=u[g].getPixelForValue(m)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=my(t,n,e);v=wt(a,s,r),d=n==="left"?-lt:lt}return{titleX:f,titleY:v,maxWidth:h,rotation:d}}class ro extends Hr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:a,_suggestedMax:r}=this;return e=Bn(e,Number.POSITIVE_INFINITY),n=Bn(n,Number.NEGATIVE_INFINITY),a=Bn(a,Number.POSITIVE_INFINITY),r=Bn(r,Number.NEGATIVE_INFINITY),{min:Bn(e,a),max:Bn(n,r),minDefined:kn(e),maxDefined:kn(n)}}getMinMax(e){let{min:n,max:a,minDefined:r,maxDefined:i}=this.getUserBounds(),s;if(r&&i)return{min:n,max:a};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)s=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,s.min)),i||(a=Math.max(a,s.max));return n=i&&n>a?a:n,a=r&&n>a?n:a,{min:Bn(n,Bn(a,n)),max:Bn(a,Bn(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(e,n,a){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eP(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?vy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=y4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,e=!e),this._startPixel=n,this._endPixel=a,this._reversePixels=e,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),De(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let a,r,i;for(a=0,r=e.length;a<r;a++)i=e[a],i.label=De(n.callback,[i.value,a,e],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,a=by(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let s=r,o,l,c;if(!this._isVisible()||!n.display||r>=i||a<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Ut(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/a:f/(a-1),d+6>o&&(o=f/(a-(e.offset?.5:1)),l=this.maxHeight-wo(e.grid)-n.padding-yy(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),s=ML(Math.min(Math.asin(Ut((u.highest.height+6)/o,-1,1)),Math.asin(Ut(l/c,-1,1))-Math.asin(Ut(h/c,-1,1)))),s=Math.max(r,Math.min(i,s))),this.labelRotation=s}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:a,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=yy(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=wo(i)+l):(e.height=this.maxHeight,e.width=wo(i)+l),a.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=a.padding*2,v=Ea(this.labelRotation),y=Math.cos(v),_=Math.sin(v);if(o){const g=a.mirror?0:_*d.width+y*h.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=a.mirror?0:y*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,_,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,a,r){const{ticks:{align:i,padding:s},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=r*e.width,f=a*n.height):(h=a*e.height,f=r*n.width):i==="start"?f=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,a;for(n=0,a=e.length;n<a;n++)ue(e[n].label)&&(e.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=vy(a,n)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,a){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],l=Math.floor(n/by(n,a));let c=0,u=0,d,h,f,v,y,_,g,m,b,x,D;for(d=0;d<n;d+=l){if(v=e[d].label,y=this._resolveTickFontOptions(d),r.font=_=y.string,g=i[_]=i[_]||{data:{},gc:[]},m=y.lineHeight,b=x=0,!ue(v)&&!at(v))b=Gv(r,g.data,g.gc,b,v),x=m;else if(at(v))for(h=0,f=v.length;h<f;++h)D=v[h],!ue(D)&&!at(D)&&(b=Gv(r,g.data,g.gc,b,D),x+=m);s.push(b),o.push(x),c=Math.max(b,c),u=Math.max(x,u)}C4(i,n);const k=s.indexOf(c),S=o.indexOf(u),E=T=>({width:s[T]||0,height:o[T]||0});return{first:E(0),last:E(n-1),widest:E(k),highest:E(S),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return AL(this._alignToPixels?qr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const a=n[e];return a.$context||(a.$context=M4(this.getContext(),e,a))}return this.$context||(this.$context=T4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ea(this.labelRotation),a=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,o=i?i.widest.width+s:0,l=i?i.highest.height+s:0;return this.isHorizontal()?l*a>o*r?o/a:l/r:l*r<o*a?l/a:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,a=this.chart,r=this.options,{grid:i,position:s,border:o}=r,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=wo(i),f=[],v=o.setContext(this.getContext()),y=v.display?v.width:0,_=y/2,g=function(O){return qr(a,O,y)};let m,b,x,D,k,S,E,T,R,M,C,L;if(s==="top")m=g(this.bottom),S=this.bottom-h,T=m-_,M=g(e.top)+_,L=e.bottom;else if(s==="bottom")m=g(this.top),M=e.top,L=g(e.bottom)-_,S=m+_,T=this.top+h;else if(s==="left")m=g(this.right),k=this.right-h,E=m-_,R=g(e.left)+_,C=e.right;else if(s==="right")m=g(this.left),R=e.left,C=g(e.right)-_,k=m+_,E=this.left+h;else if(n==="x"){if(s==="center")m=g((e.top+e.bottom)/2+.5);else if(le(s)){const O=Object.keys(s)[0],A=s[O];m=g(this.chart.scales[O].getPixelForValue(A))}M=e.top,L=e.bottom,S=m+_,T=S+h}else if(n==="y"){if(s==="center")m=g((e.left+e.right)/2);else if(le(s)){const O=Object.keys(s)[0],A=s[O];m=g(this.chart.scales[O].getPixelForValue(A))}k=m-_,E=k-h,R=e.left,C=e.right}const H=oe(r.ticks.maxTicksLimit,d),U=Math.max(1,Math.ceil(d/H));for(b=0;b<d;b+=U){const O=this.getContext(b),A=i.setContext(O),N=o.setContext(O),B=A.lineWidth,I=A.color,q=N.dash||[],Te=N.dashOffset,ge=A.tickWidth,de=A.tickColor,ze=A.tickBorderDash||[],Ye=A.tickBorderDashOffset;x=E4(this,b,l),x!==void 0&&(D=qr(a,x,B),c?k=E=R=C=D:S=T=M=L=D,f.push({tx1:k,ty1:S,tx2:E,ty2:T,x1:R,y1:M,x2:C,y2:L,width:B,color:I,borderDash:q,borderDashOffset:Te,tickWidth:ge,tickColor:de,tickBorderDash:ze,tickBorderDashOffset:Ye}))}return this._ticksLength=d,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,a=this.options,{position:r,ticks:i}=a,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,h=wo(a.grid),f=h+u,v=d?-u:f,y=-Ea(this.labelRotation),_=[];let g,m,b,x,D,k,S,E,T,R,M,C,L="middle";if(r==="top")k=this.bottom-v,S=this._getXAxisLabelAlignment();else if(r==="bottom")k=this.top+v,S=this._getXAxisLabelAlignment();else if(r==="left"){const U=this._getYAxisLabelAlignment(h);S=U.textAlign,D=U.x}else if(r==="right"){const U=this._getYAxisLabelAlignment(h);S=U.textAlign,D=U.x}else if(n==="x"){if(r==="center")k=(e.top+e.bottom)/2+f;else if(le(r)){const U=Object.keys(r)[0],O=r[U];k=this.chart.scales[U].getPixelForValue(O)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")D=(e.left+e.right)/2-f;else if(le(r)){const U=Object.keys(r)[0],O=r[U];D=this.chart.scales[U].getPixelForValue(O)}S=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const H=this._getLabelSizes();for(g=0,m=o.length;g<m;++g){b=o[g],x=b.label;const U=i.setContext(this.getContext(g));E=this.getPixelForTick(g)+i.labelOffset,T=this._resolveTickFontOptions(g),R=T.lineHeight,M=at(x)?x.length:1;const O=M/2,A=U.color,N=U.textStrokeColor,B=U.textStrokeWidth;let I=S;s?(D=E,S==="inner"&&(g===m-1?I=this.options.reverse?"left":"right":g===0?I=this.options.reverse?"right":"left":I="center"),r==="top"?c==="near"||y!==0?C=-M*R+R/2:c==="center"?C=-H.highest.height/2-O*R+R:C=-H.highest.height+R/2:c==="near"||y!==0?C=R/2:c==="center"?C=H.highest.height/2-O*R:C=H.highest.height-M*R,d&&(C*=-1),y!==0&&!U.showLabelBackdrop&&(D+=R/2*Math.sin(y))):(k=E,C=(1-M)*R/2);let q;if(U.showLabelBackdrop){const Te=sn(U.backdropPadding),ge=H.heights[g],de=H.widths[g];let ze=C-Te.top,Ye=0-Te.left;switch(L){case"middle":ze-=ge/2;break;case"bottom":ze-=ge;break}switch(S){case"center":Ye-=de/2;break;case"right":Ye-=de;break;case"inner":g===m-1?Ye-=de:g>0&&(Ye-=de/2);break}q={left:Ye,top:ze,width:de+Te.width,height:ge+Te.height,color:U.backdropColor}}_.push({label:x,font:T,textOffset:C,options:{rotation:y,color:A,strokeColor:N,strokeWidth:B,textAlign:I,textBaseline:L,translation:[D,k],backdrop:q}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ea(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:a,mirror:r,padding:i}}=this.options,s=this._getLabelSizes(),o=e+i,l=s.widest.width;let c,u;return n==="left"?r?(u=this.right+i,a==="near"?c="left":a==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,a==="near"?c="right":a==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+i,a==="near"?c="right":a==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,a==="near"?c="left":a==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:a,top:r,width:i,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(a,r,i,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const o=(l,c,u)=>{!u.width||!u.color||(a.save(),a.lineWidth=u.width,a.strokeStyle=u.color,a.setLineDash(u.borderDash||[]),a.lineDashOffset=u.borderDashOffset,a.beginPath(),a.moveTo(l.x,l.y),a.lineTo(c.x,c.y),a.stroke(),a.restore())};if(n.display)for(i=0,s=r.length;i<s;++i){const l=r[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:a,grid:r}}=this,i=a.setContext(this.getContext()),s=a.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=qr(e,this.left,s)-s/2,u=qr(e,this.right,o)+o/2,d=h=l):(d=qr(e,this.top,s)-s/2,h=qr(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&Pm(a,r);const i=this.getLabelItems(e);for(const s of i){const o=s.options,l=s.font,c=s.label,u=s.textOffset;Cl(a,c,0,u,l,o)}r&&zm(a)}drawTitle(){const{ctx:e,options:{position:n,title:a,reverse:r}}=this;if(!a.display)return;const i=vt(a.font),s=sn(a.padding),o=a.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||le(n)?(l+=s.bottom,at(a.text)&&(l+=i.lineHeight*(a.text.length-1))):l+=s.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=A4(this,l,n,o);Cl(e,a.text,0,0,i,{color:a.color,maxWidth:d,rotation:h,textAlign:O4(o,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,a=oe(e.grid&&e.grid.z,-1),r=oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ro.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:a,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];o[a]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return vt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Lc{constructor(e,n,a){this.type=e,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let a;j4(n)&&(a=this.register(n));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,R4(e,s,a),this.override&&qe.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,a=e.id,r=this.scope;a in n&&delete n[a],r&&a in qe[r]&&(delete qe[r][a],this.override&&delete ki[a])}}function R4(t,e,n){const a=na(Object.create(null),[n?qe.get(n):{},qe.get(e),t.defaults]);qe.set(e,a),t.defaultRoutes&&N4(e,t.defaultRoutes),t.descriptors&&qe.describe(e,t.descriptors)}function N4(t,e){Object.keys(e).forEach(n=>{const a=n.split("."),r=a.pop(),i=[t].concat(a).join("."),s=e[n].split("."),o=s.pop(),l=s.join(".");qe.route(i,r,l,o)})}function j4(t){return"id"in t&&"defaults"in t}class L4{constructor(){this.controllers=new Lc(ws,"datasets",!0),this.elements=new Lc(Hr,"elements"),this.plugins=new Lc(Object,"plugins"),this.scales=new Lc(ro,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,a){[...n].forEach(r=>{const i=a||this._getRegistryForType(r);a||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):me(r,s=>{const o=a||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,n,a){const r=Am(e);De(a["before"+r],[],a),n[e](a),De(a["after"+r],[],a)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(e))return a}return this.plugins}_get(e,n,a){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return r}}var In=new L4;class P4{constructor(){this._init=void 0}notify(e,n,a,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,n,a);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),s}_notify(e,n,a,r){r=r||{};for(const i of e){const s=i.plugin,o=s[a],l=[n,r,i.options];if(De(o,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const a=e&&e.config,r=oe(a.options&&a.options.plugins,{}),i=z4(a);return r===!1&&!n?[]:H4(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],a=this._cache,r=(i,s)=>i.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,a),e,"stop"),this._notify(r(a,n),e,"start")}}function z4(t){const e={},n=[],a=Object.keys(In.plugins.items);for(let i=0;i<a.length;i++)n.push(In.getPlugin(a[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const s=r[i];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function B4(t,e){return!e&&t===!1?null:t===!0?{}:t}function H4(t,{plugins:e,localIds:n},a,r){const i=[],s=t.getContext();for(const o of e){const l=o.id,c=B4(a[l],r);c!==null&&i.push({plugin:o,options:U4(t.config,{plugin:o,local:n[l]},c,s)})}return i}function U4(t,{plugin:e,local:n},a,r){const i=t.pluginScopeKeys(e),s=t.getOptionScopes(a,i);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vp(t,e){const n=qe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function I4(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Y4(t,e){return t===e?"_index_":"_value_"}function _y(t){if(t==="x"||t==="y"||t==="r")return t}function $4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wp(t,...e){if(_y(t))return t;for(const n of e){const a=n.axis||$4(n.position)||t.length>1&&_y(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function xy(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function F4(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(n.length)return xy(t,"x",n[0])||xy(t,"y",n[0])}return{}}function q4(t,e){const n=ki[t.type]||{scales:{}},a=e.scales||{},r=Vp(t.type,e),i=Object.create(null);return Object.keys(a).forEach(s=>{const o=a[s];if(!le(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=Wp(s,o,F4(s,t),qe.scales[o.type]),c=Y4(l,r),u=n.scales||{};i[s]=el(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(s=>{const o=s.type||t.type,l=s.indexAxis||Vp(o,e),u=(ki[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=I4(d,l),f=s[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),el(i[f],[{axis:h},a[f],u[d]])})}),Object.keys(i).forEach(s=>{const o=i[s];el(o,[qe.scales[o.type],qe.scale])}),i}function c1(t){const e=t.options||(t.options={});e.plugins=oe(e.plugins,{}),e.scales=q4(t,e)}function u1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function V4(t){return t=t||{},t.data=u1(t.data),c1(t),t}const wy=new Map,d1=new Set;function Pc(t,e){let n=wy.get(t);return n||(n=e(),wy.set(t,n),d1.add(n)),n}const So=(t,e,n)=>{const a=Si(e,n);a!==void 0&&t.add(a)};class W4{constructor(e){this._config=V4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=u1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),c1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Pc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Pc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,a=this.type;return Pc(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const a=this._scopeCache;let r=a.get(e);return(!r||n)&&(r=new Map,a.set(e,r)),r}getOptionScopes(e,n,a){const{options:r,type:i}=this,s=this._cachedScopes(e,a),o=s.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>So(l,e,d))),u.forEach(d=>So(l,r,d)),u.forEach(d=>So(l,ki[i]||{},d)),u.forEach(d=>So(l,qe,d)),u.forEach(d=>So(l,Fp,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),d1.has(n)&&s.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ki[n]||{},qe.datasets[n]||{},{type:n},qe,Fp]}resolveNamedOptions(e,n,a,r=[""]){const i={$shared:!0},{resolver:s,subPrefixes:o}=Sy(this._resolverCache,e,r);let l=s;if(G4(s,n)){i.$shared=!1,a=Nr(a)?a():a;const c=this.createResolver(e,a,o);l=Ys(s,a,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,a=[""],r){const{resolver:i}=Sy(this._resolverCache,e,a);return le(n)?Ys(i,n,void 0,r):i}}function Sy(t,e,n){let a=t.get(e);a||(a=new Map,t.set(e,a));const r=n.join();let i=a.get(r);return i||(i={resolver:Hm(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},a.set(r,i)),i}const K4=t=>le(t)&&Object.getOwnPropertyNames(t).some(e=>Nr(t[e]));function G4(t,e){const{isScriptable:n,isIndexable:a}=Gk(t);for(const r of e){const i=n(r),s=a(r),o=(s||i)&&t[r];if(i&&(Nr(o)||K4(o))||s&&at(o))return!0}return!1}var Q4="4.5.1";const X4=["top","bottom","left","right","chartArea"];function ky(t,e){return t==="top"||t==="bottom"||X4.indexOf(t)===-1&&e==="x"}function Dy(t,e){return function(n,a){return n[t]===a[t]?n[e]-a[e]:n[t]-a[t]}}function Ey(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),De(n&&n.onComplete,[t],e)}function J4(t){const e=t.chart,n=e.options.animation;De(n&&n.onProgress,[t],e)}function h1(t){return Ym()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const mu={},Cy=t=>{const e=h1(t);return Object.values(mu).filter(n=>n.canvas===e).pop()};function Z4(t,e,n){const a=Object.keys(t);for(const r of a){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function e6(t,e,n,a){return!n||t.type==="mouseout"?null:a?e:t}var Xa;let ih=(Xa=class{static register(...e){In.add(...e),Ty()}static unregister(...e){In.remove(...e),Ty()}constructor(e,n){const a=this.config=new W4(n),r=h1(e),i=Cy(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||v4(r)),this.platform.updateConfig(a);const o=this.platform.acquireContext(r,s.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=bL(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new P4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=LL(d=>this.update(d),s.resizeDelay||0),this._dataChanges=[],mu[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ma.listen(this,"complete",Ey),ma.listen(this,"progress",J4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:a,height:r,_aspectRatio:i}=this;return ue(e)?n&&i?i:r?a/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return In}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qv(this.canvas,this.ctx),this}stop(){return ma.stop(this),this}resize(e,n){ma.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const a=this.options,r=this.canvas,i=a.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,n,i),o=a.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Zv(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),De(a.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};me(n,(a,r)=>{a.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,a=this.scales,r=Object.keys(a).reduce((s,o)=>(s[o]=!1,s),{});let i=[];n&&(i=i.concat(Object.keys(n).map(s=>{const o=n[s],l=Wp(s,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),me(i,s=>{const o=s.options,l=o.id,c=Wp(l,o),u=oe(o.type,s.dtype);(o.position===void 0||ky(o.position,c)!==ky(s.dposition))&&(o.position=s.dposition),r[l]=!0;let d=null;if(l in a&&a[l].type===u)d=a[l];else{const h=In.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),a[d.id]=d}d.init(o,e)}),me(r,(s,o)=>{s||delete a[o]}),me(a,s=>{vn.configure(this,s,s.options),vn.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,a=e.length;if(e.sort((r,i)=>r.index-i.index),a>n){for(let r=n;r<a;++r)this._destroyDatasetMeta(r);e.splice(n,a-n)}this._sortedMetasets=e.slice(0).sort(Dy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((a,r)=>{n.filter(i=>i===a._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let a,r;for(this._removeUnreferencedMetasets(),a=0,r=n.length;a<r;a++){const i=n[a];let s=this.getDatasetMeta(a);const o=i.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(a),s=this.getDatasetMeta(a)),s.type=o,s.indexAxis=i.indexAxis||Vp(o,this.options),s.order=i.order||0,s.index=a,s.label=""+i.label,s.visible=this.isDatasetVisible(a),s.controller)s.controller.updateIndex(a),s.controller.linkScales();else{const l=In.getController(o),{datasetElementType:c,dataElementType:u}=qe.datasets[o];Object.assign(l,{dataElementType:In.getElement(u),datasetElementType:c&&In.getElement(c)}),s.controller=new l(this,a),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){me(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!r&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),s=Math.max(+d.getMaxOverflow(),s)}s=this._minPadding=a.layout.autoPadding?s:0,this._updateLayout(s),r||me(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dy("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){me(this.scales,e=>{vn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!Uv(n,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:r,count:i}of n){const s=a==="_removeElements"?-i:i;Z4(e,r,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=i=>new Set(e.filter(s=>s[0]===i).map((s,o)=>o+","+s.splice(1).join(","))),r=a(0);for(let i=1;i<n;i++)if(!Uv(r,a(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vn.update(this,this.width,this.height,e);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],me(this.boxes,r=>{a&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Nr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const a=this.getDatasetMeta(e),r={meta:a,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(a.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ma.has(this)?this.attached&&!ma.running(this)&&ma.start(this):(this.draw(),Ey({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,a=[];let r,i;for(r=0,i=n.length;r<i;++r){const s=n[r];(!e||s.visible)&&a.push(s)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,a={meta:e,index:e.index,cancelable:!0},r=_P(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&Pm(n,r),e.controller.draw(),r&&zm(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Lm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,a,r){const i=XP.modes[n];return typeof i=="function"?i(this,e,a,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],a=this._metasets;let r=a.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(e,n){const a=this.getDatasetMeta(e);a.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,a){const r=a?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);El(n)?(i.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),s.update(i,{visible:a}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ma.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Qv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete mu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,a=(i,s)=>{n.addEventListener(this,i,s),e[i]=s},r=(i,s,o)=>{i.offsetX=s,i.offsetY=o,this._eventHandler(i)};me(this.options.events,i=>a(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,a=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),a("resize",i),a("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),a("attach",o)},n.isAttached(this.canvas)?o():s()}unbindEvents(){me(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},me(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,a){const r=a?"set":"remove";let i,s,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){s=e[o];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],a=e.map(({datasetIndex:i,index:s})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[s],index:s}});!dd(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(e,n,a){return this._plugins.notify(this,e,n,a)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,a){const r=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),s=i(n,e),o=a?e:i(e,n);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const a={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,r)===!1)return;const i=this._handleEvent(e,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(i||a.changed)&&this.render(),this}_handleEvent(e,n,a){const{_active:r=[],options:i}=this,s=n,o=this._getActiveElements(e,r,a,s),l=SL(e),c=e6(e,this._lastEvent,a,l);a&&(this._lastEvent=null,De(i.onHover,[e,o,this],this),l&&De(i.onClick,[e,o,this],this));const u=!dd(o,r);return(u||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,a,r){if(e.type==="mouseout")return[];if(!a)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},P(Xa,"defaults",qe),P(Xa,"instances",mu),P(Xa,"overrides",ki),P(Xa,"registry",In),P(Xa,"version",Q4),P(Xa,"getChart",Cy),Xa);function Ty(){return me(ih.instances,t=>t._plugins.invalidate())}function t6(t,e,n){const{startAngle:a,x:r,y:i,outerRadius:s,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,$n(a-n));if(t.beginPath(),t.arc(r,i,s-c/2,a+d/2,n-d/2),o>0){const h=Math.min(c/o,$n(a-n));t.arc(r,i,o+c/2,n-h/2,a+h/2,!0)}else{const h=Math.min(c/2,s*$n(a-n));if(u==="round")t.arc(r,i,h,n-Ee/2,a+Ee/2,!0);else if(u==="bevel"){const f=2*h*h,v=-f*Math.cos(n+Ee/2)+r,y=-f*Math.sin(n+Ee/2)+i,_=f*Math.cos(a+Ee/2)+r,g=f*Math.sin(a+Ee/2)+i;t.lineTo(v,y),t.lineTo(_,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function n6(t,e,n){const{startAngle:a,pixelMargin:r,x:i,y:s,outerRadius:o,innerRadius:l}=e;let c=r/o;t.beginPath(),t.arc(i,s,o,a-c,n+c),l>r?(c=r/l,t.arc(i,s,l,n+c,a-c,!0)):t.arc(i,s,r,n+lt,a-lt),t.closePath(),t.clip()}function a6(t){return Bm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function r6(t,e,n,a){const r=a6(t.options.borderRadius),i=(n-e)/2,s=Math.min(i,a*e/2),o=l=>{const c=(n-Math.min(i,l))*a/2;return Ut(l,0,Math.min(i,c))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:Ut(r.innerStart,0,s),innerEnd:Ut(r.innerEnd,0,s)}}function Fi(t,e,n,a){return{x:n+t*Math.cos(e),y:a+t*Math.sin(e)}}function yd(t,e,n,a,r,i){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+a+n-c,0),h=u>0?u+a+n+c:0;let f=0;const v=r-l;if(a){const U=u>0?u-a:0,O=d>0?d-a:0,A=(U+O)/2,N=A!==0?v*A/(A+a):v;f=(v-N)/2}const y=Math.max(.001,v*d-n/Ee)/d,_=(v-y)/2,g=l+_+f,m=r-_-f,{outerStart:b,outerEnd:x,innerStart:D,innerEnd:k}=r6(e,h,d,m-g),S=d-b,E=d-x,T=g+b/S,R=m-x/E,M=h+D,C=h+k,L=g+D/M,H=m-k/C;if(t.beginPath(),i){const U=(T+R)/2;if(t.arc(s,o,d,T,U),t.arc(s,o,d,U,R),x>0){const B=Fi(E,R,s,o);t.arc(B.x,B.y,x,R,m+lt)}const O=Fi(C,m,s,o);if(t.lineTo(O.x,O.y),k>0){const B=Fi(C,H,s,o);t.arc(B.x,B.y,k,m+lt,H+Math.PI)}const A=(m-k/h+(g+D/h))/2;if(t.arc(s,o,h,m-k/h,A,!0),t.arc(s,o,h,A,g+D/h,!0),D>0){const B=Fi(M,L,s,o);t.arc(B.x,B.y,D,L+Math.PI,g-lt)}const N=Fi(S,g,s,o);if(t.lineTo(N.x,N.y),b>0){const B=Fi(S,T,s,o);t.arc(B.x,B.y,b,g-lt,T)}}else{t.moveTo(s,o);const U=Math.cos(T)*d+s,O=Math.sin(T)*d+o;t.lineTo(U,O);const A=Math.cos(R)*d+s,N=Math.sin(R)*d+o;t.lineTo(A,N)}t.closePath()}function i6(t,e,n,a,r){const{fullCircles:i,startAngle:s,circumference:o}=e;let l=e.endAngle;if(i){yd(t,e,n,a,l,r);for(let c=0;c<i;++c)t.fill();isNaN(o)||(l=s+(o%it||it))}return yd(t,e,n,a,l,r),t.fill(),l}function s6(t,e,n,a,r){const{fullCircles:i,startAngle:s,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,v=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,v?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let y=e.endAngle;if(i){yd(t,e,n,a,y,r);for(let _=0;_<i;++_)t.stroke();isNaN(o)||(y=s+(o%it||it))}v&&n6(t,e,y),l.selfJoin&&y-s>=Ee&&f===0&&u!=="miter"&&t6(t,e,y),i||(yd(t,e,n,a,y,r),t.stroke())}class cs extends Hr{constructor(n){super();P(this,"circumference");P(this,"endAngle");P(this,"fullCircles");P(this,"innerRadius");P(this,"outerRadius");P(this,"pixelMargin");P(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,a,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=Uk(i,{x:n,y:a}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,v=oe(h,c-l),y=gd(s,l,c)&&l!==c,_=v>=it||y,g=si(o,u+f,d+f);return _&&g}getCenterPoint(n){const{x:a,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(i+s)/2,h=(o+l+u+c)/2;return{x:a+Math.cos(d)*h,y:r+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:a,circumference:r}=this,i=(a.offset||0)/4,s=(a.spacing||0)/2,o=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>it?Math.floor(r/it):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(Ee,r||0)),u=i*c;n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,i6(n,this,u,s,o),s6(n,this,u,s,o),n.restore()}}P(cs,"id","arc"),P(cs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),P(cs,"defaultRoutes",{backgroundColor:"backgroundColor"}),P(cs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function My(t,e,n,a){const r=t.options,{[n]:i}=t.getProps([n],a);return Math.abs(e-i)<r.radius+r.hitRadius}class bu extends Hr{constructor(n){super();P(this,"parsed");P(this,"skip");P(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,a,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(n-s,2)+Math.pow(a-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,a){return My(this,n,"x",a)}inYRange(n,a){return My(this,n,"y",a)}getCenterPoint(n){const{x:a,y:r}=this.getProps(["x","y"],n);return{x:a,y:r}}size(n){n=n||this.options||{};let a=n.radius||0;a=Math.max(a,a&&n.hoverRadius||0);const r=a&&n.borderWidth||0;return(a+r)*2}draw(n,a){const r=this.options;this.skip||r.radius<.1||!Lm(this,a,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,qp(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}P(bu,"id","point"),P(bu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),P(bu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function f1(t,e){const{x:n,y:a,base:r,width:i,height:s}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=s/2,o=Math.min(n,r),l=Math.max(n,r),c=a-d,u=a+d):(d=i/2,o=n-d,l=n+d,c=Math.min(a,r),u=Math.max(a,r)),{left:o,top:c,right:l,bottom:u}}function fr(t,e,n,a){return t?0:Ut(e,n,a)}function o6(t,e,n){const a=t.options.borderWidth,r=t.borderSkipped,i=Kk(a);return{t:fr(r.top,i.top,0,n),r:fr(r.right,i.right,0,e),b:fr(r.bottom,i.bottom,0,n),l:fr(r.left,i.left,0,e)}}function l6(t,e,n){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=_s(r),s=Math.min(e,n),o=t.borderSkipped,l=a||le(r);return{topLeft:fr(!l||o.top||o.left,i.topLeft,0,s),topRight:fr(!l||o.top||o.right,i.topRight,0,s),bottomLeft:fr(!l||o.bottom||o.left,i.bottomLeft,0,s),bottomRight:fr(!l||o.bottom||o.right,i.bottomRight,0,s)}}function c6(t){const e=f1(t),n=e.right-e.left,a=e.bottom-e.top,r=o6(t,n/2,a/2),i=l6(t,n/2,a/2);return{outer:{x:e.left,y:e.top,w:n,h:a,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Sf(t,e,n,a){const r=e===null,i=n===null,o=t&&!(r&&i)&&f1(t,a);return o&&(r||si(e,o.left,o.right))&&(i||si(n,o.top,o.bottom))}function u6(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function d6(t,e){t.rect(e.x,e.y,e.w,e.h)}function kf(t,e,n={}){const a=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-a,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+a,y:t.y+r,w:t.w+i,h:t.h+s,radius:t.radius}}class al extends Hr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:a,backgroundColor:r}}=this,{inner:i,outer:s}=c6(this),o=u6(s.radius)?md:d6;e.save(),(s.w!==i.w||s.h!==i.h)&&(e.beginPath(),o(e,kf(s,n,i)),e.clip(),o(e,kf(i,-n,s)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),o(e,kf(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,a){return Sf(this,e,n,a)}inXRange(e,n){return Sf(this,e,null,n)}inYRange(e,n){return Sf(this,null,e,n)}getCenterPoint(e){const{x:n,y:a,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?a:(a+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}P(al,"id","bar"),P(al,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),P(al,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Oy=(t,e)=>{let{boxHeight:n=e,boxWidth:a=e}=t;return t.usePointStyle&&(n=Math.min(n,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(e,n)}},h6=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ay extends Hr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,a){this.maxWidth=e,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=De(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(a=>e.filter(a,this.chart.data))),e.sort&&(n=n.sort((a,r)=>e.sort(a,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,r=vt(a.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Oy(a,i);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,i,o,l)+10):(u=this.maxHeight,c=this._fitCols(s,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,a,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+o;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((v,y)=>{const _=a+n/2+i.measureText(v.text).width;(y===0||c[c.length-1]+_+2*o>s)&&(d+=u,c[c.length-(y>0?0:1)]=0,f+=u,h++),l[y]={left:0,top:f,row:h,width:_,height:r},c[c.length-1]+=_+o}),d}_fitCols(e,n,a,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e;let d=o,h=0,f=0,v=0,y=0;return this.legendItems.forEach((_,g)=>{const{itemWidth:m,itemHeight:b}=f6(a,n,i,_,r);g>0&&f+b+2*o>u&&(d+=h+o,c.push({width:h,height:f}),v+=h+o,y++,h=f=0),l[g]={left:v,top:f,col:y,width:m,height:b},h=Math.max(h,m),f+=b+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:r},rtl:i}}=this,s=xs(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=wt(a,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=wt(a,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let o=0,l=wt(a,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=wt(a,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Pm(e,this),this._draw(),zm(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:a,ctx:r}=this,{align:i,labels:s}=e,o=qe.color,l=xs(e.rtl,this.left,this.width),c=vt(s.font),{padding:u}=s,d=c.size,h=d/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:v,boxHeight:y,itemHeight:_}=Oy(s,d),g=function(k,S,E){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;r.save();const T=oe(E.lineWidth,1);if(r.fillStyle=oe(E.fillStyle,o),r.lineCap=oe(E.lineCap,"butt"),r.lineDashOffset=oe(E.lineDashOffset,0),r.lineJoin=oe(E.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=oe(E.strokeStyle,o),r.setLineDash(oe(E.lineDash,[])),s.usePointStyle){const R={radius:y*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:T},M=l.xPlus(k,v/2),C=S+h;Wk(r,R,M,C,s.pointStyleWidth&&v)}else{const R=S+Math.max((d-y)/2,0),M=l.leftForLtr(k,v),C=_s(E.borderRadius);r.beginPath(),Object.values(C).some(L=>L!==0)?md(r,{x:M,y:R,w:v,h:y,radius:C}):r.rect(M,R,v,y),r.fill(),T!==0&&r.stroke()}r.restore()},m=function(k,S,E){Cl(r,E.text,k,S+_/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},b=this.isHorizontal(),x=this._computeTitleHeight();b?f={x:wt(i,this.left+u,this.right-a[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:wt(i,this.top+x+u,this.bottom-n[0].height),line:0},Zk(this.ctx,e.textDirection);const D=_+u;this.legendItems.forEach((k,S)=>{r.strokeStyle=k.fontColor,r.fillStyle=k.fontColor;const E=r.measureText(k.text).width,T=l.textAlign(k.textAlign||(k.textAlign=s.textAlign)),R=v+h+E;let M=f.x,C=f.y;l.setWidth(this.width),b?S>0&&M+R+u>this.right&&(C=f.y+=D,f.line++,M=f.x=wt(i,this.left+u,this.right-a[f.line])):S>0&&C+D>this.bottom&&(M=f.x=M+n[f.line].width+u,f.line++,C=f.y=wt(i,this.top+x+u,this.bottom-n[f.line].height));const L=l.x(M);if(g(L,C,k),M=PL(T,M+v+h,b?M+R:this.right,e.rtl),m(l.x(M),C,k),b)f.x+=R+u;else if(typeof k.text!="string"){const H=c.lineHeight;f.y+=p1(k,H)+u}else f.y+=D}),e1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,a=vt(n.font),r=sn(n.padding);if(!n.display)return;const i=xs(e.rtl,this.left,this.width),s=this.ctx,o=n.position,l=a.size/2,c=r.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=wt(e.align,d,this.right-h);else{const v=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);u=c+wt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const f=wt(o,d,d+h);s.textAlign=i.textAlign(Nm(o)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=a.string,Cl(s,n.text,f,u,a)}_computeTitleHeight(){const e=this.options.title,n=vt(e.font),a=sn(e.padding);return e.display?n.lineHeight+a.height:0}_getLegendItemAt(e,n){let a,r,i;if(si(e,this.left,this.right)&&si(n,this.top,this.bottom)){for(i=this.legendHitBoxes,a=0;a<i.length;++a)if(r=i[a],si(e,r.left,r.left+r.width)&&si(n,r.top,r.top+r.height))return this.legendItems[a]}return null}handleEvent(e){const n=this.options;if(!m6(e.type,n))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=h6(r,a);r&&!i&&De(n.onLeave,[e,r,this],this),this._hoveredItem=a,a&&!i&&De(n.onHover,[e,a,this],this)}else a&&De(n.onClick,[e,a,this],this)}}function f6(t,e,n,a,r){const i=p6(a,t,e,n),s=g6(r,a,e.lineHeight);return{itemWidth:i,itemHeight:s}}function p6(t,e,n,a){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,s)=>i.length>s.length?i:s)),e+n.size/2+a.measureText(r).width}function g6(t,e,n){let a=t;return typeof e.text!="string"&&(a=p1(e,n)),a}function p1(t,e){const n=t.text?t.text.length:0;return e*n}function m6(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var b6={id:"legend",_element:Ay,start(t,e,n){const a=t.legend=new Ay({ctx:t.ctx,options:n,chart:t});vn.configure(t,a,n),vn.addBox(t,a)},stop(t){vn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const a=t.legend;vn.configure(t,a,n),a.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const a=e.datasetIndex,r=n.chart;r.isDatasetVisible(a)?(r.hide(a),e.hidden=!0):(r.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:r,color:i,useBorderRadius:s,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=sn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:a||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class g1 extends Hr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=at(a.text)?a.text.length:1;this._padding=sn(a.padding);const i=r*vt(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:a,bottom:r,right:i,options:s}=this,o=s.align;let l=0,c,u,d;return this.isHorizontal()?(u=wt(o,a,i),d=n+e,c=i-a):(s.position==="left"?(u=a+e,d=wt(o,r,n),l=Ee*-.5):(u=i-e,d=wt(o,n,r),l=Ee*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const a=vt(n.font),i=a.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(i);Cl(e,n.text,0,0,a,{color:n.color,maxWidth:l,rotation:c,textAlign:Nm(n.align),textBaseline:"middle",translation:[s,o]})}}function v6(t,e){const n=new g1({ctx:t.ctx,options:e,chart:t});vn.configure(t,n,e),vn.addBox(t,n),t.titleBlock=n}var y6={id:"title",_element:g1,start(t,e,n){v6(t,n)},stop(t){const e=t.titleBlock;vn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const a=t.titleBlock;vn.configure(t,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lo={average(t){if(!t.length)return!1;let e,n,a=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();a.add(l.x),r+=l.y,++i}}return i===0||a.size===0?!1:{x:[...a].reduce((o,l)=>o+l)/a.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,a=e.y,r=Number.POSITIVE_INFINITY,i,s,o;for(i=0,s=t.length;i<s;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=OL(e,c);u<r&&(r=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,a=l.y}return{x:n,y:a}}};function Hn(t,e){return e&&(at(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ba(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _6(t,e){const{element:n,datasetIndex:a,index:r}=e,i=t.getDatasetMeta(a).controller,{label:s,value:o}=i.getLabelAndValue(r);return{chart:t,label:s,parsed:i.getParsed(r),raw:t.data.datasets[a].data[r],formattedValue:o,dataset:i.getDataset(),dataIndex:r,datasetIndex:a,element:n}}function Ry(t,e){const n=t.chart.ctx,{body:a,footer:r,title:i}=t,{boxWidth:s,boxHeight:o}=e,l=vt(e.bodyFont),c=vt(e.titleFont),u=vt(e.footerFont),d=i.length,h=r.length,f=a.length,v=sn(e.padding);let y=v.height,_=0,g=a.reduce((x,D)=>x+D.before.length+D.lines.length+D.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const x=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=f*x+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}h&&(y+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let m=0;const b=function(x){_=Math.max(_,n.measureText(x).width+m)};return n.save(),n.font=c.string,me(t.title,b),n.font=l.string,me(t.beforeBody.concat(t.afterBody),b),m=e.displayColors?s+2+e.boxPadding:0,me(a,x=>{me(x.before,b),me(x.lines,b),me(x.after,b)}),m=0,n.font=u.string,me(t.footer,b),n.restore(),_+=v.width,{width:_,height:y}}function x6(t,e){const{y:n,height:a}=e;return n<a/2?"top":n>t.height-a/2?"bottom":"center"}function w6(t,e,n,a){const{x:r,width:i}=a,s=n.caretSize+n.caretPadding;if(t==="left"&&r+i+s>e.width||t==="right"&&r-i-s<0)return!0}function S6(t,e,n,a){const{x:r,width:i}=n,{width:s,chartArea:{left:o,right:l}}=t;let c="center";return a==="center"?c=r<=(o+l)/2?"left":"right":r<=i/2?c="left":r>=s-i/2&&(c="right"),w6(c,t,e,n)&&(c="center"),c}function Ny(t,e,n){const a=n.yAlign||e.yAlign||x6(t,n);return{xAlign:n.xAlign||e.xAlign||S6(t,e,n,a),yAlign:a}}function k6(t,e){let{x:n,width:a}=t;return e==="right"?n-=a:e==="center"&&(n-=a/2),n}function D6(t,e,n){let{y:a,height:r}=t;return e==="top"?a+=n:e==="bottom"?a-=r+n:a-=r/2,a}function jy(t,e,n,a){const{caretSize:r,caretPadding:i,cornerRadius:s}=t,{xAlign:o,yAlign:l}=n,c=r+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=_s(s);let v=k6(e,o);const y=D6(e,l,c);return l==="center"?o==="left"?v+=c:o==="right"&&(v-=c):o==="left"?v-=Math.max(u,h)+r:o==="right"&&(v+=Math.max(d,f)+r),{x:Ut(v,0,a.width-e.width),y:Ut(y,0,a.height-e.height)}}function zc(t,e,n){const a=sn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function Ly(t){return Hn([],ba(t))}function E6(t,e,n){return ao(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Py(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const m1={beforeTitle:pa,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return n[e.dataIndex]}return""},afterTitle:pa,beforeBody:pa,beforeLabel:pa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ue(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:pa,afterBody:pa,beforeFooter:pa,footer:pa,afterFooter:pa};function jt(t,e,n,a){const r=t[e].call(n,a);return typeof r>"u"?m1[e].call(n,a):r}class Kp extends Hr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&n.options.animation&&a.animations,i=new t1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=E6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:a}=n,r=jt(a,"beforeTitle",this,e),i=jt(a,"title",this,e),s=jt(a,"afterTitle",this,e);let o=[];return o=Hn(o,ba(r)),o=Hn(o,ba(i)),o=Hn(o,ba(s)),o}getBeforeBody(e,n){return Ly(jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:a}=n,r=[];return me(e,i=>{const s={before:[],lines:[],after:[]},o=Py(a,i);Hn(s.before,ba(jt(o,"beforeLabel",this,i))),Hn(s.lines,jt(o,"label",this,i)),Hn(s.after,ba(jt(o,"afterLabel",this,i))),r.push(s)}),r}getAfterBody(e,n){return Ly(jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:a}=n,r=jt(a,"beforeFooter",this,e),i=jt(a,"footer",this,e),s=jt(a,"afterFooter",this,e);let o=[];return o=Hn(o,ba(r)),o=Hn(o,ba(i)),o=Hn(o,ba(s)),o}_createItems(e){const n=this._active,a=this.chart.data,r=[],i=[],s=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(_6(this.chart,n[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,a))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,a))),me(o,u=>{const d=Py(e.callbacks,u);r.push(jt(d,"labelColor",this,u)),i.push(jt(d,"labelPointStyle",this,u)),s.push(jt(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=o,o}update(e,n){const a=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const o=Lo[a.position].call(this,r,this._eventPosition);s=this._createItems(a),this.title=this.getTitle(s,a),this.beforeBody=this.getBeforeBody(s,a),this.body=this.getBody(s,a),this.afterBody=this.getAfterBody(s,a),this.footer=this.getFooter(s,a);const l=this._size=Ry(this,a),c=Object.assign({},o,l),u=Ny(this.chart,a,c),d=jy(a,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,a,r){const i=this.getCaretPosition(e,a,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,a){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=a,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=_s(o),{x:h,y:f}=e,{width:v,height:y}=n;let _,g,m,b,x,D;return i==="center"?(x=f+y/2,r==="left"?(_=h,g=_-s,b=x+s,D=x-s):(_=h+v,g=_+s,b=x-s,D=x+s),m=_):(r==="left"?g=h+Math.max(l,u)+s:r==="right"?g=h+v-Math.max(c,d)-s:g=this.caretX,i==="top"?(b=f,x=b-s,_=g-s,m=g+s):(b=f+y,x=b+s,_=g+s,m=g-s),D=b),{x1:_,x2:g,x3:m,y1:b,y2:x,y3:D}}drawTitle(e,n,a){const r=this.title,i=r.length;let s,o,l;if(i){const c=xs(a.rtl,this.x,this.width);for(e.x=zc(this,a.titleAlign,a),n.textAlign=c.textAlign(a.titleAlign),n.textBaseline="middle",s=vt(a.titleFont),o=a.titleSpacing,n.fillStyle=a.titleColor,n.font=s.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,l+1===i&&(e.y+=a.titleMarginBottom-o)}}_drawColorBox(e,n,a,r,i){const s=this.labelColors[a],o=this.labelPointStyles[a],{boxHeight:l,boxWidth:c}=i,u=vt(i.bodyFont),d=zc(this,"left",i),h=r.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+f;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},_=r.leftForLtr(h,c)+c/2,g=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,qp(e,y,_,g),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,qp(e,y,_,g)}else{e.lineWidth=le(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const y=r.leftForLtr(h,c),_=r.leftForLtr(r.xPlus(h,1),c-2),g=_s(s.borderRadius);Object.values(g).some(m=>m!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,md(e,{x:y,y:v,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),md(e,{x:_,y:v+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,v,c,l),e.strokeRect(y,v,c,l),e.fillStyle=s.backgroundColor,e.fillRect(_,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,n,a){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=a,d=vt(a.bodyFont);let h=d.lineHeight,f=0;const v=xs(a.rtl,this.x,this.width),y=function(E){n.fillText(E,v.x(e.x+f),e.y+h/2),e.y+=h+i},_=v.textAlign(s);let g,m,b,x,D,k,S;for(n.textAlign=s,n.textBaseline="middle",n.font=d.string,e.x=zc(this,_,a),n.fillStyle=a.bodyColor,me(this.beforeBody,y),f=o&&_!=="right"?s==="center"?c/2+u:c+2+u:0,x=0,k=r.length;x<k;++x){for(g=r[x],m=this.labelTextColors[x],n.fillStyle=m,me(g.before,y),b=g.lines,o&&b.length&&(this._drawColorBox(n,e,x,v,a),h=Math.max(d.lineHeight,l)),D=0,S=b.length;D<S;++D)y(b[D]),h=d.lineHeight;me(g.after,y)}f=0,h=d.lineHeight,me(this.afterBody,y),e.y-=i}drawFooter(e,n,a){const r=this.footer,i=r.length;let s,o;if(i){const l=xs(a.rtl,this.x,this.width);for(e.x=zc(this,a.footerAlign,a),e.y+=a.footerMarginTop,n.textAlign=l.textAlign(a.footerAlign),n.textBaseline="middle",s=vt(a.footerFont),n.fillStyle=a.footerColor,n.font=s.string,o=0;o<i;++o)n.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a.footerSpacing}}drawBackground(e,n,a,r){const{xAlign:i,yAlign:s}=this,{x:o,y:l}=e,{width:c,height:u}=a,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:v}=_s(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+d,l),s==="top"&&this.drawCaret(e,n,a,r),n.lineTo(o+c-h,l),n.quadraticCurveTo(o+c,l,o+c,l+h),s==="center"&&i==="right"&&this.drawCaret(e,n,a,r),n.lineTo(o+c,l+u-v),n.quadraticCurveTo(o+c,l+u,o+c-v,l+u),s==="bottom"&&this.drawCaret(e,n,a,r),n.lineTo(o+f,l+u),n.quadraticCurveTo(o,l+u,o,l+u-f),s==="center"&&i==="left"&&this.drawCaret(e,n,a,r),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,a=this.$animations,r=a&&a.x,i=a&&a.y;if(r||i){const s=Lo[e.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=Ry(this,e),l=Object.assign({},s,this._size),c=Ny(n,e,l),u=jy(e,l,c,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const s=sn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=a,this.drawBackground(i,e,r,n),Zk(e,n.textDirection),i.y+=s.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),e1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const a=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!dd(a,r),s=this._positionChanged(r,n);(i||s)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,n,a),o=this._positionChanged(s,e),l=n||!dd(s,i)||o;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,a,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,i.mode,i,a);return i.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:a,caretY:r,options:i}=this,s=Lo[i.position].call(this,e,n);return s!==!1&&(a!==s.x||r!==s.y)}}P(Kp,"positioners",Lo);var C6={id:"tooltip",_element:Kp,positioners:Lo,afterInit(t,e,n){n&&(t.tooltip=new Kp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const T6=(t,e,n,a)=>(typeof e=="string"?(n=t.push(e)-1,a.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function M6(t,e,n,a){const r=t.indexOf(e);if(r===-1)return T6(t,e,n,a);const i=t.lastIndexOf(e);return r!==i?n:r}const O6=(t,e)=>t===null?null:Ut(Math.round(t),0,e);function zy(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Gp extends ro{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:r,label:i}of n)a[r]===i&&a.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ue(e))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===e?n:M6(a,e,oe(n,e),this._addedLabels),O6(n,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:a,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),n||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){const e=this.min,n=this.max,a=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let s=e;s<=n;s++)r.push({value:s});return r}getLabelForValue(e){return zy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}P(Gp,"id","category"),P(Gp,"defaults",{ticks:{callback:zy}});function A6(t,e){const n=[],{bounds:r,step:i,min:s,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=i||1,v=u-1,{min:y,max:_}=e,g=!ue(s),m=!ue(o),b=!ue(c),x=(_-y)/(d+1);let D=Yv((_-y)/v/f)*f,k,S,E,T;if(D<1e-14&&!g&&!m)return[{value:y},{value:_}];T=Math.ceil(_/D)-Math.floor(y/D),T>v&&(D=Yv(T*D/v/f)*f),ue(l)||(k=Math.pow(10,l),D=Math.ceil(D*k)/k),r==="ticks"?(S=Math.floor(y/D)*D,E=Math.ceil(_/D)*D):(S=y,E=_),g&&m&&i&&CL((o-s)/i,D/1e3)?(T=Math.round(Math.min((o-s)/D,u)),D=(o-s)/T,S=s,E=o):b?(S=g?s:S,E=m?o:E,T=c-1,D=(E-S)/T):(T=(E-S)/D,fu(T,Math.round(T),D/1e3)?T=Math.round(T):T=Math.ceil(T));const R=Math.max($v(D),$v(S));k=Math.pow(10,ue(l)?R:l),S=Math.round(S*k)/k,E=Math.round(E*k)/k;let M=0;for(g&&(h&&S!==s?(n.push({value:s}),S<s&&M++,fu(Math.round((S+M*D)*k)/k,s,By(s,x,t))&&M++):S<s&&M++);M<T;++M){const C=Math.round((S+M*D)*k)/k;if(m&&C>o)break;n.push({value:C})}return m&&h&&E!==o?n.length&&fu(n[n.length-1].value,o,By(o,x,t))?n[n.length-1].value=o:n.push({value:o}):(!m||E===o)&&n.push({value:E}),n}function By(t,e,{horizontal:n,minRotation:a}){const r=Ea(a),i=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/i,s)}class R6 extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:r,max:i}=this;const s=l=>r=n?r:l,o=l=>i=a?i:l;if(e){const l=Er(r),c=Er(i);l<0&&c<0?o(0):l>0&&c>0&&s(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||s(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=e,r;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const r={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,s=A6(r,i);return e.bounds==="ticks"&&TL(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const r=(a-n)/Math.max(e.length-1,1)/2;n-=r,a+=r}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(e){return jm(e,this.chart.options.locale,this.options.ticks.format)}}class Qp extends R6{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kn(e)?e:0,this.max=kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,a=Ea(this.options.ticks.minRotation),r=(e?Math.sin(a):Math.cos(a))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}P(Qp,"id","linear"),P(Qp,"defaults",{ticks:{callback:Vk.formatters.numeric}});const sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ht=Object.keys(sh);function Hy(t,e){return t-e}function Uy(t,e){if(ue(e))return null;const n=t._adapter,{parser:a,round:r,isoWeekday:i}=t._parseOpts;let s=e;return typeof a=="function"&&(s=a(s)),kn(s)||(s=typeof a=="string"?n.parse(s,a):n.parse(s)),s===null?null:(r&&(s=r==="week"&&(pd(i)||i===!0)?n.startOf(s,"isoWeek",i):n.startOf(s,r)),+s)}function Iy(t,e,n,a){const r=Ht.length;for(let i=Ht.indexOf(t);i<r-1;++i){const s=sh[Ht[i]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(o*s.size))<=a)return Ht[i]}return Ht[r-1]}function N6(t,e,n,a,r){for(let i=Ht.length-1;i>=Ht.indexOf(n);i--){const s=Ht[i];if(sh[s].common&&t._adapter.diff(r,a,s)>=e-1)return s}return Ht[n?Ht.indexOf(n):0]}function j6(t){for(let e=Ht.indexOf(t)+1,n=Ht.length;e<n;++e)if(sh[Ht[e]].common)return Ht[e]}function Yy(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:a,hi:r}=Rm(n,e),i=n[a]>=e?n[a]:n[r];t[i]=!0}}function L6(t,e,n,a){const r=t._adapter,i=+r.startOf(e[0].value,a),s=e[e.length-1].value;let o,l;for(o=i;o<=s;o=+r.add(o,1,a))l=n[o],l>=0&&(e[l].major=!0);return e}function $y(t,e,n){const a=[],r={},i=e.length;let s,o;for(s=0;s<i;++s)o=e[s],r[o]=s,a.push({value:o,major:!1});return i===0||!n?a:L6(t,a,r,n)}class _d extends ro{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const a=e.time||(e.time={}),r=this._adapter=new VP._date(e.adapters.date);r.init(n),el(a.displayFormats,r.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Uy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,a=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!s||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=kn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),a),i=kn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),a)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],a=e[e.length-1]),{min:n,max:a}}buildTicks(){const e=this.options,n=e.time,a=e.ticks,r=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=this.max,o=NL(r,i,s);return this._unit=n.unit||(a.autoSkip?Iy(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):N6(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:j6(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),$y(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,a=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?a=i:a=(i-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=Ut(n,0,s),a=Ut(a,0,s),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,n=this.min,a=this.max,r=this.options,i=r.time,s=i.unit||Iy(i.minUnit,n,a,this._getLabelCapacity(n)),o=oe(r.ticks.stepSize,1),l=s==="week"?i.isoWeekday:!1,c=pd(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":s),e.diff(a,n,s)>1e5*o)throw new Error(n+" and "+a+" are too far apart with stepSize of "+o+" "+s);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<a;h=+e.add(h,o,s),f++)Yy(u,h,v);return(h===a||r.bounds==="ticks"||f===1)&&Yy(u,h,v),Object.keys(u).sort(Hy).map(y=>+y)}getLabelForValue(e){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(e,a.tooltipFormat):n.format(e,a.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,s=n||r[i];return this._adapter.format(e,s)}_tickFormatFunction(e,n,a,r){const i=this.options,s=i.ticks.callback;if(s)return De(s,[e,n,a],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=a[n],f=c&&d&&h&&h.major;return this._adapter.format(e,r||(f?d:u))}generateTickLabels(e){let n,a,r;for(n=0,a=e.length;n<a;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(e){const n=this._offsets,a=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,a=this.ctx.measureText(e).width,r=Ea(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:a*i+o*s,h:a*s+o*i}}_getLabelCapacity(e){const n=this.options.time,a=n.displayFormats,r=a[n.unit]||a.millisecond,i=this._tickFormatFunction(e,0,$y(this,[e],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,a;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,a=r.length;n<a;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,a;if(e.length)return e;const r=this.getLabels();for(n=0,a=r.length;n<a;++n)e.push(Uy(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Yk(e.sort(Hy))}}P(_d,"id","time"),P(_d,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bc(t,e,n){let a=0,r=t.length-1,i,s,o,l;n?(e>=t[a].pos&&e<=t[r].pos&&({lo:a,hi:r}=$p(t,"pos",e)),{pos:i,time:o}=t[a],{pos:s,time:l}=t[r]):(e>=t[a].time&&e<=t[r].time&&({lo:a,hi:r}=$p(t,"time",e)),{time:i,pos:o}=t[a],{time:s,pos:l}=t[r]);const c=s-i;return c?o+(l-o)*(e-i)/c:o}class Fy extends _d{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Bc(n,this.min),this._tableRange=Bc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:a}=this,r=[],i=[];let s,o,l,c,u;for(s=0,o=e.length;s<o;++s)c=e[s],c>=n&&c<=a&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(s=0,o=r.length;s<o;++s)u=r[s+1],l=r[s-1],c=r[s],Math.round((u+l)/2)!==c&&i.push({time:c,pos:s/(o-1)});return i}_generate(){const e=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?e=this.normalize(n.concat(a)):e=n.length?n:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Bc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,a=this.getDecimalForPixel(e)/n.factor-n.end;return Bc(this._table,a*this._tableRange+this._minPos,!0)}}P(Fy,"id","timeseries"),P(Fy,"defaults",_d.defaults);const b1="label";function qy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function P6(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function v1(t,e){t.labels=e}function y1(t,e,n=b1){const a=[];t.datasets=e.map(r=>{const i=t.datasets.find(s=>s[n]===r[n]);return!i||!r.data||a.includes(i)?{...r}:(a.push(i),Object.assign(i,r),i)})}function z6(t,e=b1){const n={labels:[],datasets:[]};return v1(n,t.labels),y1(n,t.datasets,e),n}function Vy(t,e){return t.getElementsAtEventForMode(e.nativeEvent,"nearest",{intersect:!0},!1)}function B6(t,e){const{height:n=150,width:a=300,redraw:r=!1,datasetIdKey:i,type:s,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=w.useRef(null),v=w.useRef(null),y=()=>{f.current&&(v.current=new ih(f.current,{type:s,data:z6(o,i),options:l&&{...l},plugins:c}),qy(e,v.current))},_=()=>{qy(e,null),v.current&&(v.current.destroy(),v.current=null)};return w.useEffect(()=>{!r&&v.current&&l&&P6(v.current,l)},[r,l]),w.useEffect(()=>{!r&&v.current&&v1(v.current.config.data,o.labels)},[r,o.labels]),w.useEffect(()=>{!r&&v.current&&o.datasets&&y1(v.current.config.data,o.datasets,i)},[r,o.datasets]),w.useEffect(()=>{v.current&&(r?(_(),setTimeout(y)):v.current.update(d))},[r,l,o.labels,o.datasets,d]),w.useEffect(()=>{v.current&&(_(),setTimeout(y))},[s]),w.useEffect(()=>(y(),()=>_()),[]),p.jsx("canvas",{ref:f,role:"img",height:n,width:a,...h,children:u})}const H6=w.forwardRef(B6);function _1(t,e){return ih.register(e),w.forwardRef((n,a)=>p.jsx(H6,{...n,ref:a,type:t}))}const U6=_1("bar",pu),I6=_1("doughnut",No);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Wy=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),rl={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):ue(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var a=[].concat(e),r=a.length,i=t.font,s=0,o;for(t.font=n.string,o=0;o<r;++o)s=Math.max(t.measureText(a[o]).width,s);return t.font=i,{height:r*n.lineHeight,width:s}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),a=[],r,i,s,o;for(r=0,s=e.length;r<s;++r)o=e[r],i=n.indexOf(o),i===-1?a.push([o,1]):n.splice(i,1);for(r=0,s=n.length;r<s;++r)a.push([n[r],-1]);return a},rasterize:function(t){return Math.round(t*Wy)/Wy}};function Df(t,e){var n=e.x,a=e.y;if(n===null)return{x:0,y:-1};if(a===null)return{x:1,y:0};var r=t.x-n,i=t.y-a,s=Math.sqrt(r*r+i*i);return{x:s?r/s:0,y:s?i/s:-1}}function Y6(t,e,n,a,r){switch(r){case"center":n=a=0;break;case"bottom":n=0,a=1;break;case"right":n=1,a=0;break;case"left":n=-1,a=0;break;case"top":n=0,a=-1;break;case"start":n=-n,a=-a;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),a=Math.sin(r);break}return{x:t,y:e,vx:n,vy:a}}var $6=0,x1=1,w1=2,S1=4,k1=8;function Hc(t,e,n){var a=$6;return t<n.left?a|=x1:t>n.right&&(a|=w1),e<n.top?a|=k1:e>n.bottom&&(a|=S1),a}function F6(t,e){for(var n=t.x0,a=t.y0,r=t.x1,i=t.y1,s=Hc(n,a,e),o=Hc(r,i,e),l,c,u;!(!(s|o)||s&o);)l=s||o,l&k1?(c=n+(r-n)*(e.top-a)/(i-a),u=e.top):l&S1?(c=n+(r-n)*(e.bottom-a)/(i-a),u=e.bottom):l&w1?(u=a+(i-a)*(e.right-n)/(r-n),c=e.right):l&x1&&(u=a+(i-a)*(e.left-n)/(r-n),c=e.left),l===s?(n=c,a=u,s=Hc(n,a,e)):(r=c,i=u,o=Hc(r,i,e));return{x0:n,x1:r,y0:a,y1:i}}function Uc(t,e){var n=e.anchor,a=t,r,i;return e.clamp&&(a=F6(a,e.area)),n==="start"?(r=a.x0,i=a.y0):n==="end"?(r=a.x1,i=a.y1):(r=(a.x0+a.x1)/2,i=(a.y0+a.y1)/2),Y6(r,i,t.vx,t.vy,e.align)}var Ic={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,a=Math.cos(n),r=Math.sin(n),i=t.innerRadius,s=t.outerRadius;return Uc({x0:t.x+a*i,y0:t.y+r*i,x1:t.x+a*s,y1:t.y+r*s,vx:a,vy:r},e)},point:function(t,e){var n=Df(t,e.origin),a=n.x*t.options.radius,r=n.y*t.options.radius;return Uc({x0:t.x-a,y0:t.y-r,x1:t.x+a,y1:t.y+r,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=Df(t,e.origin),a=t.x,r=t.y,i=0,s=0;return t.horizontal?(a=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(r=Math.min(t.y,t.base),s=Math.abs(t.base-t.y)),Uc({x0:a,y0:r+s,x1:a+i,y1:r,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=Df(t,e.origin);return Uc({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},Ca=rl.rasterize;function q6(t){var e=t.borderWidth||0,n=t.padding,a=t.size.height,r=t.size.width,i=-r/2,s=-a/2;return{frame:{x:i-n.left-e,y:s-n.top-e,w:r+n.width+e*2,h:a+n.height+e*2},text:{x:i,y:s,w:r,h:a}}}function V6(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var a=n.getBasePixel();return t.horizontal?{x:a,y:null}:{x:null,y:a}}function W6(t){return t instanceof cs?Ic.arc:t instanceof bu?Ic.point:t instanceof al?Ic.bar:Ic.fallback}function K6(t,e,n,a,r,i){var s=Math.PI/2;if(i){var o=Math.min(i,r/2,a/2),l=e+o,c=n+o,u=e+a-o,d=n+r-o;t.moveTo(e,c),l<u&&c<d?(t.arc(l,c,o,-Math.PI,-s),t.arc(u,c,o,-s,0),t.arc(u,d,o,0,s),t.arc(l,d,o,s,Math.PI)):l<u?(t.moveTo(l,n),t.arc(u,c,o,-s,s),t.arc(l,c,o,s,Math.PI+s)):c<d?(t.arc(l,c,o,-Math.PI,0),t.arc(l,d,o,0,Math.PI)):t.arc(l,c,o,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,a,r)}function G6(t,e,n){var a=n.backgroundColor,r=n.borderColor,i=n.borderWidth;!a&&(!r||!i)||(t.beginPath(),K6(t,Ca(e.x)+i/2,Ca(e.y)+i/2,Ca(e.w)-i,Ca(e.h)-i,n.borderRadius),t.closePath(),a&&(t.fillStyle=a,t.fill()),r&&i&&(t.strokeStyle=r,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}function Q6(t,e,n){var a=n.lineHeight,r=t.w,i=t.x,s=t.y+a/2;return e==="center"?i+=r/2:(e==="end"||e==="right")&&(i+=r),{h:a,w:r,x:i,y:s}}function X6(t,e,n){var a=t.shadowBlur,r=n.stroked,i=Ca(n.x),s=Ca(n.y),o=Ca(n.w);r&&t.strokeText(e,i,s,o),n.filled&&(a&&r&&(t.shadowBlur=0),t.fillText(e,i,s,o),a&&r&&(t.shadowBlur=a))}function J6(t,e,n,a){var r=a.textAlign,i=a.color,s=!!i,o=a.font,l=e.length,c=a.textStrokeColor,u=a.textStrokeWidth,d=c&&u,h;if(!(!l||!s&&!d))for(n=Q6(n,r,o),t.font=o.string,t.textAlign=r,t.textBaseline="middle",t.shadowBlur=a.textShadowBlur,t.shadowColor=a.textShadowColor,s&&(t.fillStyle=i),d&&(t.lineJoin="round",t.lineWidth=u,t.strokeStyle=c),h=0,l=e.length;h<l;++h)X6(t,e[h],{stroked:d,filled:s,w:n.w,x:n.x,y:n.y+n.h*h})}var D1=function(t,e,n,a){var r=this;r._config=t,r._index=a,r._model=null,r._rects=null,r._ctx=e,r._el=n};na(D1.prototype,{_modelize:function(t,e,n,a){var r=this,i=r._index,s=vt(Be([n.font,{}],a,i)),o=Be([n.color,qe.color],a,i);return{align:Be([n.align,"center"],a,i),anchor:Be([n.anchor,"center"],a,i),area:a.chart.chartArea,backgroundColor:Be([n.backgroundColor,null],a,i),borderColor:Be([n.borderColor,null],a,i),borderRadius:Be([n.borderRadius,0],a,i),borderWidth:Be([n.borderWidth,0],a,i),clamp:Be([n.clamp,!1],a,i),clip:Be([n.clip,!1],a,i),color:o,display:t,font:s,lines:e,offset:Be([n.offset,4],a,i),opacity:Be([n.opacity,1],a,i),origin:V6(r._el,a),padding:sn(Be([n.padding,4],a,i)),positioner:W6(r._el),rotation:Be([n.rotation,0],a,i)*(Math.PI/180),size:rl.textSize(r._ctx,e,s),textAlign:Be([n.textAlign,"start"],a,i),textShadowBlur:Be([n.textShadowBlur,0],a,i),textShadowColor:Be([n.textShadowColor,o],a,i),textStrokeColor:Be([n.textStrokeColor,o],a,i),textStrokeWidth:Be([n.textStrokeWidth,0],a,i)}},update:function(t){var e=this,n=null,a=null,r=e._index,i=e._config,s,o,l,c=Be([i.display,!0],t,r);c&&(s=t.dataset.data[r],o=oe(De(i.formatter,[s,t]),s),l=ue(o)?[]:rl.toTextLines(o),l.length&&(n=e._modelize(c,l,i,t),a=q6(n))),e._model=n,e._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,a=t.ctx,r=n._model,i=n._rects,s;this.visible()&&(a.save(),r.clip&&(s=r.area,a.beginPath(),a.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),a.clip()),a.globalAlpha=rl.bound(0,r.opacity,1),a.translate(Ca(e.x),Ca(e.y)),a.rotate(r.rotation),G6(a,i.frame,r),J6(a,r.lines,i.text,r),a.restore())}});var Z6=Number.MIN_SAFE_INTEGER||-9007199254740991,ez=Number.MAX_SAFE_INTEGER||9007199254740991;function ko(t,e,n){var a=Math.cos(n),r=Math.sin(n),i=e.x,s=e.y;return{x:i+a*(t.x-i)-r*(t.y-s),y:s+r*(t.x-i)+a*(t.y-s)}}function Ky(t,e){var n=ez,a=Z6,r=e.origin,i,s,o,l,c;for(i=0;i<t.length;++i)s=t[i],o=s.x-r.x,l=s.y-r.y,c=e.vx*o+e.vy*l,n=Math.min(n,c),a=Math.max(a,c);return{min:n,max:a}}function Yc(t,e){var n=e.x-t.x,a=e.y-t.y,r=Math.sqrt(n*n+a*a);return{vx:(e.x-t.x)/r,vy:(e.y-t.y)/r,origin:t,ln:r}}var E1=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};na(E1.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,a=e._rect;return t=ko(t,e.center(),-e._rotation),!(t.x<a.x-n||t.y<a.y-n||t.x>a.x+a.w+n*2||t.y>a.y+a.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),a=[Yc(e[0],e[1]),Yc(e[0],e[3])],r,i,s;for(this._rotation!==t._rotation&&a.push(Yc(n[0],n[1]),Yc(n[0],n[3])),r=0;r<a.length;++r)if(i=Ky(e,a[r]),s=Ky(n,a[r]),i.max<s.min||s.max<i.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,a=t.center();return[ko({x:e.x,y:e.y},a,n),ko({x:e.x+e.w,y:e.y},a,n),ko({x:e.x+e.w,y:e.y+e.h},a,n),ko({x:e.x,y:e.y+e.h},a,n)]}});function C1(t,e,n){var a=e.positioner(t,e),r=a.vx,i=a.vy;if(!r&&!i)return{x:a.x,y:a.y};var s=n.w,o=n.h,l=e.rotation,c=Math.abs(s/2*Math.cos(l))+Math.abs(o/2*Math.sin(l)),u=Math.abs(s/2*Math.sin(l))+Math.abs(o/2*Math.cos(l)),d=1/Math.max(Math.abs(r),Math.abs(i));return c*=r*d,u*=i*d,c+=e.offset*r,u+=e.offset*i,{x:a.x+c,y:a.y+u}}function tz(t,e){var n,a,r,i;for(n=t.length-1;n>=0;--n)for(r=t[n].$layout,a=n-1;a>=0&&r._visible;--a)i=t[a].$layout,i._visible&&r._box.intersects(i._box)&&e(r,i);return t}function nz(t){var e,n,a,r,i,s,o;for(e=0,n=t.length;e<n;++e)a=t[e],r=a.$layout,r._visible&&(o=new Proxy(a._el,{get:(l,c)=>l.getProps([c],!0)[c]}),i=a.geometry(),s=C1(o,a.model(),i),r._box.update(s,i,a.rotation()));return tz(t,function(l,c){var u=l._hidable,d=c._hidable;u&&d||d?c._visible=!1:u&&(l._visible=!1)})}var il={prepare:function(t){var e=[],n,a,r,i,s;for(n=0,r=t.length;n<r;++n)for(a=0,i=t[n].length;a<i;++a)s=t[n][a],e.push(s),s.$layout={_box:new E1,_hidable:!1,_visible:!0,_set:n,_idx:s._index};return e.sort(function(o,l){var c=o.$layout,u=l.$layout;return c._idx===u._idx?u._set-c._set:u._idx-c._idx}),this.update(e),e},update:function(t){var e=!1,n,a,r,i,s;for(n=0,a=t.length;n<a;++n)r=t[n],i=r.model(),s=r.$layout,s._hidable=i&&i.display==="auto",s._visible=r.visible(),e|=s._hidable;e&&nz(t)},lookup:function(t,e){var n,a;for(n=t.length-1;n>=0;--n)if(a=t[n].$layout,a&&a._visible&&a._box.contains(e))return t[n];return null},draw:function(t,e){var n,a,r,i,s,o;for(n=0,a=e.length;n<a;++n)r=e[n],i=r.$layout,i._visible&&(s=r.geometry(),o=C1(r._el,r.model(),s),i._box.update(o,s,r.rotation()),r.draw(t,o))}},az=function(t){if(ue(t))return null;var e=t,n,a,r;if(le(t))if(!ue(t.label))e=t.label;else if(!ue(t.r))e=t.r;else for(e="",n=Object.keys(t),r=0,a=n.length;r<a;++r)e+=(r!==0?", ":"")+n[r]+": "+t[n[r]];return""+e},rz={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:az,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Lt="$datalabels",T1="$default";function iz(t,e){var n=t.datalabels,a={},r=[],i,s;return n===!1?null:(n===!0&&(n={}),e=na({},[e,n]),i=e.labels||{},s=Object.keys(i),delete e.labels,s.length?s.forEach(function(o){i[o]&&r.push(na({},[e,i[o],{_key:o}]))}):r.push(e),a=r.reduce(function(o,l){return me(l.listeners||{},function(c,u){o[u]=o[u]||{},o[u][l._key||T1]=c}),delete l.listeners,o},{}),{labels:r,listeners:a})}function Xp(t,e,n,a){if(e){var r=n.$context,i=n.$groups,s;e[i._set]&&(s=e[i._set][i._key],s&&De(s,[r,a])===!0&&(t[Lt]._dirty=!0,n.update(r)))}}function sz(t,e,n,a,r){var i,s;!n&&!a||(n?a?n!==a&&(s=i=!0):s=!0:i=!0,s&&Xp(t,e.leave,n,r),i&&Xp(t,e.enter,a,r))}function oz(t,e){var n=t[Lt],a=n._listeners,r,i;if(!(!a.enter&&!a.leave)){if(e.type==="mousemove")i=il.lookup(n._labels,e);else if(e.type!=="mouseout")return;r=n._hovered,n._hovered=i,sz(t,a,r,i,e)}}function lz(t,e){var n=t[Lt],a=n._listeners.click,r=a&&il.lookup(n._labels,e);r&&Xp(t,a,r,e)}var cz={id:"datalabels",defaults:rz,beforeInit:function(t){t[Lt]={_actives:[]}},beforeUpdate:function(t){var e=t[Lt];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var a=e.index,r=t[Lt],i=r._datasets[a]=[],s=t.isDatasetVisible(a),o=t.data.datasets[a],l=iz(o,n),c=e.meta.data||[],u=t.ctx,d,h,f,v,y,_,g,m;for(u.save(),d=0,f=c.length;d<f;++d)if(g=c[d],g[Lt]=[],s&&g&&t.getDataVisibility(d)&&!g.skip)for(h=0,v=l.labels.length;h<v;++h)y=l.labels[h],_=y._key,m=new D1(y,u,g,d),m.$groups={_set:a,_key:_||T1},m.$context={active:!1,chart:t,dataIndex:d,dataset:o,datasetIndex:a},m.update(m.$context),g[Lt].push(m),i.push(m);u.restore(),na(r._listeners,l.listeners,{merger:function(b,x,D){x[b]=x[b]||{},x[b][e.index]=D[b],r._listened=!0}})},afterUpdate:function(t){t[Lt]._labels=il.prepare(t[Lt]._datasets)},afterDatasetsDraw:function(t){il.draw(t,t[Lt]._labels)},beforeEvent:function(t,e){if(t[Lt]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":oz(t,n);break;case"click":lz(t,n);break}}},afterEvent:function(t){var e=t[Lt],n=e._actives,a=e._actives=t.getActiveElements(),r=rl.arrayDiff(n,a),i,s,o,l,c,u,d;for(i=0,s=r.length;i<s;++i)if(c=r[i],c[1])for(d=c[0].element[Lt]||[],o=0,l=d.length;o<l;++o)u=d[o],u.$context.active=c[1]===1,u.update(u.$context);(e._dirty||r.length)&&(il.update(e._labels),t.render()),delete e._dirty}};ih.register(cs,C6,b6,al,Gp,Qp,y6,cz);const uz={light:{text:"rgba(30, 41, 59, 0.85)",grid:"rgba(148, 163, 184, 0.2)",correct:"rgba(34, 197, 94, 0.7)",correctHover:"rgba(34, 197, 94, 0.9)",incorrect:"rgba(248, 113, 113, 0.7)",incorrectHover:"rgba(248, 113, 113, 0.9)",background:"rgba(255, 255, 255, 1)"},dark:{text:"rgba(226, 232, 240, 0.9)",grid:"rgba(148, 163, 184, 0.25)",correct:"rgba(74, 222, 128, 0.7)",correctHover:"rgba(74, 222, 128, 0.9)",incorrect:"rgba(248, 113, 113, 0.7)",incorrectHover:"rgba(248, 113, 113, 0.9)",background:"rgba(15, 23, 42, 0.4)"}},cn=["rgba(59, 130, 246, 0.7)","rgba(139, 92, 246, 0.7)","rgba(236, 72, 153, 0.7)","rgba(251, 146, 60, 0.7)","rgba(34, 197, 94, 0.7)","rgba(234, 179, 8, 0.7)","rgba(168, 85, 247, 0.7)","rgba(14, 165, 233, 0.7)","rgba(20, 184, 166, 0.7)","rgba(245, 101, 101, 0.7)"],dz=({rows:t,totals:e,labels:n,theme:a,maxCategories:r=8})=>{const i=uz[a],[s,o]=w.useState({type:"overview"}),[l,c]=w.useState(null),[u,d]=w.useState(null),h=w.useCallback(()=>{s.type==="depth"?s.depth===4?o({type:"depth",filter:s.filter,category:s.category,depth:3,depth2Value:s.depth2Value}):s.depth===3?o({type:"depth",filter:s.filter,category:s.category,depth:2}):s.depth===2&&o({type:"category",filter:s.filter,category:s.category}):s.type==="category"?o({type:"filtered",filter:s.filter}):s.type==="filtered"&&o({type:"overview"})},[s]),f=w.useCallback((k,S)=>{var M,C,L;if(!l)return;const E=Vy(l,k);if(E.length===0)return;const R=E[0].index;if(s.type==="overview")o({type:"filtered",filter:R===0?"correct":"incorrect"});else if(s.type==="filtered"){const H=(M=S==null?void 0:S.labels)==null?void 0:M[R];H&&o({type:"category",filter:s.filter,category:H})}else if(s.type==="category"){const H=(C=S==null?void 0:S.labels)==null?void 0:C[R];H&&o({type:"depth",filter:s.filter,category:s.category,depth:2,depth2Value:H})}else if(s.type==="depth"){const H=(L=S==null?void 0:S.labels)==null?void 0:L[R];H&&(s.depth===2?o({type:"depth",filter:s.filter,category:s.category,depth:3,depth2Value:s.depth2Value,depth3Value:H}):s.depth===3&&o({type:"depth",filter:s.filter,category:s.category,depth:4,depth2Value:s.depth2Value,depth3Value:s.depth3Value}))}},[l,s]),v=w.useCallback((k,S)=>{var M,C,L;if(!u)return;const E=Vy(u,k);if(E.length===0)return;const R=E[0].index;if(s.type==="filtered"){const H=(M=S==null?void 0:S.labels)==null?void 0:M[R];H&&o({type:"category",filter:s.filter,category:H})}else if(s.type==="category"){const H=(C=S==null?void 0:S.labels)==null?void 0:C[R];H&&o({type:"depth",filter:s.filter,category:s.category,depth:2,depth2Value:H})}else if(s.type==="depth"){const H=(L=S==null?void 0:S.labels)==null?void 0:L[R];H&&(s.depth===2?o({type:"depth",filter:s.filter,category:s.category,depth:3,depth2Value:s.depth2Value,depth3Value:H}):s.depth===3&&o({type:"depth",filter:s.filter,category:s.category,depth:4,depth2Value:s.depth2Value,depth3Value:s.depth3Value}))}},[u,s]),y=w.useMemo(()=>{if(s.type==="overview")return t;const k=s.filter;return t.filter(S=>k==="correct"?(S.correct_count||0)>0:(S.incorrect_count||0)>0)},[t,s]),_=w.useMemo(()=>{if(s.type==="overview")return e.total===0?null:{labels:[n.correct,n.incorrect],datasets:[{data:[e.correct,e.incorrect],backgroundColor:[i.correct,i.incorrect],hoverBackgroundColor:[i.correctHover,i.incorrectHover],borderWidth:0}]};if(s.type==="filtered"){const k=new Map;if(y.forEach(M=>{const C=M.depth1||n.unclassified,L=s.filter==="correct"?M.correct_count||0:M.incorrect_count||0;L>0&&k.set(C,(k.get(C)||0)+L)}),k.size===0)return null;const S=Array.from(k.entries()).sort((M,C)=>C[1]-M[1]).slice(0,r),E=S.map(([M])=>M),T=S.map(([,M])=>M),R=T.reduce((M,C)=>M+C,0);return{labels:E,datasets:[{data:T,backgroundColor:E.map((M,C)=>cn[C%cn.length]),hoverBackgroundColor:E.map((M,C)=>cn[C%cn.length].replace("0.7","0.9")),borderWidth:0}],total:R}}else if(s.type==="category"){const k=new Map;if(y.filter(M=>M.depth1===s.category).forEach(M=>{const C=M.depth2||n.unclassified,L=s.filter==="correct"?M.correct_count||0:M.incorrect_count||0;L>0&&k.set(C,(k.get(C)||0)+L)}),k.size===0)return null;const S=Array.from(k.entries()).sort((M,C)=>C[1]-M[1]).slice(0,r),E=S.map(([M])=>M),T=S.map(([,M])=>M),R=T.reduce((M,C)=>M+C,0);return{labels:E,datasets:[{data:T,backgroundColor:E.map((M,C)=>cn[C%cn.length]),hoverBackgroundColor:E.map((M,C)=>cn[C%cn.length].replace("0.7","0.9")),borderWidth:0}],total:R}}else{const k=new Map;let S=y.filter(C=>C.depth1===s.category);if(s.depth===2?(s.depth2Value&&(S=S.filter(C=>C.depth2===s.depth2Value)),S.forEach(C=>{const L=C.depth3||n.unclassified,H=s.filter==="correct"?C.correct_count||0:C.incorrect_count||0;H>0&&k.set(L,(k.get(L)||0)+H)})):s.depth===3?(s.depth2Value&&(S=S.filter(C=>C.depth2===s.depth2Value)),s.depth3Value&&(S=S.filter(C=>C.depth3===s.depth3Value)),S.forEach(C=>{const L=C.depth4||n.unclassified,H=s.filter==="correct"?C.correct_count||0:C.incorrect_count||0;H>0&&k.set(L,(k.get(L)||0)+H)})):s.depth===4&&(s.depth2Value&&(S=S.filter(C=>C.depth2===s.depth2Value)),s.depth3Value&&(S=S.filter(C=>C.depth3===s.depth3Value)),S.forEach(C=>{const L=C.depth4||n.unclassified,H=s.filter==="correct"?C.correct_count||0:C.incorrect_count||0;H>0&&k.set(L,(k.get(L)||0)+H)})),k.size===0)return null;const E=Array.from(k.entries()).sort((C,L)=>L[1]-C[1]).slice(0,r),T=E.map(([C])=>C),R=E.map(([,C])=>C),M=R.reduce((C,L)=>C+L,0);return{labels:T,datasets:[{data:R,backgroundColor:T.map((C,L)=>cn[L%cn.length]),hoverBackgroundColor:T.map((C,L)=>cn[L%cn.length].replace("0.7","0.9")),borderWidth:0}],total:M}}},[s,e,n,i,y,r]),g=w.useMemo(()=>{if(s.type==="overview")return{label:n.total,value:e.total,subValues:[{label:n.correct,value:e.correct},{label:n.incorrect,value:e.incorrect}]};if(_&&"total"in _){let k="";return s.type==="filtered"?k=`${s.filter==="correct"?n.correct:n.incorrect} ${n.total}`:s.type==="category"?k=s.category:s.type==="depth"&&(s.depth===2&&s.depth2Value?k=s.depth2Value:s.depth===3&&s.depth3Value||s.depth===4&&s.depth3Value?k=s.depth3Value:s.type==="depth"&&(k=s.category)),{label:k,value:_.total,subValues:void 0}}return null},[s,e,n,_]),{barData:m,barOptions:b}=w.useMemo(()=>{if(s.type==="overview"){const k=new Map;t.forEach(M=>{const C=M.depth1||n.unclassified;k.has(C)||k.set(C,{correct:0,incorrect:0,total:0});const L=k.get(C);L.correct+=M.correct_count||0,L.incorrect+=M.incorrect_count||0,L.total+=M.total_count||0});const S=Array.from(k.entries()).sort((M,C)=>C[1].total-M[1].total).slice(0,r);if(S.length===0)return{barData:null,barOptions:void 0};const E=S.map(([M])=>M),T=S.map(([,M])=>M.correct),R=S.map(([,M])=>M.incorrect);return{barData:{labels:E,datasets:[{label:n.correct,data:T,backgroundColor:i.correct,hoverBackgroundColor:i.correctHover,borderRadius:12,stack:"counts"},{label:n.incorrect,data:R,backgroundColor:i.incorrect,hoverBackgroundColor:i.incorrectHover,borderRadius:12,stack:"counts"}]},barOptions:{responsive:!0,maintainAspectRatio:!1,onClick:M=>{const C=m;C&&v(M,C)},plugins:{legend:{position:"bottom",labels:{color:i.text,boxWidth:12,boxHeight:12,usePointStyle:!0}},tooltip:{callbacks:{label:M=>{const C=M.parsed.y??M.parsed;return`${M.dataset.label}: ${C}`}}},datalabels:{display:M=>(M.parsed.y??M.parsed)>0,color:i.text,anchor:"end",align:"top",offset:5,font:{size:11,weight:"bold"},formatter:M=>M>0?M.toString():""}},scales:{x:{stacked:!0,ticks:{color:i.text,maxRotation:45,minRotation:0},grid:{display:!1}},y:{stacked:!0,ticks:{color:i.text},grid:{color:i.grid}}}}}}else if(s.type==="category"){const k=new Map;y.filter(M=>M.depth1===s.category).forEach(M=>{const C=M.depth2||n.unclassified;k.has(C)||k.set(C,{correct:0,incorrect:0,total:0});const L=k.get(C);L.correct+=M.correct_count||0,L.incorrect+=M.incorrect_count||0,L.total+=M.total_count||0});const S=Array.from(k.entries()).sort((M,C)=>C[1].total-M[1].total).slice(0,r);if(S.length===0)return{barData:null,barOptions:void 0};const E=S.map(([M])=>M),T=S.map(([,M])=>M.correct),R=S.map(([,M])=>M.incorrect);return{barData:{labels:E,datasets:[{label:n.correct,data:T,backgroundColor:i.correct,hoverBackgroundColor:i.correctHover,borderRadius:12,stack:"counts"},{label:n.incorrect,data:R,backgroundColor:i.incorrect,hoverBackgroundColor:i.incorrectHover,borderRadius:12,stack:"counts"}]},barOptions:{responsive:!0,maintainAspectRatio:!1,onClick:M=>{const C=m;C&&v(M,C)},plugins:{legend:{position:"bottom",labels:{color:i.text,boxWidth:12,boxHeight:12,usePointStyle:!0}},tooltip:{callbacks:{label:M=>{const C=M.parsed.y??M.parsed;return`${M.dataset.label}: ${C}`}}},datalabels:{display:M=>(M.parsed.y??M.parsed)>0,color:i.text,anchor:"end",align:"top",offset:5,font:{size:11,weight:"bold"},formatter:M=>M>0?M.toString():""}},scales:{x:{stacked:!0,ticks:{color:i.text,maxRotation:45,minRotation:0},grid:{display:!1}},y:{stacked:!0,ticks:{color:i.text},grid:{color:i.grid}}}}}}else if(s.type==="depth"){const k=new Map;let S=y.filter(C=>C.depth1===s.category);s.depth===2?(s.depth2Value&&(S=S.filter(C=>C.depth2===s.depth2Value)),S.forEach(C=>{const L=C.depth3||n.unclassified;k.has(L)||k.set(L,{correct:0,incorrect:0,total:0});const H=k.get(L);H.correct+=C.correct_count||0,H.incorrect+=C.incorrect_count||0,H.total+=C.total_count||0})):s.depth===3?(s.depth2Value&&(S=S.filter(C=>C.depth2===s.depth2Value)),s.depth3Value&&(S=S.filter(C=>C.depth3===s.depth3Value)),S.forEach(C=>{const L=C.depth4||n.unclassified;k.has(L)||k.set(L,{correct:0,incorrect:0,total:0});const H=k.get(L);H.correct+=C.correct_count||0,H.incorrect+=C.incorrect_count||0,H.total+=C.total_count||0})):s.depth===4&&(s.depth2Value&&(S=S.filter(C=>C.depth2===s.depth2Value)),s.depth3Value&&(S=S.filter(C=>C.depth3===s.depth3Value)),S.forEach(C=>{const L=C.depth4||n.unclassified;k.has(L)||k.set(L,{correct:0,incorrect:0,total:0});const H=k.get(L);H.correct+=C.correct_count||0,H.incorrect+=C.incorrect_count||0,H.total+=C.total_count||0}));const E=Array.from(k.entries()).sort((C,L)=>L[1].total-C[1].total).slice(0,r);if(E.length===0)return{barData:null,barOptions:void 0};const T=E.map(([C])=>C),R=E.map(([,C])=>C.correct),M=E.map(([,C])=>C.incorrect);return{barData:{labels:T,datasets:[{label:n.correct,data:R,backgroundColor:i.correct,hoverBackgroundColor:i.correctHover,borderRadius:12,stack:"counts"},{label:n.incorrect,data:M,backgroundColor:i.incorrect,hoverBackgroundColor:i.incorrectHover,borderRadius:12,stack:"counts"}]},barOptions:{responsive:!0,maintainAspectRatio:!1,onClick:C=>{const L=m;L&&v(C,L)},plugins:{legend:{position:"bottom",labels:{color:i.text,boxWidth:12,boxHeight:12,usePointStyle:!0}},tooltip:{callbacks:{label:C=>{const L=C.parsed.y??C.parsed;return`${C.dataset.label}: ${L}`}}},datalabels:{display:C=>(C.parsed.y??C.parsed)>0,color:i.text,anchor:"end",align:"top",offset:5,font:{size:11,weight:"bold"},formatter:C=>C>0?C.toString():""}},scales:{x:{stacked:!0,ticks:{color:i.text,maxRotation:45,minRotation:0},grid:{display:!1}},y:{stacked:!0,ticks:{color:i.text},grid:{color:i.grid}}}}}}else{const k=new Map;y.forEach(M=>{const C=M.depth1||n.unclassified;k.has(C)||k.set(C,{correct:0,incorrect:0,total:0});const L=k.get(C);L.correct+=M.correct_count||0,L.incorrect+=M.incorrect_count||0,L.total+=M.total_count||0});const S=Array.from(k.entries()).sort((M,C)=>C[1].total-M[1].total).slice(0,r);if(S.length===0)return{barData:null,barOptions:void 0};const E=S.map(([M])=>M),T=S.map(([,M])=>M.correct),R=S.map(([,M])=>M.incorrect);return{barData:{labels:E,datasets:[{label:n.correct,data:T,backgroundColor:i.correct,hoverBackgroundColor:i.correctHover,borderRadius:12,stack:"counts"},{label:n.incorrect,data:R,backgroundColor:i.incorrect,hoverBackgroundColor:i.incorrectHover,borderRadius:12,stack:"counts"}]},barOptions:{responsive:!0,maintainAspectRatio:!1,onClick:M=>{const C=m;C&&v(M,C)},plugins:{legend:{position:"bottom",labels:{color:i.text,boxWidth:12,boxHeight:12,usePointStyle:!0}},tooltip:{callbacks:{label:M=>{const C=M.parsed.y??M.parsed;return`${M.dataset.label}: ${C}`}}},datalabels:{display:M=>(M.parsed.y??M.parsed)>0,color:i.text,anchor:"end",align:"top",offset:5,font:{size:11,weight:"bold"},formatter:M=>M>0?M.toString():""}},scales:{x:{stacked:!0,ticks:{color:i.text,maxRotation:45,minRotation:0},grid:{display:!1}},y:{stacked:!0,ticks:{color:i.text},grid:{color:i.grid}}}}}}},[s,t,n,i,r,y]),x=w.useMemo(()=>{if(s.type==="overview")return n.correctVsIncorrect;if(s.type==="filtered")return`${s.filter==="correct"?n.correct:n.incorrect}  `;if(s.type==="category")return s.category;if(s.type==="depth"){if(s.depth===2&&s.depth2Value)return s.depth2Value;if(s.depth===3&&s.depth3Value)return s.depth3Value;if(s.depth===4&&s.depth3Value)return s.depth3Value;if(s.type==="depth")return s.category}return""},[s,n]),D=w.useMemo(()=>{if(s.type==="overview")return n.categoryDistribution;if(s.type==="filtered")return`${s.filter==="correct"?n.correct:n.incorrect}  `;if(s.type==="category")return s.category;if(s.type==="depth"){if(s.depth===2&&s.depth2Value)return s.depth2Value;if(s.depth===3&&s.depth3Value)return s.depth3Value;if(s.depth===4&&s.depth3Value)return s.depth3Value;if(s.type==="depth")return s.category}return""},[s,n]);return p.jsxs("div",{className:"space-y-6",children:[s.type!=="overview"&&p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsxs("button",{onClick:h,className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-1",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),""]}),p.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:s.type==="filtered"?`${s.filter==="correct"?n.correct:n.incorrect} `:s.type==="category"?s.category:s.depth===2&&s.depth2Value?`${s.category} > ${s.depth2Value}`:s.depth===3&&s.depth3Value?`${s.category} > ${s.depth2Value} > ${s.depth3Value}`:s.depth===4?`${s.category} > ${s.depth2Value} > ${s.depth3Value}`:s.category})]}),p.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[p.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900/40 p-4 shadow-sm transition-all duration-300",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4",children:x}),_?p.jsxs("div",{className:"relative h-64",children:[p.jsx(I6,{ref:c,data:_,onClick:k=>{const S=_;S&&f(k,S)},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:k=>{const S=k.label||"",E=k.parsed||0,T=k.dataset.data.reduce((M,C)=>M+C,0),R=T>0?(E/T*100).toFixed(1):"0";return`${S}: ${E} (${R}%)`}}},datalabels:{display:!0,color:i.text,anchor:"end",align:"end",offset:10,font:{size:12,weight:"bold"},formatter:(k,S)=>`${S.chart.data.labels[S.dataIndex]}: ${k}`}},animation:{animateRotate:!0,animateScale:!0,duration:800},cutout:"60%",maintainAspectRatio:!0,layout:{padding:{top:30,bottom:30,left:60,right:60}}}}),g&&p.jsxs("div",{className:"absolute flex flex-col items-center justify-center pointer-events-none z-10",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[p.jsx("span",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mb-1 text-center whitespace-nowrap",children:g.label}),p.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100 text-center",children:g.value}),g.subValues&&p.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row gap-2 sm:gap-4 text-xs sm:text-sm",children:[p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:i.correct}}),p.jsxs("span",{className:"text-slate-600 dark:text-slate-400 whitespace-nowrap",children:[n.correct,": ",g.subValues[0].value]})]}),p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:i.incorrect}}),p.jsxs("span",{className:"text-slate-600 dark:text-slate-400 whitespace-nowrap",children:[n.incorrect,": ",g.subValues[1].value]})]})]})]})]}):p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n.noData}),s.type==="overview"&&p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-center",children:"     "})]}),p.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900/40 p-4 shadow-sm transition-all duration-300",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4",children:D}),m?p.jsx("div",{className:"relative h-64",children:p.jsx(U6,{ref:d,data:m,options:b})}):p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n.noData}),(s.type==="filtered"||s.type==="category"||s.type==="depth"&&s.depth<4)&&p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-center",children:"      "})]})]})]})},hz=()=>{const{language:t}=kt(),{theme:e}=gS(),n=jn(t),[a,r]=w.useState([]),[i,s]=w.useState([]),[o,l]=w.useState(!0),[c,u]=w.useState(null),[d,h]=w.useState(null),[f,v]=w.useState(null),[y,_]=w.useState(new Set),[g,m]=w.useState([]),[b,x]=w.useState(!1),[D,k]=w.useState([]),[S,E]=w.useState([]),[T,R]=w.useState(!0),[M,C]=w.useState(!1),[L,H]=w.useState(null),[U,O]=w.useState(null),[A,N]=w.useState(!1),[B,I]=w.useState([]),[q,Te]=w.useState(!1),[ge,de]=w.useState(0),[ze,Ye]=w.useState([]),[Xe,on]=w.useState(!1),la=async(Y=!1)=>{try{Y&&l(!0);const[J,ce,we,ie]=await Promise.all([V3(d||void 0,f||void 0,t),W3(d||void 0,f||void 0,t),YS(),$S()]);r(J),s(ce);const xt=new Set(we.map(Ln=>Ln.id)),Dn=ie.filter(Ln=>!xt.has(Ln.id));k(we),E(Dn),R(we.length>0||ie.length>0)}catch(J){u(J instanceof Error?J.message:"  ")}finally{Y&&l(!1)}};w.useEffect(()=>{la(!0)},[d,f,t]),w.useEffect(()=>{if(!T)return;const Y=setInterval(()=>{la(!1)},3e3);return()=>clearInterval(Y)},[T]);const Jl=async()=>{await la()},Ur=Y=>{const J=new Date,ce=new Date;ce.setMonth(ce.getMonth()-Y),h(ce),v(J)},Ri=()=>{h(null),v(null)},Va=Y=>`${Y.depth1||""}_${Y.depth2||""}_${Y.depth3||""}_${Y.depth4||""}`,Ni=(Y,J)=>{_(ce=>{const we=new Set(ce),ie=Va(Y);return J?we.add(ie):we.delete(ie),we})},Me=Y=>{const J=[],ce=we=>{for(const ie of we)!ie.children||ie.children.length===0?J.push(ie):ce(ie.children)};return ce(Y),J},A1=async()=>{if(confirm(`     ?
     ,  .`))try{C(!0),H("  ..."),u(null);const{data:Y}=await W.auth.getUser();if(!Y.user){u(" .");return}const J="https://vkoegxohahpptdyipmkr.supabase.co/functions/v1/reclassify-problems",{data:{session:ce}}=await W.auth.getSession(),we=await fetch(J,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce==null?void 0:ce.access_token}`},body:JSON.stringify({userId:Y.user.id,batchSize:100,language:t})});if(!we.ok){const xt=await we.text();throw new Error(`HTTP error! status: ${we.status}, ${xt}`)}const ie=await we.json();if(ie.success)H(`  .  : ${ie.processed||0} / : ${ie.total||0}. : ${ie.successCount||0}, : ${ie.failCount||0}.    .`),setTimeout(()=>{la(!0),H(null)},3e3);else throw new Error(ie.error||"  .")}catch(Y){console.error("Error reclassifying problems:",Y),u(Y instanceof Error?Y.message:"   ."),H(null)}finally{C(!1)}},R1=async()=>{if(y.size===0){alert(n.example.selectCategory);return}try{N(!0),u(null);const{data:Y}=await W.auth.getUser();if(!Y.user){u(t==="ko"?" .":"Login required.");return}const ce=Me(i).filter(xt=>{const Dn=Va(xt);return y.has(Dn)});if(ce.length===0){alert(n.example.selectCategory),N(!1);return}const we=ce.map(async xt=>{try{const Dn=await qb(xt.depth1||"",xt.depth2||"",xt.depth3||"",xt.depth4||"",t);if(!(Dn!=null&&Dn.code))return null;const Ln="https://vkoegxohahpptdyipmkr.supabase.co/functions/v1/generate-example",{data:{session:Wa}}=await W.auth.getSession(),Ft=await fetch(Ln,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wa==null?void 0:Wa.access_token}`},body:JSON.stringify({code:Dn.code,userId:Y.user.id,language:t})});if(!Ft.ok){const ca=await Ft.text();let oh;try{oh=JSON.parse(ca)}catch{oh={error:ca}}throw new Error(oh.error||`HTTP error! status: ${Ft.status}`)}const Pn=await Ft.json();if(!Pn.success)throw console.error("Error from generate-example:",Pn.error||Pn.details),new Error(Pn.error||Pn.details||"Failed to generate example");if(Pn.success&&Pn.example){const ca=Pn.example;return!ca.wrong_example&&!ca.correct_example?(console.warn("Example missing required fields:",ca),null):` ${ca.wrong_example||""}
 ${ca.correct_example||""}

${ca.explanation||""}`}return null}catch(Dn){return console.error("Error generating example for node:",Dn),null}}),ie=(await Promise.all(we)).filter(Boolean);if(ie.length===0){u(t==="ko"?"    .    taxonomy   AI     .":"Unable to generate example sentences. The selected category may not have taxonomy information or there may be an issue with the AI response."),N(!1);return}I(ie),Te(!0)}catch(Y){console.error("Error generating examples:",Y),u(Y instanceof Error?Y.message:t==="ko"?"   ":"Failed to generate example sentences")}finally{N(!1)}},N1=async()=>{var Y,J;if(y.size===0){alert(n.stats.selectCategory);return}try{x(!0),u(null);const{data:ce}=await W.auth.getUser();if(!ce.user){u(" .");return}const ie=Me(i).filter(Ft=>{const Pn=Va(Ft);return y.has(Pn)});if(ie.length===0){alert(n.stats.selectLeafCategory),x(!1);return}const xt=ie.map(Ft=>({depth1:Ft.depth1,depth2:Ft.depth2||"",depth3:Ft.depth3||"",depth4:Ft.depth4||"",problemCount:2})),Ln=await fetch("https://vkoegxohahpptdyipmkr.supabase.co/functions/v1/generate-similar-problems",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(Y=(await W.auth.getSession()).data.session)==null?void 0:Y.access_token}`},body:JSON.stringify({classifications:xt,userId:ce.user.id,language:t})});if(!Ln.ok){const Ft=await Ln.text();throw new Error(`HTTP error! status: ${Ln.status}, ${Ft}`)}const Wa=await Ln.json();if(Wa.success)m(Wa.problems||[]),de(0),Ye(new Array(((J=Wa.problems)==null?void 0:J.length)||0).fill(null)),on(!1);else throw new Error(Wa.error||(t==="ko"?"   ":"Failed to generate similar problems"))}catch(ce){u(ce instanceof Error?ce.message:"   ")}finally{x(!1)}},j1=()=>{},L1=w.useCallback((Y,J)=>{Ye(ce=>{const we=[...ce];return we[Y]=J,we})},[]),P1=w.useCallback(()=>{ge<g.length-1?de(Y=>Y+1):on(!0)},[ge,g.length]),z1=w.useCallback(()=>{m([]),Ye([]),de(0),on(!1)},[]),Zl=w.useMemo(()=>{if(!Xe||g.length===0)return null;const Y=ze.filter(ie=>!!ie),J=Y.filter(ie=>ie.isCorrect).length,ce=g.length,we=Y.reduce((ie,xt)=>ie+((xt==null?void 0:xt.timeSpentSeconds)||0),0);return{correctCount:J,incorrectCount:ce-J,totalCount:ce,totalTime:we}},[g.length,ze,Xe]),B1=w.useCallback(Y=>{const J=Math.floor(Y/60),ce=Y%60;return`${J}:${ce.toString().padStart(2,"0")}`},[]),ec=w.useMemo(()=>{const Y=a.reduce((we,ie)=>we+(ie.correct_count||0),0),J=a.reduce((we,ie)=>we+(ie.incorrect_count||0),0),ce=a.reduce((we,ie)=>we+(ie.total_count||0),0);return{correct:Y,incorrect:J,total:ce}},[a]),qm=w.useMemo(()=>({overview:n.stats.chartOverview,correctVsIncorrect:n.stats.correctVsIncorrectChart,categoryDistribution:n.stats.categoryDistributionChart,noData:n.stats.noData,correct:n.stats.correct,incorrect:n.stats.incorrect,total:n.stats.total,unclassified:n.stats.unclassified}),[n.stats.chartOverview,n.stats.correctVsIncorrectChart,n.stats.categoryDistributionChart,n.stats.noData,n.stats.correct,n.stats.incorrect,n.stats.total,n.stats.unclassified]);return o?p.jsx("div",{className:"text-center text-slate-600 dark:text-slate-400 py-10",children:n.common.loading}):c?p.jsx("div",{className:"text-center text-red-700 dark:text-red-400 py-10",children:c}):p.jsxs("div",{className:"mx-auto space-y-6 max-w-full px-2 sm:px-4 md:px-6 lg:max-w-5xl",children:[D.map(Y=>p.jsx(Rk,{sessionId:Y.id,imageUrl:Y.image_url},Y.id)),S.map(Y=>p.jsx(Nk,{sessionId:Y.id,imageUrl:Y.image_url,onSave:Jl},Y.id)),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:n.stats.statsByType}),p.jsxs("div",{className:"mb-6 p-3 sm:p-4 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[p.jsxs("div",{className:"flex flex-wrap gap-2 items-center mb-3",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:n.stats.periodSetting}),p.jsx("button",{onClick:()=>Ur(1),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:n.stats.oneMonth}),p.jsx("button",{onClick:()=>Ur(3),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:n.stats.threeMonths}),p.jsx("button",{onClick:()=>Ur(6),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:n.stats.sixMonths}),p.jsx("button",{onClick:()=>{const Y=new Date,J=new Date(Y.getFullYear(),0,1);h(J),v(Y)},className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:n.stats.thisYear}),(d||f)&&p.jsx("button",{onClick:Ri,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:n.stats.total})]}),p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-slate-600 mr-2",children:n.stats.startDate}),p.jsx(Nv,{selected:d,onChange:Y=>h(Y),dateFormat:"yyyy-MM-dd",className:"px-3 py-1 border rounded",maxDate:f||new Date})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-slate-600 mr-2",children:n.stats.endDate}),p.jsx(Nv,{selected:f,onChange:Y=>v(Y),dateFormat:"yyyy-MM-dd",className:"px-3 py-1 border rounded",minDate:d,maxDate:new Date})]})]})]}),p.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-3",children:[p.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:[n.stats.total,": ",ec.total," / ",n.stats.correct,": ",ec.correct," / ",n.stats.incorrect,": ",ec.incorrect]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:A1,disabled:M,className:"px-4 py-2 bg-orange-600 dark:bg-orange-500 text-white rounded-lg hover:bg-orange-700 dark:hover:bg-orange-600 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",title:t==="ko"?"     ":"Reclassify all problems with the new classification system",children:M?n.stats.reclassifying:n.stats.reclassifyAll}),p.jsx("button",{onClick:R1,disabled:y.size===0||A,className:"px-4 py-2 bg-green-600 dark:bg-green-500 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:A?n.example.generating:n.example.generate}),p.jsx("button",{onClick:N1,disabled:y.size===0||b,className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:b?n.stats.generating:n.stats.generateSimilar})]})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:qm.overview}),p.jsx(dz,{rows:a,totals:ec,theme:e,labels:qm})]}),L&&p.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg",children:p.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:L})}),p.jsx(K3,{data:i,onImageClick:()=>{},onNumberClick:j1,selectedNodes:y,onNodeSelect:Ni,onQuestionClick:async Y=>{if(Y.depth4)try{const J=await qb(Y.depth1||"",Y.depth2||"",Y.depth3||"",Y.depth4||"",t);J!=null&&J.code?O(J.code):alert(t==="ko"?"    .":"Classification information not found.")}catch(J){console.error("Error loading taxonomy:",J),alert(t==="ko"?"     .":"Error loading classification information.")}}}),U&&p.jsx(VS,{code:U,onClose:()=>O(null)}),q&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:n.example.generate}),p.jsx("button",{onClick:()=>{Te(!1),I([])},className:"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200",children:n.common.close})]}),p.jsx("div",{className:"space-y-4",children:B.length>0?B.map((Y,J)=>p.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:p.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:Y})},J)):p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:t==="ko"?"   .":"No example sentences generated."})})]})})})]}),g.length>0&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:[n.stats.generatedProblems," (",g.length,t==="ko"?"":"",")"]}),p.jsx("button",{onClick:z1,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:n.common.close})]}),!Xe&&p.jsxs("div",{className:"space-y-4 md:max-h-[70vh] md:overflow-auto",children:[p.jsx(jv,{problem:g[ge],index:ge,problemId:g[ge].id,isActive:!0,onNext:P1,onResult:Y=>L1(ge,Y)},ge),g.length>1&&p.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:t==="ko"?` ${ge+1} / ${g.length}`:`Problem ${ge+1} / ${g.length}`})]}),Xe&&Zl&&p.jsxs("div",{className:"space-y-4 md:max-h-[70vh] md:overflow-auto",children:[p.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/40 border border-slate-200 dark:border-slate-700 rounded-lg flex flex-wrap items-center justify-between gap-3",children:[p.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:n.practice.summaryTitle}),p.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600 dark:text-slate-300",children:[p.jsxs("span",{children:[n.practice.correct,": ",Zl.correctCount]}),p.jsxs("span",{children:[n.practice.incorrect,": ",Zl.incorrectCount]}),p.jsxs("span",{children:[n.practice.timeSpent,": ",B1(Zl.totalTime)]})]})]}),p.jsx("div",{className:"space-y-4",children:g.map((Y,J)=>p.jsx(jv,{problem:Y,index:J,problemId:Y.id,mode:"review",result:ze[J]??void 0},Y.id??J))})]})]})]})},M1=({isOpen:t,onClose:e,imageUrl:n,sessionId:a})=>{w.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[t,e]);const r=()=>{const s=document.createElement("a");s.href=n,s.download=a?`session_${a}_${Date.now()}.jpg`:`image_${Date.now()}.jpg`,document.body.appendChild(s),s.click(),document.body.removeChild(s)},i=s=>{s.target===s.currentTarget&&e()};return t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:i,children:p.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] bg-white rounded-lg overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-100 border-b",children:[p.jsx("h3",{className:"text-lg font-semibold",children:" "}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:""}),p.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-600 text-white text-sm rounded hover:bg-slate-700",children:""})]})]}),p.jsx("div",{className:"p-4",children:p.jsx("img",{src:n,alt:" ",className:"max-w-full max-h-[70vh] object-contain mx-auto"})})]})}):null},fz=()=>{const{language:t}=kt(),e=jn(t),n=zr(),[a,r]=w.useState([]),[i,s]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState(!0),[d,h]=w.useState(null),[f,v]=w.useState(5),[y,_]=w.useState(!1),[g,m]=w.useState(""),[b,x]=w.useState(""),[D,k]=w.useState(new Set),[S,E]=w.useState(!0),T=async()=>{try{u(!0);const O=await G2();r(O);const A=await YS();s(A);const N=await $S();l(N),E(A.length>0||N.length>0)}catch(O){h(O instanceof Error?O.message:" ")}finally{u(!1)}};w.useEffect(()=>{T()},[]),w.useEffect(()=>{if(!S)return;const O=setInterval(()=>{T()},2e3);return()=>clearInterval(O)},[S]);const R=async()=>{if(D.size===0){alert(t==="ko"?"  .":"Please select items to delete.");return}const O=t==="ko"?`${D.size}  ?`:`Are you sure you want to delete ${D.size} session(s)?`;if(window.confirm(O))try{await Promise.all(Array.from(D).map(A=>X2(A))),k(new Set),await T()}catch(A){alert(A instanceof Error?A.message:" ")}},M=(O,A)=>{m(A),x(O),_(!0)},C=O=>{const A=new Set(D);A.has(O)?A.delete(O):A.add(O),k(A)},L=()=>{D.size===a.length?k(new Set):k(new Set(a.map(O=>O.id)))},H=async()=>{await T()},U=w.useMemo(()=>a.slice(0,f),[a,f]);return c&&a.length===0&&i.length===0&&o.length===0?p.jsx("div",{className:"text-center text-slate-600 py-10",children:e.common.loading}):d?p.jsx("div",{className:"text-center text-red-700 py-10",children:d}):p.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.map(O=>p.jsx(Rk,{sessionId:O.id,imageUrl:O.image_url},O.id)),o.map(O=>p.jsx(Nk,{sessionId:O.id,imageUrl:O.image_url,onSave:H},O.id)),p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold whitespace-nowrap",children:e.recent.title}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:L,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700",children:D.size===a.length&&a.length>0?" ":" "}),D.size>0&&p.jsxs("button",{onClick:R,className:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700",children:["  (",D.size,")"]}),p.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:""})]})]}),a.length===0?p.jsx("p",{className:"text-slate-500 text-center py-4",children:e.recent.noProblems}):p.jsxs("div",{className:"space-y-3",children:[U.map(O=>p.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 flex items-center gap-4",children:[p.jsx("input",{type:"checkbox",checked:D.has(O.id),onChange:()=>C(O.id),className:"w-5 h-5"}),p.jsx("img",{src:O.image_url,alt:t==="ko"?" ":"Problem Image",className:"w-20 h-20 object-cover rounded border cursor-pointer hover:opacity-80",onClick:()=>M(O.id,O.image_url)}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm text-slate-500",children:new Date(O.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),O.problem_count===0?p.jsx("p",{className:"text-orange-600 font-medium mt-1",children:t==="ko"?" AI  ...   ":" AI analyzing... Please refresh later"}):p.jsx("p",{className:"text-slate-700 mt-1",children:t==="ko"?` ${O.problem_count} |  ${O.correct_count} |  ${O.incorrect_count}`:`${e.recent.problemCount} ${O.problem_count} | ${e.stats.correct}: ${O.correct_count} | ${e.stats.incorrect}: ${O.incorrect_count}`})]}),p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:()=>n(`/session/${O.id}`),disabled:O.problem_count===0,className:`px-4 py-2 text-white text-sm rounded-lg ${O.problem_count===0?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:e.recent.viewDetails})})]},O.id)),f<a.length&&p.jsx("div",{className:"text-center pt-4",children:p.jsxs("button",{onClick:()=>v(O=>Math.min(O+5,a.length)),className:"px-4 py-2 bg-slate-600 text-white text-sm rounded-lg hover:bg-slate-700",children:[e.recent.loadMore," (",a.length-f,t==="ko"?"":"",")"]})})]})]}),p.jsx(M1,{isOpen:y,onClose:()=>_(!1),imageUrl:g,sessionId:b})]})},pz=()=>{const{sessionId:t}=nm(),e=zr(),[n,a]=w.useState(1),[r,i]=w.useState(null);w.useEffect(()=>{const l=setInterval(()=>{a(c=>c===3?1:c+1)},500);return()=>clearInterval(l)},[]),w.useEffect(()=>{if(!t){e("/stats");return}const l=async()=>{try{const u=await IS(t);u==="completed"?e(`/session/${t}`):u==="failed"&&i("   .  .")}catch(u){if(console.error("Status check error:",u),t.includes("_"))try{const{data:d}=await W.from("sessions").select("id, status").eq("user_id",t.split("_")[0]).order("created_at",{ascending:!1}).limit(1);if(d&&d.length>0){const h=d[0];h.status==="completed"?e(`/session/${h.id}`):h.status==="failed"&&i("   .  .")}}catch(d){console.error("Find recent session error:",d),i("    .")}else i("    .")}};l();const c=setInterval(l,2e3);return()=>clearInterval(c)},[t,e]);const s=()=>{e("/upload")},o=()=>{e("/stats")};return r?p.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:" "}),p.jsx("p",{className:"text-slate-700 mb-6",children:r}),p.jsxs("div",{className:"flex gap-4 justify-center",children:[p.jsx("button",{onClick:s,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:" "}),p.jsx("button",{onClick:o,className:"px-6 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-700",children:" "})]})]})}):p.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-6xl mb-6",children:""}),p.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:["",".".repeat(n)]}),p.jsx("p",{className:"text-slate-600 mb-8 text-lg",children:"AI   "}),p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[p.jsx("p",{className:"text-green-800 text-sm font-medium",children:"    "}),p.jsx("p",{className:"text-green-700 text-xs mt-1",children:"     .    ."})]}),p.jsx("div",{className:"flex gap-4 justify-center",children:p.jsx("button",{onClick:()=>e("/stats"),className:"px-6 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-700",children:"  "})}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})]})})},gz=()=>{const{sessionId:t}=nm(),e=zr(),[n,a]=w.useState(null),[r,i]=w.useState(!0),[s,o]=w.useState(null),[l,c]=w.useState("pending"),[u,d]=w.useState(""),h=j.useRef(""),[f,v]=w.useState(!1);w.useEffect(()=>{if(!t){e("/stats");return}a(null),o(null),d(""),(async()=>{try{i(!0);const g=await IS(t);if(c(g),g==="processing"){e(`/analyzing/${t}`);return}if(g==="failed"){o("   .");return}if(g==="completed"){const m=await hm(t);a(m);const{data:b,error:x}=await W.from("sessions").select("image_url").eq("id",t).single();!x&&b&&(d(b.image_url),h.current=b.image_url)}}catch(g){o(g instanceof Error?g.message:"  .")}finally{i(!1)}})()},[t,e]);const y=async g=>{if(t)try{if(!g.every(b=>{const x=b.___;return x==="O"||x==="X"})){alert("     .");return}await fm(t,g),alert(" !  ."),e("/stats")}catch(m){alert(m instanceof Error?m.message:"   .")}},_=async g=>{if(t)try{const m=h.current||u;if(!m)throw new Error(" URL   .");const b=m.match(/\/object\/public\/problem-images\/(.*)$/);if(!b||!b[1])throw new Error("    .");const x=b[1],D=new File([g],x.split("/").pop()||`rotated_${Date.now()}.jpg`,{type:g.type,lastModified:Date.now()});let k=null;for(let T=0;T<3;T++){const{error:R}=await W.storage.from("problem-images").upload(x,D,{contentType:g.type,cacheControl:"0",upsert:!0});if(!R){k=null;break}k=R,await new Promise(M=>setTimeout(M,200*(T+1)))}if(k)throw k;const S=`${m.split("?")[0]}?v=${Date.now()}`;let E=null;for(let T=0;T<3;T++){const{error:R}=await W.from("sessions").update({image_url:S}).eq("id",t);if(!R){E=null;break}E=R,await new Promise(M=>setTimeout(M,200*(T+1)))}if(E)throw E;d(S),h.current=S}catch(m){console.error("Image rotation failed:",m),alert("    .")}};return r?p.jsx("div",{className:"mx-auto bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 border border-slate-200 max-w-full lg:max-w-6xl",children:p.jsx("p",{className:"text-center text-slate-600",children:" ..."})}):s||!n?p.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:[p.jsx("p",{className:"text-center text-red-600",children:s||"   ."}),p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{onClick:()=>e("/stats"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:" "})})]}):p.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold",children:" "}),p.jsx("button",{onClick:()=>e("/stats"),className:"px-4 py-2 text-slate-600 hover:text-slate-800 underline",children:" "})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:" "}),p.jsx("div",{className:"border border-slate-200 rounded-lg p-4 max-h-[800px] overflow-auto bg-slate-50 flex items-start justify-center",children:p.jsx(qS,{imageUrl:u||"/placeholder-image.jpg",onRotate:_,className:"max-w-full max-h-[800px] object-contain"})}),p.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"       "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"AI  "}),p.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:p.jsx(pm,{initial:{items:n},onSubmit:y,onChange:g=>a(g)})})]})]}),p.jsx(M1,{isOpen:f,onClose:()=>v(!1),imageUrl:u,sessionId:t})]})},mz=()=>{const t=Pr(),e=zr(),[n,a]=w.useState(null),[r,i]=w.useState(null),[s,o]=w.useState(!0),l=w.useMemo(()=>{const d=new URLSearchParams(t.search).get("ids");return d?d.split(",").filter(Boolean):[]},[t.search]);if(w.useEffect(()=>{(async()=>{try{if(o(!0),l.length===0){a([]);return}const u=await Q2(l);a(u)}catch(u){i(u instanceof Error?u.message:"  .")}finally{o(!1)}})()},[l]),s)return p.jsx("div",{className:"text-center text-slate-600 py-10",children:" ..."});if(r)return p.jsx("div",{className:"text-center text-red-700 py-10",children:r});if(!n||n.length===0)return p.jsxs("div",{className:"text-center py-10",children:[p.jsx("p",{className:"text-slate-600 mb-4",children:"  ."}),p.jsx("button",{onClick:()=>e("/stats"),className:"px-4 py-2 bg-indigo-600 text-white rounded",children:" "})]});const c={items:n};return p.jsxs("div",{className:"mx-auto bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 border border-slate-200 max-w-full lg:max-w-5xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h2",{className:"text-2xl font-bold",children:["  (",n.length,")"]}),p.jsx("button",{onClick:()=>e("/stats"),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:""})]}),p.jsx(pm,{initial:c,hideMarking:!0,hideClassification:!0,hideReport:!0,hideSubmit:!0})]})},bz=()=>{const{language:t}=kt(),e=jn(t),n=zr(),[a,r]=w.useState(!0),[i,s]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(""),[f,v]=w.useState(""),[y,_]=w.useState(""),[g,m]=w.useState(""),[b,x]=w.useState("");w.useEffect(()=>{(async()=>{var S;try{r(!0);const E=await Mt(),{data:T,error:R}=await W.from("profiles").select("email, gender, age, grade, language").eq("user_id",E).single();if(R&&R.code!=="PGRST116")throw R;if(T)h(T.email||""),v(T.gender||""),_(T.age?T.age.toString():""),m(T.grade||""),x(T.language||"");else{const{data:M}=await W.auth.getUser();(S=M.user)!=null&&S.email&&h(M.user.email)}}catch(E){l(E instanceof Error?E.message:e.profile.loadError)}finally{r(!1)}})()},[]);const D=async k=>{k.preventDefault(),l(null),u(null),s(!0);try{const S=await Mt(),{error:E}=await W.from("profiles").upsert({user_id:S,email:d,gender:f||null,age:y?parseInt(y,10):null,grade:g||null,language:b||null},{onConflict:"user_id"});if(E)throw E;u(e.profile.saved),setTimeout(()=>{u(null)},3e3)}catch(S){l(S instanceof Error?S.message:e.profile.saveError)}finally{s(!1)}};return a?p.jsx("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:p.jsx("div",{className:"text-center text-slate-600 dark:text-slate-400 py-10",children:e.common.loading})}):p.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:e.profile.myProfile}),p.jsx("button",{onClick:()=>n("/upload"),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 underline",children:e.profile.back})]}),p.jsxs("form",{onSubmit:D,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.profile.email}),p.jsx("input",{type:"email",value:d,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:"your@email.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.profile.gender}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>v("male"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${f==="male"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.profile.male}),p.jsx("button",{type:"button",onClick:()=>v("female"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${f==="female"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.profile.female})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.profile.age}),p.jsx("input",{type:"number",value:y,onChange:k=>_(k.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",placeholder:e.profile.agePlaceholder,min:"1",max:"100"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.profile.grade}),p.jsxs("select",{value:g,onChange:k=>m(k.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",children:[p.jsx("option",{value:"",children:e.profile.selectGrade}),p.jsx("option",{value:" 1",children:" 1"}),p.jsx("option",{value:" 2",children:" 2"}),p.jsx("option",{value:" 3",children:" 3"}),p.jsx("option",{value:" 4",children:" 4"}),p.jsx("option",{value:" 5",children:" 5"}),p.jsx("option",{value:" 6",children:" 6"}),p.jsx("option",{value:" 1",children:" 1"}),p.jsx("option",{value:" 2",children:" 2"}),p.jsx("option",{value:" 3",children:" 3"}),p.jsx("option",{value:" 1",children:" 1"}),p.jsx("option",{value:" 2",children:" 2"}),p.jsx("option",{value:" 3",children:" 3"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e.profile.language}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>x("en"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${b==="en"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.profile.english}),p.jsx("button",{type:"button",onClick:()=>x("ko"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${b==="ko"?"bg-indigo-600 dark:bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.profile.korean})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>n("/upload"),className:"flex-1 px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:e.profile.cancel}),p.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-6 py-3 bg-indigo-600 dark:bg-indigo-500 text-white rounded-lg font-semibold hover:bg-indigo-700 dark:hover:bg-indigo-600 disabled:bg-slate-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:i?e.profile.saving:e.profile.save})]})]}),o&&p.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-800 text-red-800 dark:text-red-200 rounded text-sm",children:o}),c&&p.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-800 text-green-800 dark:text-green-200 rounded text-sm",children:c})]})},vz=()=>{const{language:t}=kt(),e=jn(t),[n,a]=w.useState([]),[r,i]=w.useState(!1),[s,o]=w.useState(null),l=d=>{a(d),o(null)},c=d=>new Promise((h,f)=>{const v=new FileReader;v.readAsDataURL(d),v.onload=()=>{var b;const y=v.result,[_,g]=y.split(","),m=((b=_.match(/:(.*?);/))==null?void 0:b[1])||"application/octet-stream";h({base64:g,mimeType:m})},v.onerror=y=>f(y)}),u=w.useCallback(async()=>{var d;if(n.length===0){o(t==="ko"?"   .":"Please upload an image to analyze first.");return}i(!0),o(null);try{const{data:h}=await W.auth.getUser();if(!h.user){o(t==="ko"?" .":"Login required."),i(!1);return}const f=t;console.log(`Starting upload and analysis for ${n.length} images...`);const v="https://vkoegxohahpptdyipmkr.supabase.co/functions/v1/analyze-image",_=(d=(await W.auth.getSession()).data.session)==null?void 0:d.access_token;i(!1);const g=t==="ko"?`${n.length}   . AI  .   .`:`${n.length} image(s) uploaded. AI analysis is in progress. You can leave the app.`;alert(g);const m=n.map(async b=>{try{const{base64:x,mimeType:D}=await c(b),k=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({imageBase64:x,mimeType:D,userId:h.user.id,fileName:b.name,language:f})});if(k.ok){const S=await k.json();return console.log("Session created for",b.name,":",S),S}else return console.error("Edge Function error for",b.name,":",k.status,await k.text()),null}catch(x){return console.error("Fetch error for",b.name,":",x),null}});await Promise.all(m),window.location.href="/stats"}catch(h){console.error(h);const f=t==="ko"?"   .  .":"An error occurred during upload. Please try again.";o(h instanceof Error?h.message:f),i(!1)}},[n,t]);return p.jsxs("div",{className:"min-h-screen font-sans bg-white dark:bg-slate-900",children:[p.jsx(aA,{}),p.jsxs("nav",{className:"container mx-auto px-4 md:px-8 py-3 flex gap-3 items-center text-sm text-slate-600 dark:text-slate-300 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[p.jsx(Qo,{to:"/upload",className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:e.header.upload}),p.jsx(Qo,{to:"/stats",className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:e.header.stats}),p.jsx(Qo,{to:"/profile",className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:e.header.profile}),p.jsx("div",{className:"ml-auto",children:p.jsx(iA,{})})]}),p.jsx("main",{className:"container mx-auto p-4 md:p-8",children:p.jsxs(OT,{children:[p.jsx(Cn,{path:"/upload",element:p.jsx(zn,{children:p.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[p.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg",children:p.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:t==="ko"?'     "!"  . AI   ,      .':' When you upload a problem image, you will immediately see an "Uploaded!" message. AI analysis runs in the background, and you can check the results on the statistics page.'})}),p.jsx(Wb,{onImagesSelect:l}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:u,disabled:n.length===0||r,className:"px-8 py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-md hover:bg-indigo-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r?e.upload.uploading:`${e.upload.uploadButton} (${n.length}${e.upload.uploadCount})`})}),r&&p.jsx(Kb,{}),s&&p.jsxs("div",{className:"mt-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-800 text-red-800 dark:text-red-200 rounded-lg text-center",children:[p.jsx("p",{className:"font-semibold",children:e.common.error}),p.jsx("p",{children:s})]})]})})}),p.jsx(Cn,{path:"/edit/:sessionId",element:p.jsx(zn,{children:p.jsx(oA,{})})}),p.jsx(Cn,{path:"/analyzing/:sessionId",element:p.jsx(zn,{children:p.jsx(pz,{})})}),p.jsx(Cn,{path:"/session/:sessionId",element:p.jsx(zn,{children:p.jsx(gz,{})})}),p.jsx(Cn,{path:"/retry",element:p.jsx(zn,{children:p.jsx(mz,{})})}),p.jsx(Cn,{path:"/recent",element:p.jsx(zn,{children:p.jsx(fz,{})})}),p.jsx(Cn,{path:"/stats",element:p.jsx(zn,{children:p.jsx(hz,{})})}),p.jsx(Cn,{path:"/profile",element:p.jsx(zn,{children:p.jsx(bz,{})})}),p.jsx(Cn,{path:"/",element:p.jsx(zn,{children:p.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[p.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg",children:p.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:t==="ko"?'     "!"  . AI   ,      .':' When you upload a problem image, you will immediately see an "Uploaded!" message. AI analysis runs in the background, and you can check the results on the statistics page.'})}),p.jsx(Wb,{onImagesSelect:l}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:u,disabled:n.length===0||r,className:"px-8 py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-md hover:bg-indigo-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r?e.upload.uploading:`${e.upload.uploadButton} (${n.length}${e.upload.uploadCount})`})}),r&&p.jsx(Kb,{}),s&&p.jsxs("div",{className:"mt-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-800 text-red-800 dark:text-red-200 rounded-lg text-center",children:[p.jsx("p",{className:"font-semibold",children:e.common.error}),p.jsx("p",{children:s})]})]})})}),p.jsx(Cn,{path:"*",element:p.jsx(zn,{children:p.jsx("div",{className:"text-center py-10",children:p.jsx("a",{href:"/upload",className:"text-indigo-600 dark:text-indigo-400 underline hover:text-indigo-800 dark:hover:text-indigo-300",children:t==="ko"?"  ":"Go to Upload"})})})})]})}),p.jsx("footer",{className:"text-center py-6 text-slate-500 dark:text-slate-400 text-sm bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:p.jsxs("p",{children:[e.app.customerSupport,": ",p.jsx("a",{href:"mailto:mearidj@gmail.com",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 underline",children:"mearidj@gmail.com"})]})})]})},O1=document.getElementById("root");if(!O1)throw new Error("Could not find root element to mount to");const yz=UC.createRoot(O1);yz.render(p.jsx(j.StrictMode,{children:p.jsx(ZT,{children:p.jsx(cM,{children:p.jsx(eA,{children:p.jsx(vz,{})})})})}));
