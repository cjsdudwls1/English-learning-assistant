---
globs: *.tsx,*.ts,*.css,*.scss
description: 모바일 사용자 친화적 UI/UX 개발 규칙
---

# 모바일 최적화 개발 규칙

## 🎯 핵심 원칙

### 1. 모든 사용자는 모바일 사용자
- **절대 규칙**: 이 프로젝트의 모든 사용자는 모바일 사용자입니다
- **데스크톱 우선 개발 금지**: 데스크톱에서만 잘 보이는 레이아웃은 사용 불가
- **모바일 우선 개발**: 모든 UI/UX는 모바일 화면을 기준으로 설계하고 개발해야 합니다

### 2. 현재 문제점
- **웹 화면**: 데스크톱에서는 정상적으로 보이고 대칭이 맞음
- **모바일 화면**: 
  - 대칭이 안 맞음
  - 요소들이 화면에서 벗어남
  - 레이아웃이 깨짐
  - 터치 영역이 부적절함
  - 텍스트가 잘림
  - 스크롤이 제대로 작동하지 않음

### 3. 개발 원칙
- **모바일 우선 (Mobile First)**: 모든 컴포넌트는 모바일 화면부터 설계
- **반응형 필수**: 데스크톱은 모바일 레이아웃을 확장한 형태
- **터치 친화적**: 버튼과 인터랙티브 요소는 최소 44x44px (터치 영역)
- **화면 크기 고려**: 다양한 모바일 화면 크기에 대응

## 📱 모바일 최적화 체크리스트

### 레이아웃
- [ ] 모든 요소가 화면 너비를 벗어나지 않는가?
- [ ] 좌우 대칭이 모바일에서도 유지되는가?
- [ ] 수평 스크롤이 발생하지 않는가?
- [ ] 컨테이너가 화면 경계를 넘지 않는가?
- [ ] 패딩과 마진이 모바일에서 적절한가?

### 텍스트 및 타이포그래피
- [ ] 텍스트가 화면에서 잘리지 않는가?
- [ ] 폰트 크기가 모바일에서 읽기 적절한가? (최소 14px)
- [ ] 줄바꿈이 적절하게 처리되는가?
- [ ] 텍스트 오버플로우가 발생하지 않는가?

### 버튼 및 인터랙티브 요소
- [ ] 버튼 크기가 터치하기 적절한가? (최소 44x44px)
- [ ] 버튼 간 간격이 충분한가? (최소 8px)
- [ ] 터치 영역이 겹치지 않는가?
- [ ] 버튼이 화면 밖으로 나가지 않는가?

### 차트 및 그래프
- [ ] 차트가 모바일 화면에 맞게 축소되는가?
- [ ] 차트 범례가 화면을 벗어나지 않는가?
- [ ] 차트 데이터가 잘리는가?
- [ ] 터치로 상호작용 가능한가?

### 테이블
- [ ] 테이블이 모바일 화면 너비를 초과하지 않는가?
- [ ] 테이블 스크롤이 수평으로 작동하는가?
- [ ] 테이블 셀 내용이 잘리지 않는가?
- [ ] 모바일에서는 카드 형태로 변환되는가? (선택사항)

### 이미지
- [ ] 이미지가 컨테이너를 벗어나지 않는가?
- [ ] 이미지 비율이 유지되는가?
- [ ] 이미지 로딩이 최적화되어 있는가?

### 네비게이션
- [ ] 네비게이션 메뉴가 모바일에서 접근 가능한가?
- [ ] 햄버거 메뉴가 적절한 위치에 있는가?
- [ ] 네비게이션 항목이 터치하기 쉬운가?

### 폼 요소
- [ ] 입력 필드가 화면 너비에 맞는가?
- [ ] 입력 필드가 키보드에 가려지지 않는가?
- [ ] 라벨과 입력 필드가 적절히 배치되어 있는가?
- [ ] 제출 버튼이 쉽게 접근 가능한가?

## 🛠️ 개발 가이드

### 반응형 디자인 패턴

#### ✅ 올바른 패턴
```tsx
// 모바일 우선 접근
<div className="w-full px-4 py-2 sm:px-6 sm:py-4">
  <button className="w-full sm:w-auto min-h-[44px]">
    버튼
  </button>
</div>
```

#### ❌ 잘못된 패턴
```tsx
// 데스크톱 우선 접근 (금지)
<div className="w-[1200px] mx-auto">
  <button className="w-[200px]">
    버튼
  </button>
</div>
```

### Tailwind CSS 모바일 우선 클래스

#### 화면 너비 제어
```tsx
// ✅ 올바른 패턴
<div className="w-full max-w-full px-4">
  {/* 내용 */}
</div>

// ❌ 잘못된 패턴
<div className="w-[1200px] mx-auto">
  {/* 고정 너비는 모바일에서 문제 발생 */}
</div>
```

#### 그리드 레이아웃
```tsx
// ✅ 올바른 패턴
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  {/* 모바일: 1열, 태블릿: 2열, 데스크톱: 3열 */}
</div>

// ❌ 잘못된 패턴
<div className="grid grid-cols-3 gap-4">
  {/* 모바일에서 너무 좁음 */}
</div>
```

#### 플렉스 레이아웃
```tsx
// ✅ 올바른 패턴
<div className="flex flex-col sm:flex-row gap-4">
  {/* 모바일: 세로, 데스크톱: 가로 */}
</div>

// ❌ 잘못된 패턴
<div className="flex flex-row">
  {/* 모바일에서 요소가 겹침 */}
</div>
```

### 터치 친화적 버튼

#### ✅ 올바른 패턴
```tsx
<button className="min-h-[44px] min-w-[44px] px-4 py-2">
  버튼
</button>
```

#### ❌ 잘못된 패턴
```tsx
<button className="h-8 w-20">
  {/* 터치하기 어려움 */}
</button>
```

### 텍스트 오버플로우 처리

#### ✅ 올바른 패턴
```tsx
<div className="w-full overflow-hidden">
  <p className="text-sm sm:text-base break-words truncate">
    긴 텍스트 내용
  </p>
</div>
```

#### ❌ 잘못된 패턴
```tsx
<div className="w-[300px]">
  <p className="text-base">
    {/* 고정 너비로 인해 모바일에서 문제 */}
  </p>
</div>
```

### 차트 모바일 최적화

#### ✅ 올바른 패턴
```tsx
<div className="w-full overflow-x-auto">
  <div className="min-w-[300px]">
    <Chart width="100%" height={300} />
  </div>
</div>
```

#### ❌ 잘못된 패턴
```tsx
<div className="w-[800px]">
  <Chart width={800} height={400} />
  {/* 고정 너비로 인해 모바일에서 벗어남 */}
</div>
```

## 🧪 테스트 체크리스트

### 개발 중 필수 확인
1. **브라우저 개발자 도구**: 모바일 뷰포트로 테스트
   - iPhone SE (375px)
   - iPhone 12/13/14 (390px)
   - iPhone 14 Pro Max (430px)
   - Samsung Galaxy S20 (360px)

3. **화면 회전 테스트**
   - 세로 모드 (Portrait)
   - 가로 모드 (Landscape)

### 배포 전 필수 확인
- [ ] 모든 페이지가 모바일에서 정상적으로 보이는가?
- [ ] 모든 버튼이 터치 가능한가?
- [ ] 텍스트가 잘리지 않는가?
- [ ] 차트/그래프가 화면에 맞게 표시되는가?
- [ ] 테이블이 스크롤 가능한가?
- [ ] 네비게이션이 작동하는가?
- [ ] 폼이 제대로 작동하는가?

## ⚠️ 절대 하지 말 것

### 레이아웃
- ❌ 고정 너비 사용 (`w-[1200px]`, `width: 1200px`)
- ❌ 절대 위치 지정으로 화면 밖 배치
- ❌ 모바일에서 수평 스크롤 발생시키기
- ❌ 패딩/마진을 데스크톱 기준으로만 설정

### 버튼 및 인터랙티브
- ❌ 터치하기 어려운 작은 버튼 (44px 미만)
- ❌ 버튼 간격이 너무 좁음 (8px 미만)
- ❌ 화면 밖으로 나가는 버튼

### 텍스트
- ❌ 고정 너비로 인한 텍스트 잘림
- ❌ 모바일에서 읽기 어려운 작은 폰트 (14px 미만)
- ❌ 오버플로우 처리 없음

### 차트 및 그래프
- ❌ 고정 크기 차트 (모바일에서 벗어남)
- ❌ 범례가 화면 밖으로 나감
- ❌ 터치 불가능한 인터랙티브 요소

## 🎯 개발 워크플로우

### 1. 컴포넌트 개발 시
1. **모바일 뷰포트로 시작**: 브라우저 개발자 도구에서 모바일 뷰포트 설정
2. **모바일 레이아웃 완성**: 모바일에서 완벽하게 작동하도록 개발
3. **데스크톱 확장**: `sm:`, `md:`, `lg:` 브레이크포인트로 데스크톱 레이아웃 추가
4. **다양한 화면 크기 테스트**: 여러 모바일 기기 크기로 테스트

### 2. 코드 리뷰 시
- [ ] 모바일 뷰포트에서 테스트했는가?
- [ ] 모든 요소가 화면 안에 있는가?
- [ ] 터치 영역이 적절한가?
- [ ] 텍스트가 잘리지 않는가?

### 3. 배포 전
- [ ] 다양한 모바일 브라우저에서 테스트
- [ ] 화면 회전 테스트
- [ ] 터치 인터랙션 테스트

## 📝 참고사항

### Tailwind CSS 브레이크포인트
- `sm`: 640px 이상 (작은 태블릿)
- `md`: 768px 이상 (태블릿)
- `lg`: 1024px 이상 (데스크톱)
- `xl`: 1280px 이상 (큰 데스크톱)

### 모바일 화면 크기 범위
- **작은 모바일**: 320px - 375px
- **일반 모바일**: 375px - 414px
- **큰 모바일**: 414px - 480px

### 터치 영역 권장 크기
- **최소 버튼 크기**: 44x44px
- **버튼 간 최소 간격**: 8px
- **입력 필드 높이**: 최소 44px

## 🚨 재발 방지 원칙

1. **모바일 우선 개발**: 항상 모바일부터 시작
2. **고정 크기 금지**: `w-full`, `max-w-full` 사용
3. **반응형 필수**: 모든 레이아웃은 반응형으로
4. **터치 친화적**: 모든 인터랙티브 요소는 터치 가능하게
5. **테스트 필수**: 배포 전 모바일 테스트 반드시 수행
