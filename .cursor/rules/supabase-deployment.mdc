---
description: Supabase 배포 및 테스트 관련 규칙
---

# Supabase 배포 및 테스트 규칙

## 🚀 Edge Function 배포 규칙

### Edge Function 배포 시
- **절대 사용**: Supabase CLI (`npx supabase functions deploy`)
- **반드시 사용**: Supabase MCP (`mcp_supabase_deploy_edge_function`)
- **이유**: CLI 로그인 문제 해결 및 안정적인 배포

### Edge Function 배포 절차
1. Edge Function 코드 준비
2. `mcp_supabase_deploy_edge_function` 도구 사용
3. 배포 결과 확인 (status: ACTIVE)
4. 테스트 진행

## 🔐 Supabase 로그인 규칙

### 브라우저 도구로 Supabase 로그인 시
- **로그인 방법**: GitHub 계정 사용
- **GitHub 계정 정보**:
  - 이메일: `cjsdudwls1357@gmail.com`
  - 비밀번호: `asas6012!!`
- **2FA 처리**: 모바일 인증 대기 → 사용자 승인 후 진행

### 로그인 절차
1. Supabase 대시보드 접속
2. GitHub 계정으로 로그인
3. 2FA 인증 대기
4. 사용자 승인 후 작업 진행

## 🧪 앱 테스트 규칙

### 브라우저 도구로 앱 테스트 시
- **테스트 계정**:
  - 이메일: `cjsdudwls1357@gmail.com`
  - 비밀번호: `asas6012`
- **테스트 절차**:
  1. 앱 접속
  2. 위 계정으로 로그인
  3. 이미지 업로드 테스트
  4. 전체 플로우 검증

## 📋 배포 체크리스트

### Edge Function 배포 전
- [ ] Edge Function 코드 검토
- [ ] 환경 변수 확인 (SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, GEMINI_API_KEY)
- [ ] Supabase MCP 도구 준비

### Edge Function 배포 후
- [ ] 배포 상태 확인 (ACTIVE)
- [ ] Function URL 테스트
- [ ] 로그 확인

### 앱 테스트 시
- [ ] 테스트 계정으로 로그인
- [ ] 이미지 업로드 테스트
- [ ] AnalyzingCard 표시 확인
- [ ] QuickLabelingCard 표시 확인
- [ ] 데이터 격리 테스트

## ⚠️ 주의사항

### 보안 관련
- 테스트 계정 정보는 개발 환경에서만 사용
- 프로덕션 환경에서는 다른 계정 사용
- 계정 정보 노출 방지

### 배포 관련
- Edge Function 배포 시 반드시 Supabase MCP 사용
- CLI 사용 금지 (로그인 문제)
- 배포 후 반드시 테스트 진행

### 테스트 관련
- 브라우저 테스트 시 지정된 계정 사용
- 2FA 인증 시 사용자 승인 대기
- 테스트 완료 후 로그아웃